"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7211],{1252:function(e,t,r){r.d(t,{O:function(){return s}});var n=r(49501),a=r(85893),s=function(){return(0,a.jsx)(n.cC,{id:"Due to internal stETH mechanics required for rebasing support, it is not possible to perform a collateral switch where stETH is the source token."})}},81902:function(e,t,r){var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},25049:function(e,t,r){r.d(t,{Y:function(){return d}});var n=r(59499),a=r(4730),s=r(49501),o=r(81902),i=r(58527),l=r(85893),c=["capType"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.capType,r=(0,a.Z)(e,c),n=t===o.R.supplyCap?(0,l.jsx)(s.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,l.jsx)(s.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,l.jsx)(i.G,p(p({},r),{},{children:n}))}},53601:function(e,t,r){r.d(t,{l:function(){return C},W:function(){return D}});var n=r(59499),a=r(4730),s=r(49501),o=r(33740),i=r(62097),l=r(30120),c=r(29630),u=r(90149),p=r(81011),d=r(80562),m=r(55343),x=r(46541),f=r(31538),y=r(61702),b=r(75084),h=r(67294),v=r(57333),g=r(78371),j=r(25049),A=r(41024),w=r(72667),O=r(85893),S=["onChange"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=h.forwardRef((function(e,t){var r=e.onChange,n=(0,a.Z)(e,S);return(0,O.jsx)(v.Z,E(E({},n),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),D=function(e){var t=e.value,r=e.usdValue,n=e.symbol,a=e.onChange,h=e.disabled,v=e.disableInput,S=e.onSelect,T=e.assets,D=e.capType,L=e.maxValue,P=e.isMaxSelected,I=e.inputTitle,_=e.balanceText,Z=e.loading,k=void 0!==Z&&Z,N=e.event,R=e.selectOptionHeader,B=e.selectOption,F=e.sx,U=void 0===F?{}:F,z=e.exchangeRateComponent,H=(0,i.Z)(),V=(0,g.Y)((function(e){return e.trackEvent})),W=1===T.length?T[0]:T&&T.find((function(e){return e.symbol===n}));return(0,O.jsxs)(l.Z,E(E({},U),{},{children:[(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,O.jsx)(c.Z,{color:"text.secondary",children:I||(0,O.jsx)(s.cC,{id:"Amount"})}),D&&(0,O.jsx)(j.Y,{capType:D})]}),(0,O.jsxs)(l.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[k?(0,O.jsx)(l.Z,{sx:{flex:1},children:(0,O.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,O.jsx)(p.ZP,{sx:{flex:1},placeholder:"0.00",disabled:h||v,value:t,autoFocus:!0,onChange:function(e){a&&(Number(e.target.value)>Number(L)?a("-1"):a(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:C}),""!==t&&!v&&(0,O.jsx)(d.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){a&&a("")},disabled:h,children:(0,O.jsx)(o.Z,{height:16})}),S&&1!==T.length?(0,O.jsx)(m.Z,{children:(0,O.jsxs)(x.Z,{disabled:h,value:W.symbol,onChange:function(e){var t=T.find((function(t){return t.symbol===e.target.value}));S&&S(t),a&&a("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===H.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===T.length?T[0]:T&&T.find((function(t){return t.symbol===e}));return(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,O.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,O.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[R||void 0,T.map((function(e){return(0,O.jsx)(f.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:B?B(e):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,O.jsx)(y.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,O.jsx)(A.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,O.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,O.jsx)(w.T1,{aToken:W.aToken,symbol:W.iconSymbol||W.symbol,sx:{mr:2,ml:4}}),(0,O.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,O.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[k?(0,O.jsx)(l.Z,{sx:{flex:1}}):(0,O.jsx)(A.B,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),W.balance&&a&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[_&&""!==_?_:(0,O.jsx)(s.cC,{id:"Balance"})," ",(0,O.jsx)(A.B,{value:W.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!v&&(0,O.jsx)(b.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){N&&V(N.eventName,E({},N.eventParams)),a("-1")},disabled:h||P,children:(0,O.jsx)(s.cC,{id:"Max"})})]})]}),z&&(0,O.jsx)(l.Z,{sx:{background:H.palette.background.surface,borderTop:"1px solid ".concat(H.palette.divider),px:3,py:2},children:z})]})]}))}},17211:function(e,t,r){r.r(t),r.d(t,{SwapModal:function(){return ce}});var n=r(59499),a=r(49501),s=r(67294),o=r(31959),i=r(47130),l=r(8195),c=r(94635),u=r(67484),p=r(30120),d=r(81645),m=r(29630),x=r(9144),f=r(70794),y=r(25935),b=r(41024),h=r(72667),v=r(69331),g=r(53601),j=r(57824),A=r(1252),w=r(29946),O=r(74119),S=r(30313),T=r(43629),E=r(46930),C=r(25808),D=r(77537),L=r(12036),P=r(94847),I=r(69125),_=r(68448),Z=r(87385),k=r(46839),N=r(93608),R=r(94671),B=r(99730),F=r(50029),U=r(17674),z=r(4730),H=r(87794),V=r.n(H),W=r(75331),M=r(80854),Y=r(21732),q=r(78371),G=r(67489),K=r(85893),Q=["amountToSwap","amountToReceive","isWrongNetwork","sx","poolReserve","targetReserve","isMaxSelected","useFlashLoan","loading","symbol","blocked","buildTxFn"];function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var J=function(e){var t,r=e.amountToSwap,s=e.amountToReceive,o=e.isWrongNetwork,i=e.sx,l=e.poolReserve,c=e.targetReserve,u=e.isMaxSelected,p=e.useFlashLoan,d=e.loading,m=e.symbol,x=e.blocked,f=e.buildTxFn,y=(0,z.Z)(e,Q),b=(0,q.Y)((function(e){return[e.swapCollateral,e.currentMarketData]})),h=(0,U.Z)(b,2),v=h[0],g=h[1],j=(0,Y.P)({protocolAction:W.UQ.swapCollateral,handleGetTxns:function(){var e=(0,F.Z)(V().mark((function e(t,n){var a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return a=e.sent,e.abrupt("return",v({amountToSwap:r,amountToReceive:s,poolReserve:l,targetReserve:c,isWrongNetwork:o,symbol:m,blocked:x,isMaxSelected:u,useFlashLoan:p,swapCallData:a.swapCallData,augustus:a.augustus,signature:t,deadline:n,signedAmount:(0,O.sm)(r,l.decimals)}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),handleGetApprovalTxns:function(){var e=(0,F.Z)(V().mark((function e(){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v({amountToSwap:r,amountToReceive:s,poolReserve:l,targetReserve:c,isWrongNetwork:o,symbol:m,blocked:x,isMaxSelected:u,useFlashLoan:!1,swapCallData:"0x",augustus:M.hP}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gasLimitRecommendation:M.eB[W.UQ.swapCollateral].limit,skip:d||!r||0===parseFloat(r),spender:null!==(t=g.addresses.SWAP_COLLATERAL_ADAPTER)&&void 0!==t?t:"",deps:[c.symbol,r]}),A=j.approval,w=j.action,S=j.approvalTxState,T=j.mainTxState,E=j.loadingTxns,C=j.requiresApproval;return(0,K.jsx)(G.B,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mainTxState:T,approvalTxState:S,isWrongNetwork:o,preparingTransactions:E,handleAction:w,requiresAmount:!0,amount:r,blocked:x,handleApproval:function(){return A({amount:(0,O.sm)(r,l.decimals),underlyingAsset:l.aTokenAddress})},requiresApproval:C,actionText:(0,K.jsx)(a.cC,{id:"Switch"}),actionInProgressText:(0,K.jsx)(a.cC,{id:"Switching"}),sx:i,fetchingData:d,errorParams:{loading:!1,disabled:x,content:(0,K.jsx)(a.cC,{id:"Switch"}),handleClick:w},tryPermit:!0},y))},$=r(1279),ee=r(76384),te=r(91655),re=r(92391),ne=function(e){var t=e.showHealthFactor,r=e.healthFactor,n=e.healthFactorAfterSwap,s=e.swapSource,o=e.swapTarget,i=e.toAmount,l=e.fromAmount,c=e.loading,u=(0,$.hE)(s.underlyingBalance).minus((0,$.hE)(l)),m=(0,$.hE)(o.underlyingBalance).plus((0,$.hE)(i)),x=(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(te.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,K.jsx)(te.Z,{variant:"rectangular",height:15,width:80,sx:{borderRadius:"4px",marginTop:"4px"}})]});return(0,K.jsxs)(K.Fragment,{children:[n&&(0,K.jsx)(j.jz,{healthFactor:r,futureHealthFactor:n,visibleHfChange:t,loading:c}),(0,K.jsx)(j.oD,{description:(0,K.jsx)(a.cC,{id:"Supply apy"}),value:s.reserve.supplyAPY,futureValue:o.reserve.supplyAPY,percent:!0,loading:c}),(0,K.jsx)(re.X,{caption:(0,K.jsx)(a.cC,{id:"Collateralization"}),captionVariant:"description",mb:4,children:(0,K.jsx)(p.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"flex-end"},children:c?(0,K.jsx)(te.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(j.JV,{collateralType:s.collateralType}),(0,K.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,K.jsx)(d.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,K.jsx)(ee.Z,{})}),(0,K.jsx)(j.JV,{collateralType:o.collateralType})]})]})})}),(0,K.jsx)(j.aE,{incentives:s.reserve.aIncentivesData,symbol:s.reserve.symbol,futureIncentives:o.reserve.aIncentivesData,futureSymbol:o.reserve.symbol,loading:c}),(0,K.jsx)(j.oD,{description:(0,K.jsx)(a.cC,{id:"Liquidation threshold"}),value:s.reserve.formattedReserveLiquidationThreshold,futureValue:o.reserve.formattedReserveLiquidationThreshold,percent:!0,visibleDecimals:0,loading:c}),(0,K.jsx)(re.X,{caption:(0,K.jsx)(a.cC,{id:"Supply balance after switch"}),captionVariant:"description",mb:4,align:"flex-start",children:(0,K.jsxs)(p.Z,{sx:{textAlign:"right"},children:[(0,K.jsx)(p.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:c?x:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,K.jsx)(h.T1,{symbol:s.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,K.jsx)(b.B,{value:u.toString(),variant:"secondary14",compact:!0})]}),(0,K.jsx)(b.B,{value:u.multipliedBy((0,$.hE)(s.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})}),(0,K.jsx)(p.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},mt:2,children:c?x:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,K.jsx)(h.T1,{symbol:o.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,K.jsx)(b.B,{value:m.toString(),variant:"secondary14",compact:!0})]}),(0,K.jsx)(b.B,{value:m.multipliedBy((0,$.hE)(o.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})})]})})]})};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=function(e){var t=e.poolReserve,r=e.userReserve,n=e.isWrongNetwork,o=e.user,i=(0,k.HT)(),c=i.reserves,F=i.marketReferencePriceInUsd,U=(0,E.f)(),z=U.currentChainId,H=U.currentMarket,V=U.currentNetworkConfig,W=(0,D.Z)().currentAccount,M=(0,l.vR)(),Y=M.gasLimit,q=M.mainTxState,G=M.txError,Q=c.filter((function(e){return!(0,I.F$)({symbol:e.symbol,currentMarket:H})})).filter((function(e){return e.underlyingAsset!==t.underlyingAsset&&!e.isFrozen})).map((function(e){return{address:e.underlyingAsset,symbol:e.symbol,iconSymbol:e.iconSymbol}})),X=(0,s.useState)(""),$=X[0],ee=X[1],te=(0,s.useRef)(""),re=(0,s.useState)(Q[0]),ae=re[0],oe=re[1],ie=(0,s.useState)("0.1"),le=ie[0],ce=ie[1],ue=o.userReservesData.find((function(e){return e.underlyingAsset===ae.address})),pe=f.Z.min(r.underlyingBalance,new f.Z(t.availableLiquidity).multipliedBy(.99)).toString(10),de="-1"===$,me=de?pe:$,xe=(0,S.k)({chainId:V.underlyingChainId||z,userAddress:W,swapIn:se(se({},t),{},{amount:te.current}),swapOut:se(se({},ue.reserve),{},{amount:"0"}),max:de,skip:q.loading||!1,maxSlippage:Number(le)}),fe=xe.inputAmountUSD,ye=xe.inputAmount,be=xe.outputAmount,he=xe.outputAmountUSD,ve=xe.error,ge=xe.loading,je=xe.buildTxFn,Ae=ge&&"0"===he,we=(0,_._S)({fromAmount:me,fromAssetData:t,fromAssetUserData:r,user:o,toAmountAfterSlippage:be,toAssetData:ue.reserve}),Oe=we.hfAfterSwap,Se=we.hfEffectOfFromAmount,Te=(0,R.gK)(o.healthFactor,Se),Ee=(0,P.x)(ue.reserve.supplyCap,ue.reserve.totalLiquidity),Ce=(0,Z.N4)(Ee,ue.reserve.formattedPriceInMarketReferenceCurrency,F),De=(0,C.W)(),Le=void 0;De.length>0&&!De.includes(t.symbol)?Le=R.NI.ZERO_LTV_WITHDRAW_BLOCKED:!Ee.eq("-1")&&Ce.lt(he)?Le=R.NI.SUPPLY_CAP_REACHED:Te&&!t.flashLoanEnabled&&(Le=R.NI.FLASH_LOAN_NOT_AVAILABLE);var Pe=function(){switch(Le){case R.NI.SUPPLY_CAP_REACHED:return(0,K.jsx)(a.cC,{id:"Supply cap on target reserve reached. Try lowering the amount."});case R.NI.ZERO_LTV_WITHDRAW_BLOCKED:return(0,K.jsx)(a.cC,{id:"Assets with zero LTV ({0}) must be withdrawn or disabled as collateral to perform this action",values:{0:De.join(", ")}});case R.NI.FLASH_LOAN_NOT_AVAILABLE:return(0,K.jsx)(a.cC,{id:"Due to health factor impact, a flashloan is required to perform this transaction, but Aave Governance has disabled flashloan availability for this asset. Try lowering the amount or supplying additional collateral."});default:return null}};if(q.success)return(0,K.jsx)(N.R,{action:(0,K.jsx)(a.cC,{id:"Switched"}),amount:te.current,symbol:t.symbol});var Ie=o&&"0"!==o.totalBorrowsMarketReferenceCurrency&&"0"!==t.reserveLiquidationThreshold,_e=(0,T.wD)(ue.reserve).debtCeilingReached,Ze=(0,R.yI)(r,o.totalCollateralUSD,o.isInIsolationMode,_e),ke=(0,T.wD)(ue.reserve).debtCeilingReached,Ne=(0,R.yI)(ue,o.totalCollateralUSD,o.isInIsolationMode,ke);if(de&&Ze===w.z.ISOLATED_ENABLED&&"0"===ue.underlyingBalance&&(Ne=ue.reserve.isIsolated?w.z.ISOLATED_ENABLED:w.z.ENABLED),de&&Ze===w.z.ENABLED&&"0"===ue.underlyingBalance&&ue.reserve.isIsolated){var Re=o.userReservesData.filter((function(e){return e.usageAsCollateralEnabledOnUser}));1===Re.length&&Re[0].underlyingAsset===r.underlyingAsset&&(Ne=w.z.ISOLATED_ENABLED)}var Be=(0,O.IG)(be,le,ue.reserve.decimals);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(g.W,{value:me,onChange:function(e){var t="-1"===e;te.current=t?pe:e,ee(e)},usdValue:fe,symbol:t.iconSymbol,assets:[{balance:pe,address:t.underlyingAsset,symbol:t.symbol,iconSymbol:t.iconSymbol}],maxValue:pe,inputTitle:(0,K.jsx)(a.cC,{id:"Supplied asset amount"}),balanceText:(0,K.jsx)(a.cC,{id:"Supply balance"}),isMaxSelected:de}),(0,K.jsxs)(p.Z,{sx:{padding:"18px",pt:"14px",display:"flex",justifyContent:"space-between"},children:[(0,K.jsx)(d.Z,{sx:{fontSize:"18px !important"},children:(0,K.jsx)(u.Z,{})}),(0,K.jsx)(y.B,{loading:Ae,outputAmountUSD:he,inputAmountUSD:fe})]}),(0,K.jsx)(g.W,{value:be,onSelect:oe,usdValue:he,symbol:ae.symbol,assets:Q,inputTitle:(0,K.jsx)(a.cC,{id:"Switch to"}),balanceText:(0,K.jsx)(a.cC,{id:"Supply balance"}),disableInput:!0,loading:Ae}),ve&&!Ae&&(0,K.jsx)(m.Z,{variant:"helperText",color:"error.main",children:ve}),!ve&&void 0!==Le&&(0,K.jsx)(m.Z,{variant:"helperText",color:"error.main",children:(0,K.jsx)(Pe,{})}),"stETH"===ue.reserve.symbol&&(0,K.jsx)(v.v,{severity:"warning",sx:{mt:2,mb:0},children:(0,K.jsx)(A.O,{})}),(0,K.jsx)(j.m6,{gasLimit:Y,slippageSelector:(0,K.jsx)(L.n,{selectedSlippage:le,setSlippage:ce,slippageTooltipHeader:(0,K.jsxs)(x.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"space-between",children:[(0,K.jsx)(a.cC,{id:"Minimum amount received"}),(0,K.jsx)(x.Z,{alignItems:"end",children:(0,K.jsxs)(x.Z,{direction:"row",children:[(0,K.jsx)(h.T1,{symbol:ue.reserve.iconSymbol,sx:{mr:1,fontSize:"14px"}}),(0,K.jsx)(b.B,{value:Be,variant:"secondary12"})]})})]})}),children:(0,K.jsx)(ne,{showHealthFactor:Ie,healthFactor:null===o||void 0===o?void 0:o.healthFactor,healthFactorAfterSwap:Oe.toString(10),swapSource:se(se({},r),{},{collateralType:Ze}),swapTarget:se(se({},ue),{},{collateralType:Ne}),toAmount:be,fromAmount:""===me?"0":me,loading:Ae})}),G&&(0,K.jsx)(B.f,{txError:G}),(0,K.jsx)(J,{isMaxSelected:de,poolReserve:t,amountToSwap:ye,amountToReceive:Be,isWrongNetwork:n,targetReserve:ue.reserve,symbol:t.symbol,blocked:void 0!==Le||""!==ve||"stETH"===ue.reserve.symbol,useFlashLoan:Te,loading:ge,buildTxFn:je})]})};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(){var e=(0,l.vR)(),t=e.type,r=e.close,n=e.args;return(0,K.jsx)(o.P,{open:t===l.w8.Swap,setOpen:r,children:(0,K.jsx)(c.A,{title:(0,K.jsx)(a.cC,{id:"Switch"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,K.jsx)(i.X,{children:function(t){return(0,K.jsx)(oe,le(le({},e),{},{user:t}))}})}})})}},94671:function(e,t,r){r.d(t,{NI:function(){return n},gK:function(){return o},pQ:function(){return i},Fi:function(){return l},iv:function(){return c},yI:function(){return u}});var n,a=r(70794),s=r(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(n||(n={}));var o=function(e,t){return"-1"!==e&&new a.O(e).minus(new a.O(t)).lt("1.05")},i=65e3,l=55e3,c=function(e){var t=e.approvedAmount,r=e.signedAmount,n=e.amount;return!("-1"===t||"-1"===r||"0"!==t&&Number(t)>=Number(n)||Number(r)>=Number(n))},u=function(e,t,r,n){var a=e.reserve;if(!a.usageAsCollateralEnabled)return s.z.UNAVAILABLE;var o=s.z.ENABLED,i=e&&"0"!==e.scaledATokenBalance,l="0"!==t;return a.isIsolated?n?o=s.z.UNAVAILABLE:r?i?o=e.usageAsCollateralEnabledOnUser?s.z.ISOLATED_ENABLED:s.z.DISABLED:l&&(o=s.z.UNAVAILABLE_DUE_TO_ISOLATION):o=l?s.z.ISOLATED_DISABLED:s.z.ISOLATED_ENABLED:o=r?s.z.UNAVAILABLE_DUE_TO_ISOLATION:i?e.usageAsCollateralEnabledOnUser?s.z.ENABLED:s.z.DISABLED:s.z.ENABLED,o}},30313:function(e,t,r){r.d(t,{k:function(){return c}});var n=r(50029),a=r(87794),s=r.n(a),o=r(1279),i=r(67294),l=r(74119),c=function(e){var t=e.chainId,r=e.max,a=e.maxSlippage,c=e.swapIn,u=e.swapOut,p=e.userAddress,d=e.skip,m=(0,i.useState)("0"),x=m[0],f=m[1],y=(0,i.useState)("0"),b=y[0],h=y[1],v=(0,i.useState)("0"),g=v[0],j=v[1],A=(0,i.useState)("0"),w=A[0],O=A[1],S=(0,i.useState)(),T=S[0],E=S[1],C=(0,i.useState)(!1),D=C[0],L=C[1],P=(0,i.useState)(""),I=P[0],_=P[1],Z=(0,i.useMemo)((function(){return{underlyingAsset:c.underlyingAsset,decimals:c.decimals,supplyAPY:c.supplyAPY,amount:c.amount,variableBorrowAPY:c.variableBorrowAPY}}),[c.amount,c.decimals,c.supplyAPY,c.underlyingAsset,c.variableBorrowAPY]),k=(0,i.useMemo)((function(){return{underlyingAsset:u.underlyingAsset,decimals:u.decimals,supplyAPY:u.supplyAPY,amount:u.amount,variableBorrowAPY:u.variableBorrowAPY}}),[u.amount,u.decimals,u.supplyAPY,u.underlyingAsset,u.variableBorrowAPY]),N=(0,i.useCallback)((function(){return(0,l.F8)(Z,k,t,p,r)}),[t,Z,k,p,r]);return(0,i.useEffect)((function(){if(!d){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.underlyingAsset&&k.underlyingAsset&&Z.amount&&"0"!==Z.amount&&!isNaN(+Z.amount)){e.next=7;break}return f("0"),j("0"),O("0"),h("0"),E(void 0),e.abrupt("return");case 7:return L(!0),e.prev=8,e.next=11,N();case 11:t=e.sent,_(""),E(t),f((0,o.Fv)(t.srcAmount,t.srcDecimals)),h(t.srcUSD),j((0,o.Fv)(t.destAmount,t.destDecimals)),O(t.destUSD),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(8),console.error(e.t0),r=(0,l.aE)(e.t0.message),_(r);case 25:return e.prev=25,L(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,20,25,28]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){e()}),400);return function(){clearTimeout(t)}}}),[I,d,Z.underlyingAsset,k.underlyingAsset,N,a,Z.amount,p,r]),{outputAmount:g,outputAmountUSD:w,inputAmount:x,inputAmountUSD:b,loading:D,error:I,buildTxFn:function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}throw new Error("Route required to build transaction");case 2:return e.abrupt("return",(0,l.xS)(T,c,u,t,p,a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}},94847:function(e,t,r){r.d(t,{x:function(){return i},I:function(){return l}});var n=r(80854),a=r(1279),s=r(70794),o=r(87385);function i(e,t){return"0"===e?new s.Z(-1):new s.Z(e).minus(t)}function l(e,t,r,l){if(t.isFrozen)return"0";var c=(0,a.hE)(e);return c.gt(0)&&r.toLowerCase()===n.hP.toLowerCase()&&(c=c.minus(l)),"0"!==t.supplyCap&&(c=s.Z.min(c,i(t.supplyCap,t.totalLiquidity))),c.lte(0)?"0":(0,o.$w)(c.toString(10),t.decimals)}},76384:function(e,t,r){var n=r(67294);const a=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"}))}));t.Z=a},67484:function(e,t,r){var n=r(67294);const a=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}))}));t.Z=a}}]);