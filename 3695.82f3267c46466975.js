"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3695],{62753:function(e,r,t){var n=t(64836);r.Z=void 0;var o=n(t(64938)),s=t(85893),a=(0,o.default)((0,s.jsx)("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"LocalGasStation");r.Z=a},89722:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(87462),o=t(63366),s=t(67294),a=t(86010),i=t(94780),l=t(81719),c=t(78884),u=t(36622),d=t(34867);function f(e){return(0,d.Z)("MuiIcon",e)}(0,t(1588).Z)("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=t(85893);const v=["baseClassName","className","color","component","fontSize"],p=(0,l.ZP)("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"inherit"!==t.color&&r[`color${(0,u.Z)(t.color)}`],r[`fontSize${(0,u.Z)(t.fontSize)}`]]}})((({theme:e,ownerState:r})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[r.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[r.color]}))),m=s.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiIcon"}),{baseClassName:s="material-icons",className:l,color:d="inherit",component:m="span",fontSize:b="medium"}=t,y=(0,o.Z)(t,v),C=(0,n.Z)({},t,{baseClassName:s,color:d,component:m,fontSize:b}),g=(e=>{const{color:r,fontSize:t,classes:n}=e,o={root:["root","inherit"!==r&&`color${(0,u.Z)(r)}`,`fontSize${(0,u.Z)(t)}`]};return(0,i.Z)(o,f,n)})(C);return(0,h.jsx)(p,(0,n.Z)({as:m,className:(0,a.default)(s,"notranslate",g.root,l),ownerState:C,"aria-hidden":!0,ref:r},y))}));m.muiName="Icon";var b=m},9144:function(e,r,t){var n=t(63366),o=t(87462),s=t(67294),a=t(95408),i=t(98700),l=t(39707),c=t(59766),u=t(81719),d=t(78884),f=t(85893);const h=["component","direction","spacing","divider","children"];function v(e,r){const t=s.Children.toArray(e).filter(Boolean);return t.reduce(((e,n,o)=>(e.push(n),o<t.length-1&&e.push(s.cloneElement(r,{key:`separator-${o}`})),e)),[])}const p=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>[r.root]})((({ownerState:e,theme:r})=>{let t=(0,o.Z)({display:"flex",flexDirection:"column"},(0,a.k9)({theme:r},(0,a.P$)({values:e.direction,breakpoints:r.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const n=(0,i.hB)(r),o=Object.keys(r.breakpoints.values).reduce(((r,t)=>(("object"===typeof e.spacing&&null!=e.spacing[t]||"object"===typeof e.direction&&null!=e.direction[t])&&(r[t]=!0),r)),{}),s=(0,a.P$)({values:e.direction,base:o}),l=(0,a.P$)({values:e.spacing,base:o});"object"===typeof s&&Object.keys(s).forEach(((e,r,t)=>{if(!s[e]){const n=r>0?s[t[r-1]]:"column";s[e]=n}}));const u=(r,t)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=t?s[t]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,i.NA)(n,r)}};var o};t=(0,c.Z)(t,(0,a.k9)({theme:r},l,u))}return t=(0,a.dt)(r.breakpoints,t),t})),m=s.forwardRef((function(e,r){const t=(0,d.Z)({props:e,name:"MuiStack"}),s=(0,l.Z)(t),{component:a="div",direction:i="column",spacing:c=0,divider:u,children:m}=s,b=(0,n.Z)(s,h),y={direction:i,spacing:c};return(0,f.jsx)(p,(0,o.Z)({as:a,ownerState:y,ref:r},b,{children:u?v(m,u):m}))}));r.Z=m},34204:function(e,r,t){t.r(r),t.d(r,{CollateralChangeModal:function(){return k}});var n,o=t(59499),s=t(49501),a=t(67294),i=t(47130),l=t(8195),c=t(31959),u=t(94635),d=t(1279),f=t(20854),h=t(29630),v=t(69331),p=t(43629),m=t(25808),b=t(67916),y=t(93608),C=t(57824),g=t(18384),w=t(50029),S=t(87794),_=t.n(S),E=t(75331),x=t(89291),A=t(78371),O=t(67489),R=t(85893),T=function(e){var r=e.poolReserve,t=e.isWrongNetwork,n=e.usageAsCollateral,o=e.blocked,a=e.symbol,i=(0,A.Y)((function(e){return e.setUsageAsCollateral})),l=(0,x.Q)({tryPermit:!1,protocolAction:E.UQ.setUsageAsCollateral,eventTxInfo:{assetName:r.name,asset:r.underlyingAsset,previousState:(!n).toString(),newState:n.toString()},handleGetTxns:function(){var e=(0,w.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i({reserve:r.underlyingAsset,usageAsCollateral:n}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:o}),c=l.action,u=l.loadingTxns,d=l.mainTxState,f=l.requiresApproval;return(0,R.jsx)(O.B,{requiresApproval:f,blocked:o,preparingTransactions:u,mainTxState:d,isWrongNetwork:t,actionText:n?(0,R.jsx)(s.cC,{id:"Enable {symbol} as collateral",values:{symbol:a}}):(0,R.jsx)(s.cC,{id:"Disable {symbol} as collateral",values:{symbol:a}}),actionInProgressText:(0,R.jsx)(s.cC,{id:"Pending..."}),handleAction:c})};!function(e){e[e.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY=0]="DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY",e[e.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL=1]="CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL",e[e.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE=2]="CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE",e[e.ZERO_LTV_WITHDRAW_BLOCKED=3]="ZERO_LTV_WITHDRAW_BLOCKED"}(n||(n={}));var L=function(e){var r=e.poolReserve,t=e.userReserve,o=e.isWrongNetwork,i=e.symbol,c=e.user,u=(0,l.vR)(),w=u.gasLimit,S=u.mainTxState,_=u.txError,E=(0,p.ov)().debtCeiling,x=(0,a.useState)(t.usageAsCollateralEnabledOnUser),A=x[0],O=x[1],L=!t.usageAsCollateralEnabledOnUser,j=(0,d.hE)(c.totalCollateralMarketReferenceCurrency),N=!r.isIsolated&&L,k=!r.isIsolated&&!L,I=r.isIsolated&&L,Z=r.isIsolated&&!L,H=j[L?"plus":"minus"](t.underlyingBalanceMarketReferenceCurrency),P=(0,f.L1)({collateralBalanceMarketReferenceCurrency:H,borrowBalanceMarketReferenceCurrency:c.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:c.currentLiquidationThreshold}),D=(0,m.W)(),M=void 0;D.length>0&&!D.includes(r.symbol)?M=n.ZERO_LTV_WITHDRAW_BLOCKED:(0,d.hE)(t.underlyingBalance).eq(0)?M=n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:!t.usageAsCollateralEnabledOnUser&&"0"===r.reserveLiquidationThreshold||"0"===r.reserveLiquidationThreshold?M=n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:t.usageAsCollateralEnabledOnUser&&"0"!==c.totalBorrowsMarketReferenceCurrency&&P.lte("1")&&(M=n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE);var U=function(){switch(M){case n.DO_NOT_HAVE_SUPPLIES_IN_THIS_CURRENCY:return(0,R.jsx)(s.cC,{id:"You do not have supplies in this currency"});case n.CAN_NOT_USE_THIS_CURRENCY_AS_COLLATERAL:return(0,R.jsx)(s.cC,{id:"You can not use this currency as collateral"});case n.CAN_NOT_SWITCH_USAGE_AS_COLLATERAL_MODE:return(0,R.jsx)(s.cC,{id:"You can not switch usage as collateral mode for this currency, because it will cause collateral call"});case n.ZERO_LTV_WITHDRAW_BLOCKED:return(0,R.jsx)(s.cC,{id:"Assets with zero LTV ({0}) must be withdrawn or disabled as collateral to perform this action",values:{0:D.join(", ")}});default:return null}};return(0,a.useEffect)((function(){S.success&&O(L)}),[S.success,A]),S.success?(0,R.jsx)(y.R,{collateral:A,symbol:r.symbol}):(0,R.jsxs)(R.Fragment,{children:[N&&(0,R.jsx)(v.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,R.jsx)(s.cC,{id:"Enabling this asset as collateral increases your borrowing power and Health Factor. However, it can get liquidated if your health factor drops below 1."})}),k&&(0,R.jsx)(v.v,{severity:"warning",icon:!1,sx:{mb:3},children:(0,R.jsx)(s.cC,{id:"Disabling this asset as collateral affects your borrowing power and Health Factor."})}),I&&(0,R.jsx)(g.i,{asset:r.symbol}),Z&&(0,R.jsx)(v.v,{severity:"info",icon:!1,sx:{mb:3},children:(0,R.jsx)(s.cC,{id:"You will exit isolation mode and other tokens can now be used as collateral"})}),r.isIsolated&&E.determineWarningDisplay({debtCeiling:E}),(0,R.jsxs)(C.m6,{gasLimit:w,children:[(0,R.jsx)(C.oD,{symbol:r.symbol,iconSymbol:r.iconSymbol,description:(0,R.jsx)(s.cC,{id:"Supply balance"}),value:t.underlyingBalance}),(0,R.jsx)(C.jz,{visibleHfChange:!0,healthFactor:c.healthFactor,futureHealthFactor:P.toString(10)})]}),void 0!==M&&(0,R.jsx)(h.Z,{variant:"helperText",color:"error.main",children:(0,R.jsx)(U,{})}),_&&(0,R.jsx)(b.Q,{txError:_}),(0,R.jsx)(T,{symbol:i,poolReserve:r,usageAsCollateral:L,isWrongNetwork:o,blocked:void 0!==M})]})};function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var k=function(){var e=(0,l.vR)(),r=e.type,t=e.close,n=e.args;return(0,R.jsx)(c.P,{open:r===l.w8.CollateralChange,setOpen:t,children:(0,R.jsx)(u.A,{title:(0,R.jsx)(s.cC,{id:"Review tx"}),underlyingAsset:n.underlyingAsset,children:function(e){return(0,R.jsx)(i.X,{children:function(r){return(0,R.jsx)(L,N(N({},e),{},{user:r}))}})}})})}},94635:function(e,r,t){t.d(r,{A:function(){return b}});var n=t(80854),o=(t(67294),t(46839)),s=t(82482),a=t(43629),i=t(66209),l=t(8195),c=t(77537),u=t(78371),d=t(63206),f=t(57609),h=t(78944),v=t(10343),p=t(63491),m=t(85893),b=function(e){var r,t,b=e.hideTitleSymbol,y=e.underlyingAsset,C=e.children,g=e.requiredChainId,w=e.title,S=e.keepWrappedSymbol,_=(0,c.Z)().readOnlyModeAddress,E=(0,u.Y)((function(e){return e.currentMarketData})),x=(0,u.Y)((function(e){return e.currentNetworkConfig})),A=(0,s.P)(E).walletBalances,O=(0,o.HT)(),R=O.user,T=O.reserves,L=(0,l.vR)(),j=L.txError,N=L.mainTxState,k=(0,i.Q)(g),I=k.isWrongNetwork,Z=k.requiredChainId;if(j&&j.blocking)return(0,m.jsx)(p.D,{txError:j});var H=T.find((function(e){return y.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:y===e.underlyingAsset})),P=null===R||void 0===R?void 0:R.userReservesData.find((function(e){return y.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:y===e.underlyingAsset})),D=H.isWrappedBaseAsset&&!S?x.baseAssetSymbol:H.symbol;return(0,m.jsxs)(a.hv,{asset:H,children:[!N.success&&(0,m.jsx)(h.E,{title:w,symbol:b?void 0:D}),I&&!_&&(0,m.jsx)(v.I,{networkName:(0,d.Mo)(Z).name,chainId:Z,event:{eventName:f.vh.SWITCH_NETWORK,eventParams:{asset:y}}}),C({isWrongNetwork:I,nativeBalance:(null===(r=A[n.hP.toLowerCase()])||void 0===r?void 0:r.amount)||"0",tokenBalance:(null===(t=A[H.underlyingAsset.toLowerCase()])||void 0===t?void 0:t.amount)||"0",poolReserve:H,symbol:D,underlyingAsset:y,userReserve:P})]})}},18384:function(e,r,t){t.d(r,{i:function(){return l}});var n=t(49501),o=t(29630),s=t(68861),a=t(69331),i=t(85893),l=function(e){var r=e.asset,t=e.severity;return(0,i.jsxs)(a.v,{severity:t||"info",sx:{mb:3},children:[(0,i.jsx)(o.Z,{variant:"subheader1",mb:.5,children:(0,i.jsx)(n.cC,{id:"You are entering Isolation mode"})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(n.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our <0>FAQ</0>",values:{0:r||""},components:{0:(0,i.jsx)(s.rU,{href:"https://docs.aave.com/faq/aave-v3-features#isolation-mode"})}})})]})}},66209:function(e,r,t){t.d(r,{Q:function(){return s}});var n=t(77537),o=t(46930);function s(e){var r=(0,o.f)().currentChainId,t=e||r;return{isWrongNetwork:(0,n.Z)().chainId!==t,requiredChainId:t}}},25808:function(e,r,t){t.d(r,{W:function(){return s}});var n=t(78371),o=t(74570),s=function(){var e=(0,n.Y)((function(e){return e.currentMarketData})),r=(0,o.C)(e).data;if(!e.v3||!r)return[];var t=[];return r.userReservesData.forEach((function(e){Number(e.scaledATokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&t.push(e.reserve.symbol)})),t}},64343:function(e,r,t){var n=t(67294);const o=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));r.Z=o},80227:function(e,r,t){var n=t(67294);const o=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}));r.Z=o},7687:function(e,r,t){t.d(r,{r:function(){return d}});var n=t(67294),o=t(464),s=t(30081),a=t(91784),i=t(85945),l=t(37122),c=t(91670),u=t(38381);function d(e,r){const t=(0,i.NL)({context:e.context}),d=(0,l.S)(),f=(0,a._)(),h=t.defaultQueryOptions(e);h._optimisticResults=d?"isRestoring":"optimistic",h.onError&&(h.onError=s.V.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=s.V.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=s.V.batchCalls(h.onSettled)),(0,u.Fb)(h),(0,c.pf)(h,f),(0,c.JN)(f);const[v]=n.useState((()=>new r(t,h))),p=v.getOptimisticResult(h);if((0,o.$)(n.useCallback((e=>d?()=>{}:v.subscribe(s.V.batchCalls(e))),[v,d]),(()=>v.getCurrentResult()),(()=>v.getCurrentResult())),n.useEffect((()=>{v.setOptions(h,{listeners:!1})}),[h,v]),(0,u.SB)(h,p,d))throw(0,u.j8)(h,v,f);if((0,c.KJ)({result:p,errorResetBoundary:f,useErrorBoundary:h.useErrorBoundary,query:v.getCurrentQuery()}))throw p.error;return h.notifyOnChangeProps?p:v.trackResult(p)}},36492:function(e,r,t){t.d(r,{a:function(){return a}});var n=t(32161),o=t(52924),s=t(7687);function a(e,r,t){const a=(0,n._v)(e,r,t);return(0,s.r)(a,o.z)}},83618:function(e,r,t){t.d(r,{Z:function(){return i}});var n=t(14666),o=t(28811),s=t(2937),a=t(14882);function i(e){return(0,n.Z)(e)||(0,o.Z)(e)||(0,s.Z)(e)||(0,a.Z)()}},25043:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(67294),o=Object.defineProperty,s=(e,r,t)=>(((e,r,t)=>{r in e?o(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t})(e,"symbol"!=typeof r?r+"":r,t),t);const a=(e,r)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(r):e.style.getPropertyValue(r),i=e=>a(e,"overflow")+a(e,"overflow-y")+a(e,"overflow-x");class l extends n.Component{constructor(e){super(e),s(this,"elementObserver"),s(this,"wrapper"),s(this,"lazyLoadHandler",(e=>{var r,t;const{onContentVisible:n}=this.props,[o]=e,{isIntersecting:s}=o;if(s){this.setState({visible:!0},(()=>{n&&n()}));const e=null==(r=this.wrapper)?void 0:r.current;e&&e instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(e))}})),this.elementObserver=null,this.wrapper=n.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:r,threshold:t}=this.props,n={rootMargin:"number"==typeof r?`${r}px`:r||"0px",threshold:t||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,n);const o=null==(e=this.wrapper)?void 0:e.current;o instanceof HTMLElement&&this.elementObserver.observe(o)}shouldComponentUpdate(e,r){return r.visible}componentWillUnmount(){var e,r;const t=null==(e=this.wrapper)?void 0:e.current;t&&t instanceof HTMLElement&&(null==(r=this.elementObserver)||r.unobserve(t))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let r=e;for(;r&&r!==document.body&&r!==document.documentElement&&r.parentNode;){if(/(scroll|auto)/.test(i(r)))return r;r=r.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:r,height:t,width:o,elementType:s}=this.props,{visible:a}=this.state,i={height:t,width:o},l=`LazyLoad${a?" is-visible":""}${r?` ${r}`:""}`;return(0,n.createElement)(s||"div",{className:l,style:i,ref:this.wrapper},a&&n.Children.only(e))}}s(l,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);