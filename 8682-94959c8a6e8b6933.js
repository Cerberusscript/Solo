"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8682],{68682:function(e,n,t){t.d(n,{M:function(){return D},E:function(){return A}});var r=t(1279),o=t(80059),i=t(30120),s=t(29630),a=t(81645),c=t(67294),l=t(49338),d=t(78371),u=t(57609),m=t(97563),p=t(41024),x=t(72667),y=t(59499),b=t(49501),h=t(92391),v=t(85893);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,y.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T={aEthLidoWETH:{tokenIconSymbol:"WETH",symbol:"aWETH",aToken:!0},aBasUSDC:{tokenIconSymbol:"usdc",symbol:"aUSDC",aToken:!0},aEthUSDS:{tokenIconSymbol:"usds",symbol:"aUSDS",aToken:!0},aEthLidowstETH:{tokenIconSymbol:"wstETH",symbol:"awstETH",aToken:!0},aEthUSDC:{tokenIconSymbol:"USDC",symbol:"aUSDC",aToken:!0},aEthUSDT:{tokenIconSymbol:"USDT",symbol:"aUSDT",aToken:!0}},j=function(e){var n=e.rewardTokenSymbol;return T[n]?f(f({},T[n]),{},{rewardTokenAddress:e.rewardTokenAddress,incentiveAPR:e.incentiveAPR}):f(f({},e),{},{tokenIconSymbol:n,symbol:n,aToken:!1})},C=function(e){var n=e.incentives,t=e.incentivesNetAPR,r=e.symbol,o="secondary12",a=function(e){var n=e.incentiveAPR;return(0,v.jsx)(i.Z,{sx:{display:"inline-flex",alignItems:"center"},children:"Infinity"!==n?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.B,{value:+n,percent:!0,variant:o}),(0,v.jsx)(s.Z,{variant:o,sx:{ml:1},children:(0,v.jsx)(b.cC,{id:"APR"})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{variant:o,children:"\u221e %"}),(0,v.jsx)(s.Z,{variant:o,sx:{ml:1},children:(0,v.jsx)(b.cC,{id:"APR"})})]})})};return(0,v.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,v.jsx)(s.Z,{variant:"caption",color:"text.secondary",mb:3,children:(0,v.jsx)(b.cC,{id:"Participating in this {symbol} reserve gives annualized rewards.",values:{symbol:r}})}),(0,v.jsxs)(i.Z,{sx:{width:"100%"},children:[n.map(j).map((function(e){return(0,v.jsx)(h.X,{height:32,caption:(0,v.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",mb:n.length>1?2:0},children:[(0,v.jsx)(x.T1,{aToken:e.aToken,symbol:e.tokenIconSymbol,sx:{fontSize:"20px",mr:1}}),(0,v.jsx)(s.Z,{variant:o,children:e.symbol})]}),width:"100%",children:(0,v.jsx)(a,{incentiveAPR:e.incentiveAPR})},e.rewardTokenAddress)})),n.length>1&&(0,v.jsx)(i.Z,{sx:function(){return{pt:1,mt:1}},children:(0,v.jsx)(h.X,{caption:(0,v.jsx)(b.cC,{id:"Net APR"}),height:32,children:(0,v.jsx)(a,{incentiveAPR:t})})})]})]})},U=t(68861),w=function(e){var n=e.meritIncentives,t="secondary12",r=j(n);return(0,v.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"start",flexDirection:"column"},children:[(0,v.jsx)(s.Z,{variant:"caption",color:"text.primary",mb:3,children:(0,v.jsx)(b.cC,{id:"Eligible for the merit program."})}),(0,v.jsxs)(s.Z,{variant:"caption",color:"text.secondary",mb:3,children:[(0,v.jsx)(b.cC,{id:"This is a program initiated and implemented by the decentralised Aave community. Aave Labs does not guarantee the program and accepts no liability."})," ",(0,v.jsx)(U.rU,{href:"https://governance.aave.com/t/arfc-merit-a-new-aave-alignment-user-reward-system/16646",sx:{textDecoration:"underline"},variant:"caption",color:"text.secondary",children:"Learn more"})]}),(0,v.jsxs)(s.Z,{variant:"caption",color:"text.secondary",mb:3,children:[(0,v.jsx)(b.cC,{id:"Merit Program rewards are claimed through the"})," ",(0,v.jsx)(U.rU,{href:"https://apps.aavechan.com/merit",sx:{textDecoration:"underline"},variant:"caption",color:"text.secondary",children:"Aave Chan Initiative interface"}),"."]}),n.customMessage?(0,v.jsx)(s.Z,{variant:"caption",color:"text.strong",mb:3,children:(0,v.jsx)(b.cC,{id:"{0}",values:{0:n.customMessage}})}):null,(0,v.jsx)(i.Z,{sx:{width:"100%"},children:(0,v.jsx)(h.X,{height:32,caption:(0,v.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",mb:0},children:[(0,v.jsx)(x.T1,{aToken:r.aToken,symbol:r.tokenIconSymbol,sx:{fontSize:"20px",mr:1}}),(0,v.jsx)(s.Z,{variant:t,children:r.symbol})]}),width:"100%",children:(0,v.jsxs)(i.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,v.jsx)(p.B,{value:+r.incentiveAPR,percent:!0,variant:t}),(0,v.jsx)(s.Z,{variant:t,sx:{ml:1},children:(0,v.jsx)(b.cC,{id:"APR"})})]})})})]})},k=function(){return(0,v.jsx)(i.Z,{sx:{p:{xs:"0 4px",xsm:"3.625px 4px"},display:"flex",alignItems:"center",justifyContent:"center"},children:(0,v.jsx)(s.Z,{variant:"main12",color:"text.secondary",children:"\xa0"})})},A=function(e){var n=(0,c.useState)(!1),t=n[0],r=n[1],o=(0,l.Q)(e).data;return o?(0,v.jsx)(m.a,{tooltipContent:(0,v.jsx)(w,{meritIncentives:o}),withoutHover:!0,setOpen:r,open:t,children:(0,v.jsx)(g,{incentives:[o],incentivesNetAPR:+o.incentiveAPR})}):null},D=function(e){var n=e.incentives,t=e.symbol,o=e.displayBlank,i=(0,c.useState)(!1),s=i[0],a=i[1];if(!(n&&n.length>0))return o?(0,v.jsx)(k,{}):null;var l=n.some((function(e){return"Infinity"===e.incentiveAPR})),d=l?"Infinity":n.reduce((function(e,n){return e+ +n.incentiveAPR}),0),u=l?"Infinity":"Infinity"!==d?(0,r.hE)(d||0).toNumber():"Infinity";return(0,v.jsx)(m.a,{tooltipContent:(0,v.jsx)(C,{incentives:n,incentivesNetAPR:u,symbol:t}),withoutHover:!0,setOpen:a,open:s,children:(0,v.jsx)(g,{incentives:n,incentivesNetAPR:u,displayBlank:o})})},g=function(e){var n=e.incentives,t=e.incentivesNetAPR,r=e.displayBlank,l=e.plus,m=(0,c.useState)(!1),y=m[0],b=m[1],h=(0,d.Y)((function(e){return e.trackEvent}));if(!(n&&n.length>0))return r?(0,v.jsx)(k,{}):null;if(0===t)return r?(0,v.jsx)(k,{}):null;return(0,v.jsxs)(i.Z,{sx:function(e){return{p:{xs:"0 4px",xsm:"2px 4px"},border:"1px solid ".concat(y?e.palette.action.disabled:e.palette.divider),borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s ease",bgcolor:y?"action.hover":"transparent","&:hover":{bgcolor:"action.hover",borderColor:"action.disabled"}}},onClick:function(){h(u.h1.VIEW_LM_DETAILS_DASHBOARD,{}),b(!y)},children:[(0,v.jsxs)(i.Z,{sx:{mr:2},children:[l?"+":""," ","Infinity"!==t&&t<1e4?(0,v.jsx)(p.B,{value:t,percent:!0,variant:"secondary12",color:"text.secondary"}):"Infinity"!==t&&t>9999?(0,v.jsx)(p.B,{value:t,percent:!0,compact:!0,variant:"secondary12",color:"text.secondary"}):"Infinity"===t?(0,v.jsx)(s.Z,{variant:"main12",color:"text.secondary",children:"\u221e"}):void 0]}),(0,v.jsx)(i.Z,{sx:{display:"inline-flex"},children:(0,v.jsx)(v.Fragment,{children:n.length<5?(0,v.jsx)(v.Fragment,{children:n.map(j).map((function(e,n){return(0,v.jsx)(x.T1,{aToken:e.aToken,symbol:e.tokenIconSymbol,sx:{fontSize:"".concat(12,"px"),ml:-1}},n)}))}):(0,v.jsxs)(v.Fragment,{children:[n.slice(0,3).map(j).map((function(e,n){return(0,v.jsx)(x.T1,{symbol:e.tokenIconSymbol,sx:{fontSize:"".concat(12,"px"),ml:-1}},n)})),(0,v.jsx)(a.Z,{sx:{fontSize:"".concat(12,"px"),borderRadius:"50%",bgcolor:"common.white",color:"common.black",ml:-1,zIndex:5},children:(0,v.jsx)(o.Z,{})})]})})})]})}},49338:function(e,n,t){t.d(n,{Q:function(){return y}});var r,o,i=t(50029),s=t(59499),a=t(87794),c=t.n(a),l=t(75331),d=t(3439),u=t(4482),m=t(36492),p=t(4293);!function(e){e.ETHEREUM_STKGHO="ethereum-stkgho",e.SUPPLY_CBBTC_BORROW_USDC="ethereum-supply-cbbtc-borrow-usdc",e.SUPPLY_WBTC_BORROW_USDT="ethereum-supply-wbtc-borrow-usdt",e.BASE_SUPPLY_CBBTC="base-supply-cbbtc",e.BASE_SUPPLY_USDC="base-supply-usdc",e.BASE_BORROW_USDC="base-borrow-usdc"}(o||(o={}));var x=(r={},(0,s.Z)(r,p.e.proto_mainnet_v3,{GHO:[{action:o.ETHEREUM_STKGHO,rewardTokenAddress:d.ou.GHO.UNDERLYING,rewardTokenSymbol:"GHO"}],cbBTC:[{action:o.SUPPLY_CBBTC_BORROW_USDC,rewardTokenAddress:d.ou.USDC.A_TOKEN,rewardTokenSymbol:"aEthUSDC",protocolAction:l.UQ.supply,customMessage:"You must supply cbBTC and borrow USDC in order to receive merit rewards."}],USDC:[{action:o.SUPPLY_CBBTC_BORROW_USDC,rewardTokenAddress:d.ou.USDC.A_TOKEN,rewardTokenSymbol:"aEthUSDC",protocolAction:l.UQ.borrow,customMessage:"You must supply cbBTC and borrow USDC in order to receive merit rewards."}],WBTC:[{action:o.SUPPLY_WBTC_BORROW_USDT,rewardTokenAddress:d.ou.USDT.A_TOKEN,rewardTokenSymbol:"aEthUSDT",protocolAction:l.UQ.supply,customMessage:"You must supply wBTC and borrow USDT in order to receive merit rewards."}],USDT:[{action:o.SUPPLY_WBTC_BORROW_USDT,rewardTokenAddress:d.ou.USDT.A_TOKEN,rewardTokenSymbol:"aEthUSDT",protocolAction:l.UQ.borrow,customMessage:"You must supply wBTC and borrow USDT in order to receive merit rewards."}]}),(0,s.Z)(r,p.e.proto_base_v3,{cbBTC:[{action:o.BASE_SUPPLY_CBBTC,rewardTokenAddress:u.ou.USDC.UNDERLYING,rewardTokenSymbol:"aBasUSDC",protocolAction:l.UQ.supply}],USDC:[{action:o.BASE_SUPPLY_USDC,rewardTokenAddress:u.ou.USDC.UNDERLYING,rewardTokenSymbol:"aBasUSDC",protocolAction:l.UQ.supply},{action:o.BASE_BORROW_USDC,rewardTokenAddress:u.ou.USDC.UNDERLYING,rewardTokenSymbol:"aBasUSDC",protocolAction:l.UQ.borrow}]}),r),y=function(e){var n=e.symbol,t=e.market,r=e.protocolAction;return(0,m.a)({queryFn:function(){var e=(0,i.Z)(c().mark((function e(){var n,t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apps.aavechan.com/api/merit/aprs");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,r=t.currentAPR,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),queryKey:["meritIncentives"],staleTime:3e5,select:function(e){var o=function(e,n){var t;return null===(t=x[e])||void 0===t?void 0:t[n]}(t,n);if(!o)return null;var i=o.find((function(e){return e.protocolAction===r}));return i?{incentiveAPR:(e.actionsAPR[i.action]/100).toString(),rewardTokenAddress:i.rewardTokenAddress,rewardTokenSymbol:i.rewardTokenSymbol,customMessage:i.customMessage}:null}})}}}]);