"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4423],{50020:function(e,r,t){var n=t(59499),o=t(4730),a=t(91655),i=t(30120),s=t(29630),l=(t(67294),t(46839)),c=t(41024),u=t(85893),d=["minVal","maxVal","percentVariant","hyphenVariant"];function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.minVal,t=e.maxVal,n=e.percentVariant,p=e.hyphenVariant,m=(0,o.Z)(e,d),b=(0,l.HT)(),v=b.ghoLoadingData,y=b.ghoReserveData;if(v)return(0,u.jsx)(a.Z,{width:70,height:24});var h=null!==r&&void 0!==r?r:y.ghoBorrowAPYWithMaxDiscount,f=null!==t&&void 0!==t?t:y.ghoVariableBorrowAPY,g=Number((100*h).toFixed(2))===Number((100*f).toFixed(2));return(0,u.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:g?(0,u.jsx)(c.B,x({compact:!0,percent:!0,value:h,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy"},m)):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.B,x({compact:!0,value:100*h,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-from"},m)),(0,u.jsx)(s.Z,{variant:null!==p&&void 0!==p?p:"secondary16",color:"text.secondary",sx:{mx:.5},children:"-"}),(0,u.jsx)(c.B,x({compact:!0,percent:!0,value:f,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-till"},m))]})})}},81902:function(e,r,t){var n;t.d(r,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},99552:function(e,r,t){t.d(r,{B:function(){return v}});var n=t(90116),o=t(49501),a=t(30120),i=t(29630),s=t(72389),l=t(46839),c=t(97563),u=t(50020),d=t(41024),p=t(68861),x=t(14463),m=t(72667),b=t(85893),v=function(e){var r=e.value,t=e.useApyRange,v=e.rangeValues,y=void 0===v?[0,0]:v,h=e.ghoRoute,f=e.stkAaveBalance,g=e.userQualifiesForDiscount,j=e.onMoreDetailsClick,w=e.withTokenIcon,A=void 0!==w&&w,S=e.forceShowTooltip,D=void 0!==S&&S,T=e.variant,O=void 0===T?"secondary14":T,B=e.color,k=void 0===B?void 0:B,E=(0,l.HT)().ghoReserveData,Z=Number(f),I=Z>=E.ghoMinDiscountTokenBalanceForDiscount,C=(0,b.jsx)(b.Fragment,{}),P=g||D;return P&&(C=(0,b.jsx)(a.Z,{sx:{py:4,px:6,fontSize:"12px",lineHeight:"16px",a:{fontSize:"12px",lineHeight:"16px",fontWeight:500}},children:(0,b.jsxs)(i.Z,{variant:"subheader2",children:[(0,b.jsx)(o.cC,{id:"Estimated compounding interest, including discount for Staking {0}AAVE in Safety Module.",values:{0:I?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.B,{variant:"subheader2",value:Z,visibleDecimals:2})," "]}):null}})," ",(0,b.jsx)(p.rU,{onClick:j,href:h,underline:"always",variant:"subheader2",children:(0,b.jsx)(o.cC,{id:"Learn more"})})]})})),(0,b.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center",flex:"2 1 auto"},children:"-1"!==r.toString()?(0,b.jsx)(s.Z,{enterTouchDelay:0,leaveTouchDelay:0,placement:"top",title:C,arrow:P,PopperComponent:c.E,children:(0,b.jsxs)(a.Z,{sx:function(){return{display:"flex",alignItems:"center"}},children:[A&&(0,b.jsx)(m.T1,{symbol:"stkAAVE",sx:{height:14,width:14,mr:1}}),t?(0,b.jsx)(u.Z,{percentVariant:O,hyphenVariant:O,minVal:Math.min.apply(Math,(0,n.Z)(y)),maxVal:Math.max.apply(Math,(0,n.Z)(y)),color:k}):(0,b.jsx)(d.B,{value:r,percent:!0,variant:O,color:k,"data-cy":"apy"})]})}):(0,b.jsx)(x.J,{variant:"secondary14",color:"text.secondary"})})}},25049:function(e,r,t){t.d(r,{Y:function(){return p}});var n=t(59499),o=t(4730),a=t(49501),i=t(81902),s=t(58527),l=t(85893),c=["capType"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=function(e){var r=e.capType,t=(0,o.Z)(e,c),n=r===i.R.supplyCap?(0,l.jsx)(a.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,l.jsx)(a.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,l.jsx)(s.G,d(d({},t),{},{children:n}))}},14463:function(e,r,t){t.d(r,{J:function(){return l}});var n=t(59499),o=t(29630),a=(t(67294),t(85893));function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=function(e){return(0,a.jsx)(o.Z,s(s({},e),{},{children:"\u2014"}))}},53601:function(e,r,t){t.d(r,{l:function(){return B},W:function(){return k}});var n=t(59499),o=t(4730),a=t(49501),i=t(33740),s=t(62097),l=t(30120),c=t(29630),u=t(90149),d=t(81011),p=t(80562),x=t(55343),m=t(46541),b=t(31538),v=t(61702),y=t(75084),h=t(67294),f=t(57333),g=t(78371),j=t(25049),w=t(41024),A=t(72667),S=t(85893),D=["onChange"];function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var B=h.forwardRef((function(e,r){var t=e.onChange,n=(0,o.Z)(e,D);return(0,S.jsx)(f.Z,O(O({},n),{},{getInputRef:r,onValueChange:function(r){r.value!==e.value&&t({target:{name:e.name,value:r.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),k=function(e){var r=e.value,t=e.usdValue,n=e.symbol,o=e.onChange,h=e.disabled,f=e.disableInput,D=e.onSelect,T=e.assets,k=e.capType,E=e.maxValue,Z=e.isMaxSelected,I=e.inputTitle,C=e.balanceText,P=e.loading,R=void 0!==P&&P,N=e.event,M=e.selectOptionHeader,L=e.selectOption,_=e.sx,F=void 0===_?{}:_,U=e.exchangeRateComponent,Y=(0,s.Z)(),V=(0,g.Y)((function(e){return e.trackEvent})),H=1===T.length?T[0]:T&&T.find((function(e){return e.symbol===n}));return(0,S.jsxs)(l.Z,O(O({},F),{},{children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,S.jsx)(c.Z,{color:"text.secondary",children:I||(0,S.jsx)(a.cC,{id:"Amount"})}),k&&(0,S.jsx)(j.Y,{capType:k})]}),(0,S.jsxs)(l.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[R?(0,S.jsx)(l.Z,{sx:{flex:1},children:(0,S.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,S.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:h||f,value:r,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(E)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:B}),""!==r&&!f&&(0,S.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:h,children:(0,S.jsx)(i.Z,{height:16})}),D&&1!==T.length?(0,S.jsx)(x.Z,{children:(0,S.jsxs)(m.Z,{disabled:h,value:H.symbol,onChange:function(e){var r=T.find((function(r){return r.symbol===e.target.value}));D&&D(r),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===Y.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var r=1===T.length?T[0]:T&&T.find((function(r){return r.symbol===e}));return(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(r.symbol.toUpperCase()),children:[(0,S.jsx)(A.T1,{symbol:r.iconSymbol||r.symbol,aToken:r.aToken,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[M||void 0,T.map((function(e){return(0,S.jsx)(b.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:L?L(e):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(A.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,S.jsx)(v.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,S.jsx)(w.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,S.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,S.jsx)(A.T1,{aToken:H.aToken,symbol:H.iconSymbol||H.symbol,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[R?(0,S.jsx)(l.Z,{sx:{flex:1}}):(0,S.jsx)(w.B,{value:isNaN(Number(t))?0:Number(t),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),H.balance&&o&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[C&&""!==C?C:(0,S.jsx)(a.cC,{id:"Balance"})," ",(0,S.jsx)(w.B,{value:H.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!f&&(0,S.jsx)(y.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){N&&V(N.eventName,O({},N.eventParams)),o("-1")},disabled:h||Z,children:(0,S.jsx)(a.cC,{id:"Max"})})]})]}),U&&(0,S.jsx)(l.Z,{sx:{background:Y.palette.background.surface,borderTop:"1px solid ".concat(Y.palette.divider),px:3,py:2},children:U})]})]}))}},54423:function(e,r,t){t.r(r),t.d(r,{DebtSwitchModal:function(){return ke}});var n=t(59499),o=t(49501),a=t(67294),i=t(31959),s=t(47130),l=t(8195),c=t(94635),u=t(90116),d=t(1279),p=t(21046),x=t(52358),m=t(80227),b=t(9144),v=t(29630),y=t(81645),h=t(30120),f=t(63366),g=t(87462),j=t(86010),w=t(94780),A=t(81719),S=t(78884),D=t(36622),T=t(34867);function O(e){return(0,T.Z)("MuiListSubheader",e)}(0,t(1588).Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var B=t(85893);const k=["className","color","component","disableGutters","disableSticky","inset"],E=(0,A.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r[`color${(0,D.Z)(t.color)}`],!t.disableGutters&&r.gutters,t.inset&&r.inset,!t.disableSticky&&r.sticky]}})((({theme:e,ownerState:r})=>(0,g.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===r.color&&{color:(e.vars||e).palette.primary.main},"inherit"===r.color&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})));var Z=a.forwardRef((function(e,r){const t=(0,S.Z)({props:e,name:"MuiListSubheader"}),{className:n,color:o="default",component:a="li",disableGutters:i=!1,disableSticky:s=!1,inset:l=!1}=t,c=(0,f.Z)(t,k),u=(0,g.Z)({},t,{color:o,component:a,disableGutters:i,disableSticky:s,inset:l}),d=(e=>{const{classes:r,color:t,disableGutters:n,inset:o,disableSticky:a}=e,i={root:["root","default"!==t&&`color${(0,D.Z)(t)}`,!n&&"gutters",o&&"inset",!a&&"sticky"]};return(0,w.Z)(i,O,r)})(u);return(0,B.jsx)(E,(0,g.Z)({as:a,className:(0,j.default)(d.root,n),ref:r,ownerState:u},c))})),I=t(61702),C=t(70794),P=t(99552),R=t(25935),N=t(41024),M=t(68861),L=t(72667),_=t(69331),F=t(53601),U=t(57824),Y=t(74119),V=t(50029),H=t(87794),z=t.n(H),W=t(73030),G=t(3622),q=t(77537),Q=t(12036),$=t(78371),K=t(59286),X=t(69125),J=t(46839),ee=t(93608),re=t(99730),te=t(17674),ne=t(75331),oe=t(80854),ae=t(85945),ie=t(56371),se=t(89291),le=t(32113),ce=t(39771),ue=t(31001),de=t(67489),pe=t(94671);function xe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function me(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?xe(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var be,ve=function(e){var r=e.amountToSwap,t=e.amountToReceive,n=e.isWrongNetwork,i=e.sx,s=e.poolReserve,c=e.targetReserve,u=e.isMaxSelected,d=e.loading,p=e.blocked,x=e.buildTxFn,m=(0,$.Y)((function(e){return[e.getCreditDelegationApprovedAmount,e.currentMarketData,e.generateApproveDelegation,e.estimateGasLimit,e.addTransaction,e.debtSwitch,e.walletApprovalMethodPreference,e.generateCreditDelegationSignatureRequest]})),b=(0,te.Z)(m,8),v=b[0],y=b[1],h=b[2],f=b[3],g=b[4],j=b[5],w=b[6],A=b[7],S=(0,l.vR)(),D=S.approvalTxState,T=S.mainTxState,O=S.loadingTxns,k=S.setMainTxState,E=S.setTxError,Z=S.setGasLimit,I=S.setLoadingTxns,C=S.setApprovalTxState,P=(0,q.Z)(),R=P.sendTx,N=P.signTxData,M=(0,ae.NL)(),L=(0,a.useState)(!1),_=L[0],F=L[1],U=(0,a.useState)(),H=U[0],W=U[1],G=(0,a.useState)(!1),Q=G[0],K=G[1],X=(0,a.useState)(),J=X[0],ee=X[1],re=y.v3;(0,a.useEffect)((function(){var e=w===le.n.PERMIT;K(e)}),[w]);var xe=function(){var e=(0,V.Z)(z().mark((function e(){var r,n,o,a,i,s,l,u,d;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!_||!H){e.next=29;break}if(r=(0,Y.sm)(t,c.decimals,.25),!Q||!re){e.next=15;break}return o=Math.floor(Date.now()/1e3+3600).toString(),e.next=7,A({underlyingAsset:c.variableDebtTokenAddress,deadline:o,amount:r,spender:null!==(n=y.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==n?n:""});case 7:return a=e.sent,e.next=10,N(a);case 10:i=e.sent,ee({signature:i,deadline:o,amount:r}),C({txHash:se.Z,loading:!1,success:!0}),e.next=29;break;case 15:return l=h({debtTokenAddress:c.variableDebtTokenAddress,delegatee:null!==(s=y.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==s?s:"",amount:r}),C(me(me({},D),{},{loading:!0})),e.next=19,f(l);case 19:return l=e.sent,e.next=22,R(l);case 22:return u=e.sent,e.next=25,u.wait(1);case 25:C({txHash:u.hash,loading:!1,success:!0}),g(u.hash,{action:ne.UQ.approval,txState:"success",asset:c.variableDebtTokenAddress,amount:r,assetName:"varDebt"+c.name,spender:y.addresses.DEBT_SWITCH_ADAPTER}),E(void 0),ve(!0);case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),d=(0,ce.WG)(e.t0,ce.aD.GAS_ESTIMATION,!1),E(d),D.success||C({txHash:void 0,loading:!1});case 36:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,V.Z)(z().mark((function e(){var o,a,i,l;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(me(me({},T),{},{loading:!0})),e.next=4,x();case 4:return o=e.sent,a=j({poolReserve:s,targetReserve:c,amountToReceive:(0,ie.parseUnits)(t,c.decimals).toString(),amountToSwap:(0,ie.parseUnits)(r,s.decimals).toString(),isMaxSelected:u,txCalldata:o.swapCallData,augustus:o.augustus,signatureParams:J,isWrongNetwork:n}),e.next=8,f(a);case 8:return a=e.sent,e.next=11,R(a);case 11:return i=e.sent,e.next=14,i.wait(1);case 14:k({txHash:i.hash,loading:!1,success:!0}),g(i.hash,{action:"debtSwitch",txState:"success",previousState:"".concat(o.outputAmount," variable ").concat(s.symbol),newState:"".concat(o.inputAmount," variable ").concat(c.symbol)}),M.invalidateQueries({queryKey:ue.B.pool}),M.invalidateQueries({queryKey:ue.B.gho}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),l=(0,ce.WG)(e.t0,ce.aD.GAS_ESTIMATION,!1),E(l),k({txHash:void 0,loading:!1});case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),ve=(0,a.useCallback)(function(){var e=(0,V.Z)(z().mark((function e(r){var n,o,a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=H)&&!r){e.next=9;break}return I(!0),e.next=5,v({debtTokenAddress:c.variableDebtTokenAddress,delegatee:null!==(o=y.addresses.DEBT_SWITCH_ADAPTER)&&void 0!==o?o:""});case 5:n=e.sent,W(n),e.next=11;break;case 9:F(!1),C({});case 11:n&&(a=(0,pe.iv)({approvedAmount:n.amount,amount:t,signedAmount:"0"}),F(a),a&&C({})),I(!1);case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[H,I,v,c.variableDebtTokenAddress,y.addresses.DEBT_SWITCH_ADAPTER,C,t]);return(0,a.useEffect)((function(){"0"!==r&&(H?H.debtTokenAddress!==c.variableDebtTokenAddress&&ve(!0):ve())}),[r,H,ve,c.variableDebtTokenAddress]),(0,a.useEffect)((function(){var e=0;e=Number(oe.eB[ne.UQ.borrow].recommended),_&&!D.success&&(e+=Number(pe.Fi)),Z(e.toString())}),[_,D,Z]),(0,B.jsx)(de.B,{mainTxState:T,approvalTxState:D,isWrongNetwork:n,preparingTransactions:O,handleAction:be,requiresAmount:!0,amount:r,handleApproval:function(){return xe()},requiresApproval:_,actionText:(0,B.jsx)(o.cC,{id:"Switch"}),actionInProgressText:(0,B.jsx)(o.cC,{id:"Switching"}),sx:i,fetchingData:d,errorParams:{loading:!1,disabled:p||!(null!==D&&void 0!==D&&D.success),content:(0,B.jsx)(o.cC,{id:"Switch"}),handleClick:be},blocked:p,tryPermit:re})},ye=t(91655),he=t(92391),fe=(0,B.jsx)(y.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,B.jsx)(m.Z,{})}),ge=function(e){var r,t,n=e.switchSource,a=e.switchTarget,i=e.toAmount,s=e.fromAmount,l=e.loading,c=e.sourceBalance,u=e.sourceBorrowAPY,p=e.targetBorrowAPY,x=e.ghoData,m=e.currentMarket,b=(0,d.hE)(c).minus((0,d.hE)(s)),v=(0,d.hE)(a.variableBorrows).plus((0,d.hE)(i)),y=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ye.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}),(0,B.jsx)(ye.Z,{variant:"rectangular",height:15,width:80,sx:{borderRadius:"4px",marginTop:"4px"}})]}),f=0,g=null===x||void 0===x?void 0:x.ghoApyRange;return"GHO"===a.reserve.symbol&&x&&(f=(0,X.li)(x.ghoVariableBorrowApy,x.userCurrentBorrowBalance+x.inputAmount,x.userGhoAvailableToBorrowAtDiscount,x.ghoBorrowAPYWithMaxDiscount),g&&(g=[g[0],f])),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(he.X,{caption:(0,B.jsx)(o.cC,{id:"Borrow apy"}),captionVariant:"description",mb:4,children:(0,B.jsx)(h.Z,{sx:{display:"flex",alignItems:"center"},children:l?(0,B.jsx)(ye.Z,{variant:"rectangular",height:20,width:100,sx:{borderRadius:"4px"}}):(0,B.jsxs)(B.Fragment,{children:[(0,X.F$)({symbol:n.reserve.symbol,currentMarket:m})&&x?(0,B.jsx)(P.B,{useApyRange:!1,rangeValues:x.ghoApyRange,variant:"main14",color:"text.secondary",value:x.userCurrentBorrowApy,"data-cy":"apyType",stkAaveBalance:x.userDiscountTokenBalance,ghoRoute:M.Z6.reserveOverview(null!==(r=n.underlyingAsset)&&void 0!==r?r:"",m)+"/#discount",forceShowTooltip:!0,withTokenIcon:x.qualifiesForDiscount,userQualifiesForDiscount:x.qualifiesForDiscount}):(0,B.jsx)(N.B,{value:u,variant:"secondary14",percent:!0}),fe,(0,X.F$)({symbol:a.reserve.symbol,currentMarket:m})&&x?(0,B.jsx)(P.B,{useApyRange:x.qualifiesForDiscount&&!x.inputAmount,rangeValues:0===x.inputAmount?x.ghoApyRange:g,variant:"main14",color:"text.secondary",value:0===x.inputAmount?x.userBorrowApyAfterMaxSwitch:f,"data-cy":"apyType",stkAaveBalance:x.userDiscountTokenBalance,ghoRoute:M.Z6.reserveOverview(null!==(t=a.underlyingAsset)&&void 0!==t?t:"",m)+"/#discount",forceShowTooltip:!0,withTokenIcon:x.qualifiesForDiscount,userQualifiesForDiscount:x.qualifiesForDiscount}):(0,B.jsx)(N.B,{value:p,variant:"secondary14",percent:!0})]})})}),(0,B.jsx)(U.aE,{incentives:n.reserve.aIncentivesData,symbol:n.reserve.symbol,futureIncentives:n.reserve.aIncentivesData,futureSymbol:n.reserve.symbol,loading:l}),(0,B.jsx)(he.X,{caption:(0,B.jsx)(o.cC,{id:"Borrow balance after switch"}),captionVariant:"description",mb:4,align:"flex-start",children:(0,B.jsxs)(h.Z,{sx:{textAlign:"right"},children:[(0,B.jsx)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},children:l?y:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(L.T1,{symbol:n.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,B.jsx)(N.B,{value:b.toString(),variant:"secondary14",compact:!0})]}),(0,B.jsx)(N.B,{value:b.multipliedBy((0,d.hE)(n.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})}),(0,B.jsx)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center"},mt:2,children:l?y:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(L.T1,{symbol:a.reserve.iconSymbol,sx:{mr:2,ml:4,fontSize:"16px"}}),(0,B.jsx)(N.B,{value:v.toString(),variant:"secondary14",compact:!0})]}),(0,B.jsx)(N.B,{value:v.multipliedBy((0,d.hE)(a.reserve.priceInUSD)).toString(),variant:"helperText",compact:!0,symbol:"USD",symbolsColor:"text.secondary",color:"text.secondary"})]})})]})})]})};function je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function we(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?je(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}!function(e){e[e.INSUFFICIENT_LIQUIDITY=0]="INSUFFICIENT_LIQUIDITY"}(be||(be={}));var Ae=function(e){var r=e.poolReserve,t=e.userReserve,n=e.isWrongNetwork,i=e.user,s=(0,J.HT)(),c=s.reserves,f=s.ghoReserveData,g=s.ghoUserData,j=s.ghoUserLoadingData,w=(0,$.Y)((function(e){return e.currentChainId})),A=(0,$.Y)((function(e){return e.currentNetworkConfig})),S=(0,q.Z)().currentAccount,D=(0,l.vR)(),T=D.gasLimit,O=D.mainTxState,k=D.txError,E=D.setTxError,Z=(0,$.Y)((function(e){return e.currentMarket})),I=(0,$.Y)((function(e){return e.currentMarketData})),P=(0,G.l)(I).data,M=(0,W.b)(I).data,H=c.filter((function(e){return e.underlyingAsset!==r.underlyingAsset&&"0"!==e.availableLiquidity&&(0,K.hF)(e,i)})).map((function(e){return{address:e.underlyingAsset,symbol:e.symbol,iconSymbol:e.iconSymbol,variableApy:e.variableBorrowAPY,priceInUsd:e.priceInUSD,decimals:e.decimals}}));H=[].concat((0,u.Z)(H.filter((function(e){return"GHO"===e.symbol}))),(0,u.Z)(H.filter((function(e){return"GHO"!==e.symbol}))));var te=(0,a.useState)(""),ne=te[0],oe=te[1],ae=(0,a.useRef)(""),ie=(0,a.useState)(H[0]),se=ie[0],le=ie[1],ce=(0,a.useState)("0.1"),ue=ce[0],de=ce[1],pe=i.userReservesData.find((function(e){return e.underlyingAsset===se.address})),xe=t.variableBorrows,me="-1"===ne,ye=me?xe:ne,he=function(e){var r=e.chainId,t=e.max,n=e.maxSlippage,o=e.skip,i=e.swapIn,s=e.swapOut,l=e.userAddress,c=(0,a.useState)("0"),u=c[0],p=c[1],x=(0,a.useState)("0"),m=x[0],b=x[1],v=(0,a.useState)("0"),y=v[0],h=v[1],f=(0,a.useState)("0"),g=f[0],j=f[1],w=(0,a.useState)(),A=w[0],S=w[1],D=(0,a.useState)(!1),T=D[0],O=D[1],B=(0,a.useState)(""),k=B[0],E=B[1],Z=(0,a.useMemo)((function(){return{underlyingAsset:i.underlyingAsset,decimals:i.decimals,supplyAPY:i.supplyAPY,amount:i.amount,variableBorrowAPY:i.variableBorrowAPY}}),[i.amount,i.decimals,i.supplyAPY,i.underlyingAsset,i.variableBorrowAPY]),I=(0,a.useMemo)((function(){return{underlyingAsset:s.underlyingAsset,decimals:s.decimals,supplyAPY:s.supplyAPY,amount:s.amount,variableBorrowAPY:s.variableBorrowAPY}}),[s.amount,s.decimals,s.supplyAPY,s.underlyingAsset,s.variableBorrowAPY]),C=(0,a.useCallback)((function(){return(0,Y.wP)(Z,I,r,l,t)}),[r,t,Z,I,l]);return(0,a.useEffect)((function(){if(!o){var e=function(){var e=(0,V.Z)(z().mark((function e(){var r,t;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.underlyingAsset&&I.underlyingAsset&&I.amount&&"0"!==I.amount&&!isNaN(+I.amount)){e.next=7;break}return p("0"),b("0"),h("0"),j("0"),S(void 0),e.abrupt("return");case 7:return O(!0),e.prev=8,e.next=11,C();case 11:r=e.sent,E(""),S(r),p((0,d.Fv)(r.srcAmount,r.srcDecimals)),h((0,d.Fv)(r.destAmount,r.destDecimals)),b(r.srcUSD),j(r.destUSD),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(8),console.error(e.t0),t=(0,Y.aE)(e.t0.message),E(t);case 25:return e.prev=25,O(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,20,25,28]])})));return function(){return e.apply(this,arguments)}}(),r=setTimeout((function(){e()}),400);return function(){clearTimeout(r)}}}),[o,Z.underlyingAsset,Z.amount,I.underlyingAsset,I.amount,C,n]),{outputAmount:y,outputAmountUSD:g,inputAmount:u,inputAmountUSD:m,loading:T,error:k,buildTxFn:function(){var e=(0,V.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}throw new Error("Route required to build transaction");case 2:return e.abrupt("return",(0,Y._n)(A,i,s,r,l,n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}({chainId:A.underlyingChainId||w,userAddress:S,swapOut:we(we({},r),{},{amount:ae.current}),swapIn:we(we({},pe.reserve),{},{amount:"0"}),max:me,skip:O.loading||!1,maxSlippage:Number(ue)}),fe=he.inputAmount,je=he.outputAmount,Ae=he.outputAmountUSD,Oe=he.error,Be=he.loading,ke=he.buildTxFn,Ee=Be&&"0"===Ae,Ze=(0,d.hE)(p.Bz.toString()),Ie="0";(0,X.F$)({symbol:pe.reserve.symbol,currentMarket:Z})?Ie=f.aaveFacilitatorRemainingCapacity.toString():(Ze="0"===pe.reserve.borrowCap?(0,d.hE)(p.Bz.toString()):(0,d.hE)(Number(pe.reserve.borrowCap)).minus((0,d.hE)(pe.reserve.totalDebt)),Ie=pe.reserve.formattedAvailableLiquidity);var Ce=C.Z.max(C.Z.min(Ie,Ze),0),Pe=Number(ye)*Number(r.priceInUSD),Re=Number(fe)*Number(se.priceInUsd),Ne=Re-Pe,Me=0===Number(i.availableBorrowsUSD)||Ne>Number(i.availableBorrowsUSD),Le=void 0;(0,C.Z)(fe).gt(Ce)&&(Le=be.INSUFFICIENT_LIQUIDITY);var _e=function(){return Le===be.INSUFFICIENT_LIQUIDITY?(0,B.jsx)(o.cC,{id:"There is not enough liquidity for the target asset to perform the switch. Try lowering the amount."}):null},Fe=(0,Y.LN)(fe,ue,se.decimals||18);if(O.success)return(0,B.jsx)(ee.R,{customAction:(0,B.jsxs)(b.Z,{gap:3,children:[(0,B.jsx)(v.Z,{variant:"description",color:"text.primary",children:(0,B.jsx)(o.cC,{id:"You've successfully switched borrow position."})}),(0,B.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,children:[(0,B.jsx)(L.T1,{symbol:r.iconSymbol,sx:{mx:1}}),(0,B.jsx)(N.B,{value:ae.current,compact:!0,variant:"subheader1"}),r.symbol,(0,B.jsx)(y.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,B.jsx)(m.Z,{})}),(0,B.jsx)(L.T1,{symbol:pe.reserve.iconSymbol,sx:{mx:1}}),(0,B.jsx)(N.B,{value:Fe,compact:!0,variant:"subheader1"}),pe.reserve.symbol]})]})});var Ue,Ye=!1;if(c.some((function(e){return"GHO"===e.symbol}))){var Ve=Number(xe)*Number(r.priceInUSD)+g.userGhoBorrowBalance,He=(0,X.li)(f.ghoVariableBorrowAPY,g.userGhoBorrowBalance,g.userGhoAvailableToBorrowAtDiscount,f.ghoBorrowAPYWithMaxDiscount),ze=(0,X.li)(f.ghoVariableBorrowAPY,Ve,g.userGhoAvailableToBorrowAtDiscount,f.ghoBorrowAPYWithMaxDiscount),We=j?void 0:[He,ze];Ye=!(!P||!M)&&(0,X.k9)(M,P,xe),Ue={qualifiesForDiscount:Ye,ghoApyRange:We,userBorrowApyAfterMaxSwitch:ze,userDiscountTokenBalance:g.userDiscountTokenBalance,inputAmount:Number(ye),targetAmount:Number(fe),userCurrentBorrowApy:He,ghoVariableBorrowApy:f.ghoVariableBorrowAPY,userGhoAvailableToBorrowAtDiscount:g.userGhoAvailableToBorrowAtDiscount,ghoBorrowAPYWithMaxDiscount:f.ghoBorrowAPYWithMaxDiscount,userCurrentBorrowBalance:g.userGhoBorrowBalance}}return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(F.W,{value:ye,onChange:function(e){var r="-1"===e;ae.current=r?xe:e,oe(e),E(void 0)},usdValue:Pe.toString(),symbol:r.symbol,assets:[{balance:xe,address:r.underlyingAsset,symbol:r.symbol,iconSymbol:r.iconSymbol}],maxValue:xe,inputTitle:(0,B.jsx)(o.cC,{id:"Borrowed asset amount"}),balanceText:(0,B.jsx)(a.Fragment,{children:(0,B.jsx)(o.cC,{id:"Borrow balance"})}),isMaxSelected:me}),(0,B.jsxs)(h.Z,{sx:{padding:"18px",pt:"14px",display:"flex",justifyContent:"space-between"},children:[(0,B.jsx)(y.Z,{sx:{fontSize:"18px !important"},children:(0,B.jsx)(x.Z,{})}),(0,B.jsx)(R.B,{loading:Ee,outputAmountUSD:Re.toString(),inputAmountUSD:Pe.toString()})]}),(0,B.jsx)(F.W,{value:fe,onSelect:le,usdValue:Re.toString(),symbol:se.symbol,assets:H,inputTitle:(0,B.jsx)(o.cC,{id:"Switch to"}),balanceText:(0,B.jsx)(o.cC,{id:"Supply balance"}),disableInput:!0,loading:Ee,selectOptionHeader:(0,B.jsx)(Se,{}),selectOption:function(e){var r,t;return(0,X.F$)({symbol:e.symbol,currentMarket:Z})?(0,B.jsx)(Te,{asset:e,ghoApyRange:null===(r=Ue)||void 0===r?void 0:r.ghoApyRange,userBorrowApyAfterMaxSwitch:null===(t=Ue)||void 0===t?void 0:t.userBorrowApyAfterMaxSwitch,userDiscountTokenBalance:g.userDiscountTokenBalance,currentMarket:Z,qualifiesForDiscount:Ye}):(0,B.jsx)(De,{asset:e})}}),Oe&&!Ee&&(0,B.jsx)(v.Z,{variant:"helperText",color:"error.main",children:Oe}),!Oe&&void 0!==Le&&(0,B.jsx)(v.Z,{variant:"helperText",color:"error.main",children:(0,B.jsx)(_e,{})}),(0,B.jsx)(U.m6,{gasLimit:T,slippageSelector:(0,B.jsx)(Q.n,{selectedSlippage:ue,setSlippage:function(e){E(void 0),de(e)},slippageTooltipHeader:(0,B.jsxs)(b.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"space-between",children:[(0,B.jsx)(o.cC,{id:"Maximum amount received"}),(0,B.jsx)(b.Z,{alignItems:"end",children:(0,B.jsxs)(b.Z,{direction:"row",children:[(0,B.jsx)(L.T1,{symbol:pe.reserve.iconSymbol,sx:{mr:1,fontSize:"14px"}}),(0,B.jsx)(N.B,{value:Fe,variant:"secondary12"})]})})]})}),children:(0,B.jsx)(ge,{switchSource:t,switchTarget:pe,toAmount:fe,fromAmount:""===ye?"0":ye,loading:Ee,sourceBalance:xe,sourceBorrowAPY:r.variableBorrowAPY,targetBorrowAPY:pe.reserve.variableBorrowAPY,ghoData:Ue,currentMarket:Z})}),k&&(0,B.jsx)(re.f,{txError:k}),Me&&(0,B.jsx)(_.v,{severity:"error",sx:{mt:4},children:(0,B.jsx)(v.Z,{variant:"caption",children:(0,B.jsx)(o.cC,{id:"Insufficient collateral to cover new borrow position. Wallet must have borrowing power remaining to perform debt switch."})})}),(0,B.jsx)(ve,{isMaxSelected:me,poolReserve:r,amountToSwap:je,amountToReceive:Fe,isWrongNetwork:n,targetReserve:pe.reserve,symbol:r.symbol,blocked:void 0!==Le||""!==Oe||Me,loading:Be,buildTxFn:ke})]})},Se=function(){return(0,B.jsx)(Z,{sx:function(e){return{borderBottom:"1px solid ".concat(e.palette.divider),mt:-1}},children:(0,B.jsxs)(b.Z,{direction:"row",sx:{py:4},gap:14,children:[(0,B.jsx)(v.Z,{variant:"subheader2",children:(0,B.jsx)(o.cC,{id:"Select an asset"})}),(0,B.jsx)(v.Z,{variant:"subheader2",children:(0,B.jsx)(o.cC,{id:"Borrow APY"})})]})})},De=function(e){var r=e.asset;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(L.T1,{aToken:r.aToken,symbol:r.iconSymbol||r.symbol,sx:{fontSize:"22px",mr:1}}),(0,B.jsx)(I.Z,{sx:{mr:6},children:r.symbol}),(0,B.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,B.jsx)(N.B,{value:r.variableApy,percent:!0,variant:"main14",color:"text.secondary"}),(0,B.jsx)(v.Z,{variant:"helperText",color:"text.secondary",children:(0,B.jsx)(o.cC,{id:"Variable rate"})})]})]})},Te=function(e){var r,t=e.ghoApyRange,n=e.asset,a=e.userBorrowApyAfterMaxSwitch,i=e.userDiscountTokenBalance,s=e.currentMarket,l=e.qualifiesForDiscount;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(L.T1,{aToken:n.aToken,symbol:n.iconSymbol||n.symbol,sx:{fontSize:"22px",mr:1}}),(0,B.jsx)(I.Z,{sx:{mr:6},children:n.symbol}),(0,B.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,B.jsx)(P.B,{useApyRange:l,rangeValues:t,variant:"main14",color:"text.secondary",value:null!==a&&void 0!==a?a:-1,"data-cy":"apyType",stkAaveBalance:i,ghoRoute:M.Z6.reserveOverview(null!==(r=null===n||void 0===n?void 0:n.address)&&void 0!==r?r:"",s)+"/#discount",forceShowTooltip:!0,withTokenIcon:l,userQualifiesForDiscount:l}),(0,B.jsx)(v.Z,{variant:"helperText",color:"text.secondary",children:(0,B.jsx)(o.cC,{id:"Fixed rate"})})]})]})};function Oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Be(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Oe(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ke=function(){var e=(0,l.vR)(),r=e.type,t=e.close,n=e.args;return(0,B.jsx)(i.P,{open:r===l.w8.DebtSwitch,setOpen:t,children:(0,B.jsx)(c.A,{title:(0,B.jsx)(o.cC,{id:"Switch borrow position"}),underlyingAsset:n.underlyingAsset,hideTitleSymbol:!0,children:function(e){return(0,B.jsx)(s.X,{children:function(r){return(0,B.jsx)(Ae,Be(Be({},e),{},{user:r}))}})}})})}},99730:function(e,r,t){t.d(r,{f:function(){return c}});var n=t(49501),o=t(30120),a=t(29630),i=t(69331),s=t(67916),l=t(85893),c=function(e){var r=e.txError;return(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(s.Q,{txError:r}),"MetaMask Message Signature: User denied message signature."!==r.rawError.message&&"MetaMask Tx Signature: User denied transaction signature."!==r.rawError.message&&(0,l.jsx)(o.Z,{sx:{pt:4},children:(0,l.jsx)(i.v,{severity:"info",children:(0,l.jsxs)(a.Z,{variant:"description",children:[" ",(0,l.jsx)(n.cC,{id:"Tip: Try increasing slippage or reduce input amount"})]})})})]})}},94671:function(e,r,t){t.d(r,{NI:function(){return n},gK:function(){return i},pQ:function(){return s},Fi:function(){return l},iv:function(){return c},yI:function(){return u}});var n,o=t(70794),a=t(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(n||(n={}));var i=function(e,r){return"-1"!==e&&new o.O(e).minus(new o.O(r)).lt("1.05")},s=65e3,l=55e3,c=function(e){var r=e.approvedAmount,t=e.signedAmount,n=e.amount;return!("-1"===r||"-1"===t||"0"!==r&&Number(r)>=Number(n)||Number(t)>=Number(n))},u=function(e,r,t,n){var o=e.reserve;if(!o.usageAsCollateralEnabled)return a.z.UNAVAILABLE;var i=a.z.ENABLED,s=e&&"0"!==e.scaledATokenBalance,l="0"!==r;return o.isIsolated?n?i=a.z.UNAVAILABLE:t?s?i=e.usageAsCollateralEnabledOnUser?a.z.ISOLATED_ENABLED:a.z.DISABLED:l&&(i=a.z.UNAVAILABLE_DUE_TO_ISOLATION):i=l?a.z.ISOLATED_DISABLED:a.z.ISOLATED_ENABLED:i=t?a.z.UNAVAILABLE_DUE_TO_ISOLATION:s?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED,i}},59286:function(e,r,t){t.d(r,{nG:function(){return s},BC:function(){return l},hF:function(){return c}});var n=t(1279),o=t(70794),a=t(21046),i=t(87385);function s(e,r){var t,s,l,c,u=e.availableLiquidityUSD,d=o.Z.min(r.availableBorrowsUSD,u),p="0"===e.borrowCap?(0,n.hE)(a.Bz.toString()):(0,n.hE)(Number(e.borrowCap)).minus((0,n.hE)(e.totalDebt)),x=o.Z.max(o.Z.min(e.formattedAvailableLiquidity,p),0),m=(0,n.hE)((null===r||void 0===r?void 0:r.availableBorrowsMarketReferenceCurrency)||0).div(e.formattedPriceInMarketReferenceCurrency),b=o.Z.min(m,x),v=b.gte(m)||"0"!==r.totalBorrowsMarketReferenceCurrency&&d.lt(u)||d.eq(u)&&"0"!==e.totalDebt||e.borrowCapUSD&&"0"!==e.totalDebt&&d.gte(u)||r.isInIsolationMode&&"0"!==(null===(t=r.isolatedReserve)||void 0===t?void 0:t.isolationModeTotalDebt)&&(0,n.hE)((null===(s=r.isolatedReserve)||void 0===s?void 0:s.debtCeiling)||"0").minus((null===(l=r.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)||"0").shiftedBy(-((null===(c=r.isolatedReserve)||void 0===c?void 0:c.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(r.availableBorrowsUSD)?b.multipliedBy("0.99"):b;return(0,i.$w)(v.toString(10),e.decimals)}function l(e,r){var t,s,l,c,u=(0,n.hE)((null===e||void 0===e?void 0:e.availableBorrowsMarketReferenceCurrency)||0),d="0"===r.borrowCap?(0,n.hE)(a.Bz.toString()):(0,n.hE)(Number(r.borrowCap)).minus((0,n.hE)(r.totalDebt)),p=o.Z.max(o.Z.min(u,d),0),x="0"!==e.totalBorrowsMarketReferenceCurrency||r.borrowCapUSD&&"0"!==r.totalDebt&&p.gte(d)||e.isInIsolationMode&&"0"!==(null===(t=e.isolatedReserve)||void 0===t?void 0:t.isolationModeTotalDebt)&&(0,n.hE)((null===(s=e.isolatedReserve)||void 0===s?void 0:s.debtCeiling)||"0").minus((null===(l=e.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)||"0").shiftedBy(-((null===(c=e.isolatedReserve)||void 0===c?void 0:c.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(e.availableBorrowsUSD)?p.multipliedBy("0.99"):p;return(0,i.$w)(x.toString(10),18)}function c(e,r){var t=e.borrowingEnabled,n=e.isActive,o=e.borrowableInIsolation,a=e.eModes,i=e.isFrozen,s=e.isPaused;if(!t||!n||i||s)return!1;if(null!==r&&void 0!==r&&r.isInEmode){var l=a.find((function(e){return e.id===r.userEmodeCategoryId}));return!!l&&l.borrowingEnabled}return!(null!==r&&void 0!==r&&r.isInIsolationMode&&!o)}},52358:function(e,r,t){var n=t(67294);const o=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 14l-7 7m0 0l-7-7m7 7V3"}))}));r.Z=o}}]);