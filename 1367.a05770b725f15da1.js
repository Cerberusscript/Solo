"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1367],{50020:function(e,t,r){var n=r(59499),o=r(4730),a=r(91655),i=r(30120),s=r(29630),c=(r(67294),r(46839)),l=r(41024),u=r(85893),d=["minVal","maxVal","percentVariant","hyphenVariant"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.minVal,r=e.maxVal,n=e.percentVariant,p=e.hyphenVariant,b=(0,o.Z)(e,d),h=(0,c.HT)(),f=h.ghoLoadingData,v=h.ghoReserveData;if(f)return(0,u.jsx)(a.Z,{width:70,height:24});var m=null!==t&&void 0!==t?t:v.ghoBorrowAPYWithMaxDiscount,y=null!==r&&void 0!==r?r:v.ghoVariableBorrowAPY,g=Number((100*m).toFixed(2))===Number((100*y).toFixed(2));return(0,u.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:g?(0,u.jsx)(l.B,x({compact:!0,percent:!0,value:m,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy"},b)):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.B,x({compact:!0,value:100*m,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-from"},b)),(0,u.jsx)(s.Z,{variant:null!==p&&void 0!==p?p:"secondary16",color:"text.secondary",sx:{mx:.5},children:"-"}),(0,u.jsx)(l.B,x({compact:!0,percent:!0,value:y,visibleDecimals:2,variant:null!==n&&void 0!==n?n:"h3","data-cy":"apy-gho-till"},b))]})})}},81902:function(e,t,r){var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},99552:function(e,t,r){r.d(t,{B:function(){return f}});var n=r(90116),o=r(49501),a=r(30120),i=r(29630),s=r(72389),c=r(46839),l=r(97563),u=r(50020),d=r(41024),p=r(68861),x=r(14463),b=r(72667),h=r(85893),f=function(e){var t=e.value,r=e.useApyRange,f=e.rangeValues,v=void 0===f?[0,0]:f,m=e.ghoRoute,y=e.stkAaveBalance,g=e.userQualifiesForDiscount,j=e.onMoreDetailsClick,O=e.withTokenIcon,w=void 0!==O&&O,A=e.forceShowTooltip,C=void 0!==A&&A,E=e.variant,T=void 0===E?"secondary14":E,D=e.color,B=void 0===D?void 0:D,k=(0,c.HT)().ghoReserveData,S=Number(y),P=S>=k.ghoMinDiscountTokenBalanceForDiscount,I=(0,h.jsx)(h.Fragment,{}),_=g||C;return _&&(I=(0,h.jsx)(a.Z,{sx:{py:4,px:6,fontSize:"12px",lineHeight:"16px",a:{fontSize:"12px",lineHeight:"16px",fontWeight:500}},children:(0,h.jsxs)(i.Z,{variant:"subheader2",children:[(0,h.jsx)(o.cC,{id:"Estimated compounding interest, including discount for Staking {0}AAVE in Safety Module.",values:{0:P?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.B,{variant:"subheader2",value:S,visibleDecimals:2})," "]}):null}})," ",(0,h.jsx)(p.rU,{onClick:j,href:m,underline:"always",variant:"subheader2",children:(0,h.jsx)(o.cC,{id:"Learn more"})})]})})),(0,h.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center",flex:"2 1 auto"},children:"-1"!==t.toString()?(0,h.jsx)(s.Z,{enterTouchDelay:0,leaveTouchDelay:0,placement:"top",title:I,arrow:_,PopperComponent:l.E,children:(0,h.jsxs)(a.Z,{sx:function(){return{display:"flex",alignItems:"center"}},children:[w&&(0,h.jsx)(b.T1,{symbol:"stkAAVE",sx:{height:14,width:14,mr:1}}),r?(0,h.jsx)(u.Z,{percentVariant:T,hyphenVariant:T,minVal:Math.min.apply(Math,(0,n.Z)(v)),maxVal:Math.max.apply(Math,(0,n.Z)(v)),color:B}):(0,h.jsx)(d.B,{value:t,percent:!0,variant:T,color:B,"data-cy":"apy"})]})}):(0,h.jsx)(x.J,{variant:"secondary14",color:"text.secondary"})})}},25049:function(e,t,r){r.d(t,{Y:function(){return p}});var n=r(59499),o=r(4730),a=r(49501),i=r(81902),s=r(58527),c=r(85893),l=["capType"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.capType,r=(0,o.Z)(e,l),n=t===i.R.supplyCap?(0,c.jsx)(a.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,c.jsx)(a.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,c.jsx)(s.G,d(d({},r),{},{children:n}))}},75437:function(e,t,r){r.d(t,{x:function(){return d},n:function(){return p}});var n=r(59499),o=r(49501),a=r(57609),i=r(68861),s=r(58527),c=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=(0,c.jsx)(o.cC,{id:"Interest rate that is determined by Aave Governance. This rate may be changed over time depending on the need for the GHO supply to contract/expand. <0>Learn more</0>",components:{0:(0,c.jsx)(i.rU,{href:"https://docs.gho.xyz/concepts/how-gho-works/interest-rate-discount-model#interest-rate-model",underline:"always"})}}),p=function(e){return(0,c.jsx)(s.G,u(u({event:{eventName:a.vh.TOOL_TIP,eventParams:{tooltip:"GHO APY"}}},e),{},{children:d}))}},14463:function(e,t,r){r.d(t,{J:function(){return c}});var n=r(59499),o=r(29630),a=(r(67294),r(85893));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){return(0,a.jsx)(o.Z,s(s({},e),{},{children:"\u2014"}))}},53601:function(e,t,r){r.d(t,{l:function(){return D},W:function(){return B}});var n=r(59499),o=r(4730),a=r(49501),i=r(33740),s=r(62097),c=r(30120),l=r(29630),u=r(90149),d=r(81011),p=r(80562),x=r(55343),b=r(46541),h=r(31538),f=r(61702),v=r(75084),m=r(67294),y=r(57333),g=r(78371),j=r(25049),O=r(41024),w=r(72667),A=r(85893),C=["onChange"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=m.forwardRef((function(e,t){var r=e.onChange,n=(0,o.Z)(e,C);return(0,A.jsx)(y.Z,T(T({},n),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),B=function(e){var t=e.value,r=e.usdValue,n=e.symbol,o=e.onChange,m=e.disabled,y=e.disableInput,C=e.onSelect,E=e.assets,B=e.capType,k=e.maxValue,S=e.isMaxSelected,P=e.inputTitle,I=e.balanceText,_=e.loading,N=void 0!==_&&_,Z=e.event,L=e.selectOptionHeader,R=e.selectOption,M=e.sx,W=void 0===M?{}:M,F=e.exchangeRateComponent,U=(0,s.Z)(),H=(0,g.Y)((function(e){return e.trackEvent})),G=1===E.length?E[0]:E&&E.find((function(e){return e.symbol===n}));return(0,A.jsxs)(c.Z,T(T({},W),{},{children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,A.jsx)(l.Z,{color:"text.secondary",children:P||(0,A.jsx)(a.cC,{id:"Amount"})}),B&&(0,A.jsx)(j.Y,{capType:B})]}),(0,A.jsxs)(c.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[N?(0,A.jsx)(c.Z,{sx:{flex:1},children:(0,A.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,A.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:m||y,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(k)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:D}),""!==t&&!y&&(0,A.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:m,children:(0,A.jsx)(i.Z,{height:16})}),C&&1!==E.length?(0,A.jsx)(x.Z,{children:(0,A.jsxs)(b.Z,{disabled:m,value:G.symbol,onChange:function(e){var t=E.find((function(t){return t.symbol===e.target.value}));C&&C(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===U.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===E.length?E[0]:E&&E.find((function(t){return t.symbol===e}));return(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,A.jsx)(w.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[L||void 0,E.map((function(e){return(0,A.jsx)(h.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:R?R(e):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(w.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,A.jsx)(f.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,A.jsx)(O.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,A.jsxs)(c.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,A.jsx)(w.T1,{aToken:G.aToken,symbol:G.iconSymbol||G.symbol,sx:{mr:2,ml:4}}),(0,A.jsx)(l.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,A.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[N?(0,A.jsx)(c.Z,{sx:{flex:1}}):(0,A.jsx)(O.B,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),G.balance&&o&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(l.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[I&&""!==I?I:(0,A.jsx)(a.cC,{id:"Balance"})," ",(0,A.jsx)(O.B,{value:G.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!y&&(0,A.jsx)(v.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){Z&&H(Z.eventName,T({},Z.eventParams)),o("-1")},disabled:m||S,children:(0,A.jsx)(a.cC,{id:"Max"})})]})]}),F&&(0,A.jsx)(c.Z,{sx:{background:U.palette.background.surface,borderTop:"1px solid ".concat(U.palette.divider),px:3,py:2},children:F})]})]}))}},31367:function(e,t,r){r.r(t),r.d(t,{BorrowModal:function(){return We}});var n=r(59499),o=r(17674),a=r(49501),i=r(67294),s=r(47130),c=r(8195),l=r(46930),u=r(78371),d=r(69125),p=r(57609),x=r(31959),b=r(94635),h=r(80854),f=r(1279),v=r(82403),m=r(20854),y=r(29630),g=r(46839),j=r(43629),O=r(59286),w=r(87385),A=r(81902),C=r(53601),E=r(67916),T=r(93608),D=r(57824),B=r(50029),k=r(87794),S=r.n(k),P=r(75331),I=r(85945),_=r(56371),N=r(77537),Z=r(39771),L=r(31001),R=r(67489),M=r(94671),W=r(85893);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H,G=i.memo((function(e){var t=e.symbol,r=e.poolReserve,n=e.amountToBorrow,s=e.poolAddress,l=e.isWrongNetwork,d=e.blocked,p=e.sx,x=(0,u.Y)((function(e){return[e.borrow,e.getCreditDelegationApprovedAmount,e.currentMarketData,e.generateApproveDelegation,e.estimateGasLimit,e.addTransaction]})),b=(0,o.Z)(x,6),f=b[0],v=b[1],m=b[2],y=b[3],g=b[4],j=b[5],O=(0,c.vR)(),w=O.approvalTxState,A=O.mainTxState,C=O.loadingTxns,E=O.setMainTxState,T=O.setTxError,D=O.setGasLimit,k=O.setLoadingTxns,F=O.setApprovalTxState,H=(0,N.Z)().sendTx,G=(0,I.NL)(),V=(0,i.useState)(!1),Y=V[0],z=V[1],q=(0,i.useState)(),Q=q[0],K=q[1],$=function(){var e=(0,B.Z)(S().mark((function e(){var t,n,o,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Y||!Q){e.next=14;break}return n=y({debtTokenAddress:r.variableDebtTokenAddress,delegatee:null!==(t=m.addresses.WETH_GATEWAY)&&void 0!==t?t:"",amount:h.ke}),F(U(U({},w),{},{loading:!0})),e.next=6,g(n);case 6:return n=e.sent,e.next=9,H(n);case 9:return o=e.sent,e.next=12,o.wait(1);case 12:F({txHash:o.hash,loading:!1,success:!0}),X(!0);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),a=(0,Z.WG)(e.t0,Z.aD.GAS_ESTIMATION,!1),T(a),F({txHash:void 0,loading:!1});case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,B.Z)(S().mark((function e(){var t,o,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(U(U({},A),{},{loading:!0})),t=f({amount:(0,_.parseUnits)(n,r.decimals).toString(),reserve:s,interestRateMode:P.tk.Variable,debtTokenAddress:r.variableDebtTokenAddress}),e.next=5,g(t);case 5:return t=e.sent,e.next=8,H(t);case 8:return o=e.sent,e.next=11,o.wait(1);case 11:E({txHash:o.hash,loading:!1,success:!0}),j(o.hash,{action:P.UQ.borrow,txState:"success",asset:s,amount:n,assetName:r.name}),G.invalidateQueries({queryKey:L.B.pool}),G.invalidateQueries({queryKey:L.B.gho}),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(0),a=(0,Z.WG)(e.t0,Z.aD.GAS_ESTIMATION,!1),T(a),E({txHash:void 0,loading:!1});case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),X=(0,i.useCallback)(function(){var e=(0,B.Z)(S().mark((function e(t){var o,a,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s!==h.hP||void 0!==Q&&!t){e.next=8;break}return k(!0),e.next=4,v({debtTokenAddress:r.variableDebtTokenAddress,delegatee:null!==(o=m.addresses.WETH_GATEWAY)&&void 0!==o?o:""});case 4:a=e.sent,K(a),e.next=10;break;case 8:z(!1),F({});case 10:Q&&s===h.hP&&(i=(0,M.iv)({approvedAmount:Q.amount,amount:n,signedAmount:"0"}),z(i),i&&F({})),k(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,Q,m.addresses.WETH_GATEWAY,v,s,r.variableDebtTokenAddress,F,k]);return(0,i.useEffect)((function(){X()}),[X,s]),(0,i.useEffect)((function(){var e=0;e=Number(h.eB[P.UQ.borrow].recommended),Y&&!w.success&&(e+=Number(M.Fi)),D(e.toString())}),[Y,w,D]),(0,W.jsx)(R.B,{blocked:d,mainTxState:A,approvalTxState:w,requiresAmount:!0,amount:n,isWrongNetwork:l,handleAction:J,actionText:(0,W.jsx)(a.cC,{id:"Borrow {symbol}",values:{symbol:t}}),actionInProgressText:(0,W.jsx)(a.cC,{id:"Borrowing {symbol}",values:{symbol:t}}),handleApproval:function(){return $()},requiresApproval:Y,preparingTransactions:C,sx:p})})),V=r(30120),Y=r(75158),z=r(69331),q=function(e){var t=e.riskCheckboxAccepted,r=e.onRiskCheckboxChange,n=(0,u.Y)((function(e){return e.trackEvent}));return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(z.v,{severity:"error",sx:{my:6},children:(0,W.jsx)(a.cC,{id:"Borrowing this amount will reduce your health factor and increase risk of liquidation."})}),(0,W.jsxs)(V.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",mx:"24px",mb:"12px"},children:[(0,W.jsx)(Y.Z,{checked:t,onChange:function(e){n(p.vh.ACCEPT_RISK,{modal:"Borrow",riskCheckboxAccepted:e.target.checked}),r()},size:"small","data-cy":"risk-checkbox"}),(0,W.jsx)(y.Z,{variant:"description",children:(0,W.jsx)(a.cC,{id:"I acknowledge the risks involved."})})]})]})},Q=function(e){var t=e.underlyingAsset,r=(0,u.Y)((function(e){return e.trackEvent}));return(0,W.jsx)(z.v,{severity:"info",sx:{my:6},children:(0,W.jsx)(a.cC,{id:"<0>Attention:</0> Parameter changes via governance can alter your account health factor and risk of liquidation. Follow the <1>Aave governance forum</1> for updates.",components:{0:(0,W.jsx)("b",{}),1:(0,W.jsx)("a",{onClick:function(){r(p.vh.EXTERNAL_LINK,{asset:t,Link:"Governance Link"})},href:"https://governance.aave.com/"})}})})};!function(e){e[e.STABLE_RATE_NOT_ENABLED=0]="STABLE_RATE_NOT_ENABLED",e[e.NOT_ENOUGH_LIQUIDITY=1]="NOT_ENOUGH_LIQUIDITY",e[e.BORROWING_NOT_AVAILABLE=2]="BORROWING_NOT_AVAILABLE",e[e.NOT_ENOUGH_BORROWED=3]="NOT_ENOUGH_BORROWED"}(H||(H={}));var K=function(e){var t=e.underlyingAsset,r=e.isWrongNetwork,n=e.poolReserve,o=e.unwrap,s=e.setUnwrap,u=e.symbol,d=e.user,x=(0,c.vR)(),b=x.mainTxState,B=x.gasLimit,k=x.txError,S=(0,g.HT)().marketReferencePriceInUsd,P=(0,l.f)().currentNetworkConfig,I=(0,j.ov)().borrowCap,_=(0,i.useState)(""),N=_[0],Z=_[1],L=(0,i.useState)(!1),R=L[0],M=L[1],F=(0,O.nG)(n,d),U=N===F,V=(0,f.hE)(N).multipliedBy(n.formattedPriceInMarketReferenceCurrency).multipliedBy(S).shiftedBy(-v.$3),Y=(0,m.L1)({collateralBalanceMarketReferenceCurrency:d.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:(0,f.hE)(d.totalBorrowsUSD).plus(V),currentLiquidationThreshold:d.currentLiquidationThreshold}),z=Y.toNumber()<1.5&&"-1"!==Y.toString(),K=(0,f.hE)(N).multipliedBy(n.priceInUSD),$=void 0;(0,f.hE)(N).gt(n.formattedAvailableLiquidity)?$=H.NOT_ENOUGH_LIQUIDITY:n.borrowingEnabled||($=H.BORROWING_NOT_AVAILABLE);var J={address:t,symbol:n.iconSymbol,decimals:n.decimals},X=o&&n.isWrappedBaseAsset?P.baseAssetSymbol:n.iconSymbol;return b.success?(0,W.jsx)(T.R,{action:(0,W.jsx)(a.cC,{id:"Borrowed"}),amount:N,symbol:X,addToken:o&&n.isWrappedBaseAsset?void 0:J}):(0,W.jsxs)(W.Fragment,{children:[I.determineWarningDisplay({borrowCap:I}),(0,W.jsx)(C.W,{value:N,onChange:function(e){if("-1"===e)Z(F);else{var t=(0,w.$w)(e,n.decimals);Z(t)}},usdValue:K.toString(10),assets:[{balance:F,symbol:u,iconSymbol:X}],symbol:u,capType:A.R.borrowCap,isMaxSelected:U,maxValue:F,balanceText:(0,W.jsx)(a.cC,{id:"Available"}),event:{eventName:p.vh.MAX_INPUT_SELECTION,eventParams:{asset:n.underlyingAsset,assetName:n.name}}}),void 0!==$&&(0,W.jsx)(y.Z,{variant:"helperText",color:"error.main",children:function(){switch($){case H.BORROWING_NOT_AVAILABLE:return(0,W.jsx)(a.cC,{id:"Borrowing is currently unavailable for {0}.",values:{0:n.symbol}});case H.NOT_ENOUGH_LIQUIDITY:return(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(a.cC,{id:"There are not enough funds in the{0}reserve to borrow",values:{0:n.symbol}})});default:return null}}()}),n.isWrappedBaseAsset&&(0,W.jsx)(D.Pu,{unwrapped:o,setUnWrapped:s,label:(0,W.jsx)(y.Z,{children:"Unwrap ".concat(n.symbol," (to borrow ").concat(P.baseAssetSymbol,")")})}),(0,W.jsxs)(D.m6,{gasLimit:B,children:[(0,W.jsx)(D.aE,{incentives:n.vIncentivesData,symbol:n.symbol}),(0,W.jsx)(D.jz,{visibleHfChange:!!N,healthFactor:d.healthFactor,futureHealthFactor:Y.toString(10)})]}),k&&(0,W.jsx)(E.Q,{txError:k}),z&&(0,W.jsx)(q,{riskCheckboxAccepted:R,onRiskCheckboxChange:function(){M(!R)}}),(0,W.jsx)(Q,{underlyingAsset:t}),(0,W.jsx)(G,{poolReserve:n,amountToBorrow:N,poolAddress:o&&n.isWrappedBaseAsset?h.hP:n.underlyingAsset,isWrongNetwork:r,symbol:u,blocked:void 0!==$||z&&!R,sx:z?{mt:0}:{}})]})},$=r(80227),J=r(81645),X=r(99552),ee=r(75437),te=r(41024),re=r(68861),ne=r(14463),oe=r(92391),ae=r(73030),ie=r(3622),se=r(56365),ce=r(58057),le=r(62278),ue=r(39702),de=r(64232),pe=r(81719),xe=r(75084),be=r(80562),he=r(62097),fe=r(61225),ve=r(91655),me=r(5152),ye=r(4730),ge=["sx"];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=function(e){var t=e.sx,r=(0,ye.Z)(e,ge);return(0,W.jsxs)(J.Z,Oe(Oe({sx:Oe({},t),xmlns:"http://www.w3.org/2000/svg","aria-label":"Hey",viewBox:"0 0 16 16"},r),{},{children:[(0,W.jsxs)("g",{clipPath:"url(#clip0_4560_45564)",children:[(0,W.jsx)("path",{d:"M6.91944 7.59576C6.72478 7.92306 3.68827 7.97806 2.0317 7.04968C0.375136 6.12129 1.17996 3.28268 2.86021 2.53729C4.54046 1.79191 7.1141 7.2685 6.91944 7.59576Z"}),(0,W.jsx)("path",{d:"M6.89648 8.73193C7.09114 9.05923 5.622 11.6393 3.96542 12.5677C2.30885 13.4961 0.178713 11.4002 0.353823 9.61506C0.528933 7.82987 6.70182 8.40462 6.89648 8.73193Z"}),(0,W.jsx)("path",{d:"M7.89858 9.31921C8.28794 9.31921 9.85521 11.8443 9.85521 13.7011C9.85521 15.5578 6.92026 16.3006 5.41513 15.2608C3.90999 14.221 7.50926 9.31917 7.89858 9.31921Z"}),(0,W.jsx)("path",{d:"M8.92364 8.77067C9.1183 8.44332 12.1548 8.38837 13.8114 9.31675C15.4679 10.2451 14.6631 13.0837 12.9829 13.8291C11.3026 14.5745 8.72898 9.09793 8.92364 8.77067Z"}),(0,W.jsx)("path",{d:"M8.94665 7.63436C8.75199 7.30706 10.2211 4.72699 11.8777 3.79858C13.5343 2.8702 15.6644 4.96609 15.4893 6.75123C15.3142 8.53642 9.14131 7.96167 8.94665 7.63436Z"}),(0,W.jsx)("path",{d:"M7.94455 7.04693C7.55519 7.04693 5.98792 4.52182 5.98792 2.66506C5.98792 0.80829 8.92286 0.0655506 10.428 1.10534C11.9332 2.14514 8.33386 7.04697 7.94455 7.04693Z"})]}),(0,W.jsx)("defs",{children:(0,W.jsx)("clipPath",{id:"clip0_4560_45564",children:(0,W.jsx)("rect",{width:"15.157",height:"15.157",transform:"translate(0.343079 0.604614)"})})})]}))};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee,Te=(0,me.default)((function(){return r.e(7283).then(r.bind(r,17283))})),De=(0,pe.ZP)(xe.Z)((function(){return{minWidth:139,borderRadius:32,background:"linear-gradient(252.63deg, rgba(255, 255, 255, 0.2) 33.91%, rgba(255, 255, 255, 0.08) 73.97%), linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08))",transition:"transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",height:48,"&:hover":{background:"linear-gradient(252.63deg, rgba(255, 255, 255, 0.2) 33.91%, rgba(255, 255, 255, 0.08) 73.97%), linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2))",transform:"translateY(-3px)",border:"1px solid #FFFFFF20"},"&:disabled":{border:"1px solid #FFFFFF20"},backdropFilter:"blur(5px)",border:"1px solid #FFFFFF20"}})),Be=(0,pe.ZP)(be.Z)((function(){return{backgroundColor:"white",width:48,height:48,transition:"transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)","&:hover":{backgroundColor:"white",transform:"translateY(-3px)",boxShadow:"0px 4px 4px 0px #00000040"}}})),ke=(0,pe.ZP)(V.Z)((function(){return{position:"relative",overflow:"hidden","&:hover":{".image-bar-gho":{display:"flex",bottom:30}}}})),Se=(0,pe.ZP)(V.Z)((function(){return{transition:"bottom 0.3s",position:"absolute",bottom:-50,display:"flex",width:"100%",alignItems:"center",paddingLeft:16,paddingRight:16,"@media (hover: none)":{bottom:30}}})),Pe=function(e){return(0,W.jsx)(J.Z,Ce(Ce({},e),{},{children:(0,W.jsx)(se.Z,{})}))},Ie=function(e){var t=e.txHash,r=e.action,o=e.amount,s=e.symbol,d=(0,i.useState)(),x=d[0],b=d[1],h=(0,i.useState)(),f=h[0],v=h[1],m=(0,i.useState)(!1),g=m[0],j=m[1],O=(0,c.vR)().mainTxState,w=(0,l.f)().currentNetworkConfig,A=(0,i.useRef)(null),C=(0,he.Z)(),E=(0,fe.Z)(C.breakpoints.down("xsm")),T=(0,u.Y)((function(e){return e.trackEvent})),D=(0,te.J)({value:o,visibleDecimals:2,roundDown:!0}),B="".concat(D.prefix).concat(D.postfix),k="undefined"!==typeof ClipboardItem;return(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(V.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,W.jsx)(V.Z,{sx:{width:"48px",height:"48px",bgcolor:"success.200",borderRadius:"50%",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,W.jsx)(J.Z,{sx:{color:"success.main",fontSize:"32px"},children:(0,W.jsx)(ce.Z,{})})}),(0,W.jsx)(y.Z,{sx:{mt:4},variant:"h2",children:(0,W.jsx)(a.cC,{id:"All done!"})}),(0,W.jsx)(V.Z,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:r&&o&&s&&(0,W.jsx)(y.Z,{children:(0,W.jsx)(a.cC,{id:"You {action} <0/> {symbol}",values:{action:r,symbol:s},components:{0:(0,W.jsx)(te.B,{value:Number(o),compact:!0,variant:"secondary14"})}})})}),(0,W.jsx)(xe.Z,{sx:{mt:4},variant:"outlined",size:"small",endIcon:(0,W.jsx)(Pe,{style:{fontSize:12}}),onClick:function(){return T(p.Sd.GHO_BORROW_VIEW_TX_DETAILS)},href:w.explorerLinkBuilder({tx:t||O.txHash}),target:"_blank",children:(0,W.jsx)(y.Z,{variant:"buttonS",children:(0,W.jsx)(a.cC,{id:"Review tx details"})})}),(0,W.jsx)(y.Z,{sx:{mt:6,mb:4},variant:"h2",children:(0,W.jsx)(a.cC,{id:"Save and share"})}),(0,W.jsx)("canvas",{style:{display:"none"},width:1169,height:900,ref:A}),x&&f?(0,W.jsxs)(ke,{children:[(0,W.jsx)("img",{src:x,alt:"minted gho",style:{maxWidth:"100%",borderRadius:"10px"}}),(0,W.jsxs)(Se,{className:"image-bar-gho",children:[k?(0,W.jsx)(De,{disabled:g,onClick:function(){f&&navigator.clipboard.write([new ClipboardItem((0,n.Z)({},f.type,f))]).then((function(){T(p.Sd.GHO_COPY_IMAGE),j(!0),setTimeout((function(){j(!1)}),5e3)})).catch((function(){T(p.Sd.GHO_FAIL_COPY_IMAGE)}))},sx:{display:"flex"},variant:"outlined",size:"large",startIcon:g?(0,W.jsx)(J.Z,{sx:{color:"white",fontSize:16},children:(0,W.jsx)(ce.Z,{})}):(0,W.jsx)(le.Z,{style:{fontSize:16,fill:"white"}}),children:(0,W.jsx)(y.Z,{variant:"buttonS",color:"white",children:g?(0,W.jsx)(a.cC,{id:"COPIED!"}):(0,W.jsx)(a.cC,{id:"COPY IMAGE"})})}):(0,W.jsx)(De,{download:"minted_gho.png",href:URL.createObjectURL(f),onClick:function(){return T(p.Sd.GHO_DOWNLOAD_IMAGE)},sx:{display:"flex"},variant:"outlined",size:"large",startIcon:g?(0,W.jsx)(J.Z,{sx:{color:"white",fontSize:16},children:(0,W.jsx)(ce.Z,{})}):(0,W.jsx)(ue.Z,{style:{fontSize:16,fill:"white"}}),children:(0,W.jsx)(y.Z,{variant:"buttonS",color:"white",children:(0,W.jsx)(a.cC,{id:"Download"})})}),(0,W.jsx)(Be,{target:"_blank",href:"https://hey.xyz/?url=".concat(window.location.href,"&text=","I just minted ".concat(B," GHO"),"&hashtags=Aave&preview=true"),size:"small",sx:{ml:"auto"},onClick:function(){return T(p.Sd.GHO_SHARE_HEY)},children:(0,W.jsx)(we,{sx:{fill:"#845EEE"},fontSize:"small"})}),(0,W.jsx)(Be,{target:"_blank",href:"https://twitter.com/intent/tweet?text=I Just minted ".concat(B," GHO"),sx:{ml:2},onClick:function(){return T(p.Sd.GHO_SHARE_TWITTER)},children:(0,W.jsx)(de.Z,{fontSize:"small",sx:{fill:"#33CEFF"}})})]})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(ve.Z,{height:E?240:286,sx:{borderRadius:4,width:"100%"}}),(0,W.jsx)("div",{style:{visibility:"hidden",position:"absolute"},children:(0,W.jsx)(Te,{onSuccessEditing:function(e){if(A.current){var t=A.current.getContext("2d");if(t){var r=new Image;r.onload=function(){document.fonts.ready.then((function(){var e,n;t.drawImage(r,0,0),b(null===(e=A.current)||void 0===e?void 0:e.toDataURL("png",1)),null===(n=A.current)||void 0===n||n.toBlob((function(e){return v(e)}),"png")}))},r.src="data:image/svg+xml;utf8,".concat(encodeURIComponent(e.outerHTML))}}},text:B})})]})]})})};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.STABLE_RATE_NOT_ENABLED=0]="STABLE_RATE_NOT_ENABLED",e[e.NOT_ENOUGH_LIQUIDITY=1]="NOT_ENOUGH_LIQUIDITY",e[e.BORROWING_NOT_AVAILABLE=2]="BORROWING_NOT_AVAILABLE",e[e.NOT_ENOUGH_BORROWED=3]="NOT_ENOUGH_BORROWED"}(Ee||(Ee={}));var Ze=function(e){var t=e.underlyingAsset,r=e.isWrongNetwork,n=e.poolReserve,o=e.symbol,s=e.user,l=(0,c.vR)(),p=l.mainTxState,x=l.gasLimit,b=l.txError,h=l.close,T=(0,u.Y)((function(e){return e.currentMarketData})),B=(0,u.Y)((function(e){return e.currentMarket})),k=(0,g.HT)(),S=k.marketReferencePriceInUsd,P=k.ghoReserveData,I=k.ghoUserData,_=k.ghoLoadingData,N=(0,ie.l)(T).data,Z=(0,ae.b)(T).data,L=(0,j.ov)().borrowCap,R=(0,i.useState)(""),M=R[0],F=R[1],U=(0,i.useState)(!1),H=U[0],Y=U[1],z=I.userGhoBorrowBalance>0,K=I.userDiscountTokenBalance,$=!(!N||!Z)&&(0,d.k9)(Z,N,M),J=(0,O.BC)(s,n),X=M===(J=Math.min(Number(J),P.aaveFacilitatorRemainingCapacity).toFixed(10)),re=(0,f.hE)(M).multipliedBy(n.formattedPriceInMarketReferenceCurrency).multipliedBy(S).shiftedBy(-v.$3),ne=(0,m.L1)({collateralBalanceMarketReferenceCurrency:s.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:(0,f.hE)(s.totalBorrowsUSD).plus(re),currentLiquidationThreshold:s.currentLiquidationThreshold}),se=ne.toNumber()<1.5&&"-1"!==ne.toString(),ce=(0,f.hE)(M).multipliedBy(n.priceInUSD),le=I.userGhoBorrowBalance>=P.ghoMinDebtTokenBalanceForDiscount?I.userGhoAvailableToBorrowAtDiscount:0,ue=(0,d.li)(P.ghoVariableBorrowAPY,I.userGhoBorrowBalance,le,P.ghoBorrowAPYWithMaxDiscount),de=I.userGhoBorrowBalance+Number(M)>=P.ghoMinDebtTokenBalanceForDiscount?I.userGhoAvailableToBorrowAtDiscount:0,pe=(0,d.li)(P.ghoVariableBorrowAPY,I.userGhoBorrowBalance+Number(M),de,P.ghoBorrowAPYWithMaxDiscount),xe=void 0;n.borrowingEnabled||(xe=Ee.BORROWING_NOT_AVAILABLE);var be=function(){return xe===Ee.BORROWING_NOT_AVAILABLE?(0,W.jsx)(a.cC,{id:"Borrowing is currently unavailable for {0}.",values:{0:n.symbol}}):(0,W.jsx)(W.Fragment,{})},he=n.iconSymbol;return p.success?(0,W.jsx)(Ie,{action:(0,W.jsx)(a.cC,{id:"Borrowed"}),amount:M,symbol:he}):(0,W.jsxs)(W.Fragment,{children:[L.determineWarningDisplay({borrowCap:L}),(0,W.jsx)(C.W,{value:M,onChange:function(e){if("-1"===e)F(J);else{var t=(0,w.$w)(e,n.decimals);F(t)}},usdValue:ce.toString(10),assets:[{balance:J,symbol:o,iconSymbol:he}],symbol:o,capType:A.R.borrowCap,isMaxSelected:X,maxValue:J,balanceText:(0,W.jsx)(a.cC,{id:"Available"})}),void 0!==xe&&(0,W.jsx)(y.Z,{variant:"helperText",color:"error.main",children:(0,W.jsx)(be,{})}),(0,W.jsxs)(D.m6,{gasLimit:x,children:[(0,W.jsx)(D.jz,{visibleHfChange:!!M,healthFactor:s.healthFactor,futureHealthFactor:ne.toString(10)}),(0,W.jsx)(oe.X,{caption:(0,W.jsx)(V.Z,{children:(0,W.jsx)(ee.n,{text:(0,W.jsx)(a.cC,{id:"APY, borrow rate"}),variant:"subheader2",color:"text.secondary"})}),captionVariant:"description",mb:4,align:"flex-start",children:(0,W.jsx)(V.Z,{sx:{textAlign:"right"},children:(0,W.jsx)(V.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,W.jsx)(Le,{ghoLoadingData:_,hasGhoBorrowPositions:z,borrowAmount:M,discountAvailable:$,userDiscountTokenBalance:I.userDiscountTokenBalance,underlyingAsset:t,customMarket:B,currentBorrowAPY:ue,futureBorrowAPY:pe,onDetailsClick:function(){return h()}})})})}),$&&(0,W.jsx)(y.Z,{variant:"helperText",color:"text.secondary",children:(0,W.jsx)(a.cC,{id:"Discount applied for <0/> staking AAVE",components:{0:(0,W.jsx)(te.B,{variant:"helperText",color:"text.secondary",visibleDecimals:2,value:K})}})})]}),b&&(0,W.jsx)(E.Q,{txError:b}),se&&(0,W.jsx)(q,{riskCheckboxAccepted:H,onRiskCheckboxChange:function(){Y(!H)}}),(0,W.jsx)(Q,{underlyingAsset:t}),(0,W.jsx)(G,{poolReserve:n,amountToBorrow:M,poolAddress:n.underlyingAsset,isWrongNetwork:r,symbol:o,blocked:void 0!==xe||se&&!H,sx:se?{mt:0}:{}})]})},Le=function(e){var t=e.ghoLoadingData,r=e.hasGhoBorrowPositions,n=e.borrowAmount,o=e.discountAvailable,a=e.userDiscountTokenBalance,i=e.underlyingAsset,s=e.customMarket,c=e.currentBorrowAPY,l=e.futureBorrowAPY,u=e.onDetailsClick;if(t||!r&&""===n&&o)return(0,W.jsx)(ne.J,{variant:"secondary14",color:"text.secondary"});var d={stkAaveBalance:a||0,ghoRoute:re.Z6.reserveOverview(i,s)+"/#discount",userQualifiesForDiscount:o,"data-cy":"apyType"};return r||""===n?r&&""===n?(0,W.jsx)(X.B,Ne({withTokenIcon:o,value:c,onMoreDetailsClick:u},d)):o?o?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(X.B,Ne({withTokenIcon:!0,value:c,onMoreDetailsClick:u},d)),!!n&&(0,W.jsxs)(W.Fragment,{children:[r&&(0,W.jsx)(J.Z,{color:"primary",sx:{fontSize:"14px",mx:1},children:(0,W.jsx)($.Z,{})}),(0,W.jsx)(X.B,Ne({value:t?-1:l},d))]})]}):(0,W.jsx)(ne.J,{variant:"secondary14",color:"text.secondary"}):(0,W.jsx)(X.B,Ne({value:c,onMoreDetailsClick:u},d)):(0,W.jsx)(X.B,Ne({withTokenIcon:o,value:l},d))};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We=function(){var e=(0,c.vR)(),t=e.type,r=e.close,n=e.args,h=(0,l.f)().currentMarket,f=(0,i.useState)(!0),v=f[0],m=f[1],y=(0,u.Y)((function(e){return[e.trackEvent]})),g=(0,o.Z)(y,1)[0],j=function(e){g(p.vh.OPEN_MODAL,{modal:"Unwrap Asset",asset:n.underlyingAsset,assetWrapped:e}),m(e)};return(0,W.jsx)(x.P,{open:t===c.w8.Borrow,setOpen:r,children:(0,W.jsx)(b.A,{action:"borrow",title:(0,W.jsx)(a.cC,{id:"Borrow"}),underlyingAsset:n.underlyingAsset,keepWrappedSymbol:!v,children:function(e){return(0,W.jsx)(s.X,{children:function(t){return(0,d.F$)({symbol:e.symbol,currentMarket:h})?(0,W.jsx)(Ze,Me(Me({},e),{},{user:t})):(0,W.jsx)(K,Me(Me({},e),{},{user:t,unwrap:v,setUnwrap:j}))}})}})})}},94635:function(e,t,r){r.d(t,{A:function(){return v}});var n=r(80854),o=(r(67294),r(46839)),a=r(82482),i=r(43629),s=r(66209),c=r(8195),l=r(77537),u=r(78371),d=r(63206),p=r(57609),x=r(78944),b=r(10343),h=r(63491),f=r(85893),v=function(e){var t,r,v=e.hideTitleSymbol,m=e.underlyingAsset,y=e.children,g=e.requiredChainId,j=e.title,O=e.keepWrappedSymbol,w=(0,l.Z)().readOnlyModeAddress,A=(0,u.Y)((function(e){return e.currentMarketData})),C=(0,u.Y)((function(e){return e.currentNetworkConfig})),E=(0,a.P)(A).walletBalances,T=(0,o.HT)(),D=T.user,B=T.reserves,k=(0,c.vR)(),S=k.txError,P=k.mainTxState,I=(0,s.Q)(g),_=I.isWrongNetwork,N=I.requiredChainId;if(S&&S.blocking)return(0,f.jsx)(h.D,{txError:S});var Z=B.find((function(e){return m.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:m===e.underlyingAsset})),L=null===D||void 0===D?void 0:D.userReservesData.find((function(e){return m.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:m===e.underlyingAsset})),R=Z.isWrappedBaseAsset&&!O?C.baseAssetSymbol:Z.symbol;return(0,f.jsxs)(i.hv,{asset:Z,children:[!P.success&&(0,f.jsx)(x.E,{title:j,symbol:v?void 0:R}),_&&!w&&(0,f.jsx)(b.I,{networkName:(0,d.Mo)(N).name,chainId:N,event:{eventName:p.vh.SWITCH_NETWORK,eventParams:{asset:m}}}),y({isWrongNetwork:_,nativeBalance:(null===(t=E[n.hP.toLowerCase()])||void 0===t?void 0:t.amount)||"0",tokenBalance:(null===(r=E[Z.underlyingAsset.toLowerCase()])||void 0===r?void 0:r.amount)||"0",poolReserve:Z,symbol:R,underlyingAsset:m,userReserve:L})]})}},94671:function(e,t,r){r.d(t,{NI:function(){return n},gK:function(){return i},pQ:function(){return s},Fi:function(){return c},iv:function(){return l},yI:function(){return u}});var n,o=r(70794),a=r(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(n||(n={}));var i=function(e,t){return"-1"!==e&&new o.O(e).minus(new o.O(t)).lt("1.05")},s=65e3,c=55e3,l=function(e){var t=e.approvedAmount,r=e.signedAmount,n=e.amount;return!("-1"===t||"-1"===r||"0"!==t&&Number(t)>=Number(n)||Number(r)>=Number(n))},u=function(e,t,r,n){var o=e.reserve;if(!o.usageAsCollateralEnabled)return a.z.UNAVAILABLE;var i=a.z.ENABLED,s=e&&"0"!==e.scaledATokenBalance,c="0"!==t;return o.isIsolated?n?i=a.z.UNAVAILABLE:r?s?i=e.usageAsCollateralEnabledOnUser?a.z.ISOLATED_ENABLED:a.z.DISABLED:c&&(i=a.z.UNAVAILABLE_DUE_TO_ISOLATION):i=c?a.z.ISOLATED_DISABLED:a.z.ISOLATED_ENABLED:i=r?a.z.UNAVAILABLE_DUE_TO_ISOLATION:s?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED,i}},66209:function(e,t,r){r.d(t,{Q:function(){return a}});var n=r(77537),o=r(46930);function a(e){var t=(0,o.f)().currentChainId,r=e||t;return{isWrongNetwork:(0,n.Z)().chainId!==r,requiredChainId:r}}},59286:function(e,t,r){r.d(t,{nG:function(){return s},BC:function(){return c},hF:function(){return l}});var n=r(1279),o=r(70794),a=r(21046),i=r(87385);function s(e,t){var r,s,c,l,u=e.availableLiquidityUSD,d=o.Z.min(t.availableBorrowsUSD,u),p="0"===e.borrowCap?(0,n.hE)(a.Bz.toString()):(0,n.hE)(Number(e.borrowCap)).minus((0,n.hE)(e.totalDebt)),x=o.Z.max(o.Z.min(e.formattedAvailableLiquidity,p),0),b=(0,n.hE)((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||0).div(e.formattedPriceInMarketReferenceCurrency),h=o.Z.min(b,x),f=h.gte(b)||"0"!==t.totalBorrowsMarketReferenceCurrency&&d.lt(u)||d.eq(u)&&"0"!==e.totalDebt||e.borrowCapUSD&&"0"!==e.totalDebt&&d.gte(u)||t.isInIsolationMode&&"0"!==(null===(r=t.isolatedReserve)||void 0===r?void 0:r.isolationModeTotalDebt)&&(0,n.hE)((null===(s=t.isolatedReserve)||void 0===s?void 0:s.debtCeiling)||"0").minus((null===(c=t.isolatedReserve)||void 0===c?void 0:c.isolationModeTotalDebt)||"0").shiftedBy(-((null===(l=t.isolatedReserve)||void 0===l?void 0:l.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(t.availableBorrowsUSD)?h.multipliedBy("0.99"):h;return(0,i.$w)(f.toString(10),e.decimals)}function c(e,t){var r,s,c,l,u=(0,n.hE)((null===e||void 0===e?void 0:e.availableBorrowsMarketReferenceCurrency)||0),d="0"===t.borrowCap?(0,n.hE)(a.Bz.toString()):(0,n.hE)(Number(t.borrowCap)).minus((0,n.hE)(t.totalDebt)),p=o.Z.max(o.Z.min(u,d),0),x="0"!==e.totalBorrowsMarketReferenceCurrency||t.borrowCapUSD&&"0"!==t.totalDebt&&p.gte(d)||e.isInIsolationMode&&"0"!==(null===(r=e.isolatedReserve)||void 0===r?void 0:r.isolationModeTotalDebt)&&(0,n.hE)((null===(s=e.isolatedReserve)||void 0===s?void 0:s.debtCeiling)||"0").minus((null===(c=e.isolatedReserve)||void 0===c?void 0:c.isolationModeTotalDebt)||"0").shiftedBy(-((null===(l=e.isolatedReserve)||void 0===l?void 0:l.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(e.availableBorrowsUSD)?p.multipliedBy("0.99"):p;return(0,i.$w)(x.toString(10),18)}function l(e,t){var r=e.borrowingEnabled,n=e.isActive,o=e.borrowableInIsolation,a=e.eModes,i=e.isFrozen,s=e.isPaused;if(!r||!n||i||s)return!1;if(null!==t&&void 0!==t&&t.isInEmode){var c=a.find((function(e){return e.id===t.userEmodeCategoryId}));return!!c&&c.borrowingEnabled}return!(null!==t&&void 0!==t&&t.isInIsolationMode&&!o)}}}]);