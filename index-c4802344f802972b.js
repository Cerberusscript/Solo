(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{9144:function(e,t,r){"use strict";var n=r(63366),o=r(87462),i=r(67294),s=r(95408),a=r(98700),l=r(39707),c=r(59766),d=r(81719),u=r(78884),p=r(85893);const b=["component","direction","spacing","divider","children"];function x(e,t){const r=i.Children.toArray(e).filter(Boolean);return r.reduce(((e,n,o)=>(e.push(n),o<r.length-1&&e.push(i.cloneElement(t,{key:`separator-${o}`})),e)),[])}const h=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,s.k9)({theme:t},(0,s.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const n=(0,a.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,r)=>(("object"===typeof e.spacing&&null!=e.spacing[r]||"object"===typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t)),{}),i=(0,s.P$)({values:e.direction,base:o}),l=(0,s.P$)({values:e.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,r)=>{if(!i[e]){const n=t>0?i[r[t-1]]:"column";i[e]=n}}));const d=(t,r)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=r?i[r]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,a.NA)(n,t)}};var o};r=(0,c.Z)(r,(0,s.k9)({theme:t},l,d))}return r=(0,s.dt)(t.breakpoints,r),r})),m=i.forwardRef((function(e,t){const r=(0,u.Z)({props:e,name:"MuiStack"}),i=(0,l.Z)(r),{component:s="div",direction:a="column",spacing:c=0,divider:d,children:m}=i,v=(0,n.Z)(i,b),y={direction:a,spacing:c};return(0,p.jsx)(h,(0,o.Z)({as:s,ownerState:y,ref:t},v,{children:d?x(m,d):m}))}));t.Z=m},76920:function(e,t,r){"use strict";var n,o,i=r(67294);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",s({viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.78.628a.6.6 0 0 1 .42.572v3h2.4a.6.6 0 0 1 .492.944l-4.2 6A.6.6 0 0 1 4.8 10.8v-3H2.4a.6.6 0 0 1-.492-.944l4.2-6A.6.6 0 0 1 6.78.628Z",fill:"url(#lightningBoltGradient_svg__a)"})),o||(o=i.createElement("defs",null,i.createElement("linearGradient",{id:"lightningBoltGradient_svg__a",x1:10.2,y1:4.672,x2:1.345,y2:7.335,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#B6509E"}),i.createElement("stop",{offset:1,stopColor:"#2EBAC6"})))))}},38537:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Kr}});var n=r(49501),o=r(30120),i=r(29630),s=r(67294),a=r(34637),l=r(59379),c=r(46930),d=r(78371),u=r(45745),p=r(15446),b=r(65404),x=r(77537),h=r(75331),m=r(62097),v=r(61225),y=r(75084),f=r(11163),j=r(68861),w=r(57609),g=r(59499),C=r(80854),O=r(1279),k=r(82403),D=r(14379),A=r(45884),P=r(99435),S=r(1475),Z=r(69331),B=r(43629),T=r(41551),I=r(69125),E=r(81902),M=r(25049),R=r(45556),U=r(46839),N=130,L=160,F=130,Y=function(e,t,r,n,o){return e?V(t,r,n,o||!1):W(t,r,n,o||!1)},V=function(e,t,r,n){return"symbol"===e?_(!0,t,r):"usageAsCollateralEnabledOnUser"===e||"debt"===e?r.sort((function(t,r){return Number(t[e])-Number(r[e])})):(n&&r.sort((function(e,t){return Number(t.reserve.variableBorrowAPY)-Number(e.reserve.variableBorrowAPY)})),r.sort((function(t,r){return t[e]-r[e]})))},W=function(e,t,r,n){return"symbol"===e?_(!1,t,r):"usageAsCollateralEnabledOnUser"===e||"debt"===e?r.sort((function(t,r){return Number(r[e])-Number(t[e])})):(n&&r.sort((function(e,t){return Number(e.reserve.variableBorrowAPY)-Number(t.reserve.variableBorrowAPY)})),r.sort((function(t,r){return r[e]-t[e]})))},_=function(e,t,r){return e?"position"===t?r.sort((function(e,t){return e.reserve.symbol.toUpperCase()<t.reserve.symbol.toUpperCase()?-1:1})):r.sort((function(e,t){return e.symbol.toUpperCase()<t.symbol.toUpperCase()?-1:1})):"position"===t?r.sort((function(e,t){return t.reserve.symbol.toUpperCase()<e.reserve.symbol.toUpperCase()?-1:1})):r.sort((function(e,t){return t.symbol.toUpperCase()<e.symbol.toUpperCase()?-1:1}))},z=r(59286),H=r(85893),K=function(e){var t=e.children;e.isColumnHeader;return(0,H.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",maxWidth:L,minWidth:L,flex:1,".MuiButton-root":{ml:"6px"}},children:t})},q=function(e){var t=e.head;return(0,H.jsxs)(S.u,{children:[t.map((function(e,t){return(0,H.jsx)(A.h,{overFlow:"visible",isRow:0===t,children:(0,H.jsx)(P.M,{children:e})},t)})),(0,H.jsx)(K,{})]})},G=r(91655),X=r(32383),Q=function(e){var t=e.columns;return(0,H.jsxs)(X.H,{children:[(0,H.jsx)(A.h,{maxWidth:160,isRow:!0,children:(0,H.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(G.Z,{variant:"circular",width:32,height:32}),(0,H.jsx)(G.Z,{sx:{ml:3},width:39,height:20})]})}),Array.from({length:t-1}).map((function(e,t){return(0,H.jsx)(A.h,{children:(0,H.jsx)(G.Z,{width:70,height:20})},t)})),(0,H.jsxs)(K,{children:[(0,H.jsx)(G.Z,{height:38,width:74}),(0,H.jsx)(G.Z,{height:38,width:74,sx:{ml:"6px"}})]})]})},$=r(92391),J=r(15880),ee=function(){return(0,H.jsxs)(J.o,{loading:!0,children:[(0,H.jsx)($.X,{caption:(0,H.jsx)(G.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(G.Z,{width:70,height:20})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(G.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(G.Z,{width:70,height:20})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(G.Z,{width:100,height:20}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(G.Z,{width:70,height:20})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[(0,H.jsx)(G.Z,{width:"100%",height:36,sx:{mr:1.5}}),(0,H.jsx)(G.Z,{width:"100%",height:36})]})]})},te=function(e){var t=e.title,r=e.withTopMargin,n=e.head,o=(0,m.Z)(),s=(0,v.Z)(o.breakpoints.down("xsm"));return(0,H.jsx)(R.l,{titleComponent:(0,H.jsx)(i.Z,{component:"div",variant:"h3",sx:{mr:4},children:t}),withTopMargin:r,children:(0,H.jsxs)(H.Fragment,{children:[!s&&(0,H.jsx)(q,{head:n}),s?(0,H.jsx)(ee,{}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Q,{columns:n.length}),(0,H.jsx)(Q,{columns:n.length})]})]})})},re=r(8195),ne=r(87385),oe=r(41024),ie=r(58771),se=r(81645),ae=r(97563),le=function(e){var t=e.availableValue,r=e.isUSD,o=e.capType,i=r?"".concat(t,"$"):t,s=void 0;return t>0?s=o===E.R.supplyCap?(0,H.jsx)(n.cC,{id:"This asset has almost reached its supply cap. There can only be {messageValue} supplied to this market.",values:{messageValue:i}}):(0,H.jsx)(n.cC,{id:"This asset has almost reached its borrow cap. There is only {messageValue} available to be borrowed from this market.",values:{messageValue:i}}):t<=0&&(s=o===E.R.supplyCap?(0,H.jsx)(n.cC,{id:"This asset has reached its supply cap. Nothing is available to be supplied from this market."}):(0,H.jsx)(n.cC,{id:"This asset has reached its borrow cap. Nothing is available to be borrowed from this market."})),(0,H.jsx)(ae.a,{tooltipContent:(0,H.jsx)(H.Fragment,{children:s||""}),children:(0,H.jsx)(se.Z,{sx:{fontSize:"14px",color:"error.main"},children:(0,H.jsx)(ie.Z,{})})})},ce=function(e){var t=e.capType,r=e.capAmount,s=e.totalAmount,a=e.isUSD,l=e.withoutText,c=Number(r);if(c<=0)return null;var d=(0,O.hE)(s).dividedBy(c).toNumber(),u=(0,O.hE)(c).minus(s).multipliedBy("0.995").toNumber(),p=t===E.R.supplyCap?(0,H.jsx)(n.cC,{id:"Available to supply"}):(0,H.jsx)(n.cC,{id:"Available to borrow"});return d<.99?null:(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",ml:l?1:0},children:[(0,H.jsx)(le,{availableValue:u,isUSD:a,capType:t}),!l&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(i.Z,{variant:"tooltip",color:"text.secondary",children:p}),(0,H.jsx)(oe.B,{value:u>=0?u:0,compact:!0,symbol:a?"USD":void 0,variant:"tooltip"})]})]})},de=r(68682),ue=r(52906),pe=function(e){var t=e.value,r=e.market,n=e.protocolAction,i=e.incentives,s=e.symbol,a=e.tooltip,l=e.children;return(0,H.jsxs)(A.h,{children:[(0,H.jsxs)(o.Z,{sx:{display:"flex column"},children:[(0,H.jsx)(ue.J,{value:t,incentives:i,symbol:s}),(0,H.jsx)(de.E,{symbol:s,market:r,protocolAction:n}),a]}),l]})},be=r(4730),xe=r(72389),he=r(69507),me=r(14249),ve=r(61649),ye=r(63093),fe=r(83793),je=r(71692),we=r(85642),ge=r(35161),Ce=r(25169),Oe=r(42115),ke=r(72667),De=["symbol","iconSymbol","children","name","detailsAddress","currentMarket","frozen","paused","borrowEnabled","showSupplyCapTooltips","showBorrowCapTooltips","showDebtCeilingTooltips","showExternalIncentivesTooltips"];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t,r=e.symbol,n=e.iconSymbol,o=e.children,s=e.name,a=e.detailsAddress,l=e.currentMarket,c=e.frozen,u=e.paused,p=e.borrowEnabled,b=void 0===p||p,x=e.showSupplyCapTooltips,h=void 0!==x&&x,m=e.showBorrowCapTooltips,v=void 0!==m&&m,y=e.showDebtCeilingTooltips,f=void 0!==y&&y,g=e.showExternalIncentivesTooltips,C=void 0===g?{superFestRewards:!1,spkAirdrop:!1}:g,O=(0,be.Z)(e,De),k=(0,B.ov)(),D=k.supplyCap,P=k.borrowCap,S=k.debtCeiling,Z=c&&"renFIL"!==r&&"BUSD"!==r,T=c&&"renFIL"===r,I=!c&&"AMPL"===r,E="stETH"==r,M=null===(t=we.U[l])||void 0===t?void 0:t[r],R=!c&&!b,U=(0,d.Y)((function(e){return e.trackEvent}));return(0,H.jsxs)(X.H,Pe(Pe({},O),{},{children:[(0,H.jsxs)(A.h,{maxWidth:F,isRow:!0,children:[(0,H.jsxs)(j.rU,{onClick:function(){return U(w.h1.DETAILS_NAVIGATION,{type:"Row click",market:l,assetName:s,asset:a})},href:j.Z6.reserveOverview(a,l),noWrap:!0,sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(ke.T1,{symbol:n,fontSize:"large"}),(0,H.jsx)(xe.Z,{title:"".concat(s," (").concat(r,")"),arrow:!0,placement:"top",children:(0,H.jsx)(i.Z,{variant:"subheader1",sx:{ml:3},noWrap:!0,"data-cy":"assetName",children:r})})]}),u&&(0,H.jsx)(ve.n,{}),C.superFestRewards&&(0,H.jsx)(je.S,{}),C.spkAirdrop&&(0,H.jsx)(ye.d,{}),Z&&(0,H.jsx)(Ce.Q,{symbol:r,currentMarket:l}),T&&(0,H.jsx)(Oe.F,{}),I&&(0,H.jsx)(ge.$,{}),E&&(0,H.jsx)(fe.n,{}),M&&(0,H.jsx)(me.H,{discussionLink:M}),R&&(0,H.jsx)(he.w,{symbol:r,currentMarket:l}),h&&D.displayMaxedTooltip({supplyCap:D}),v&&P.displayMaxedTooltip({borrowCap:P}),f&&S.displayMaxedTooltip({debtCeiling:S})]}),o]}))};function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te=function(e){var t=e.value,r=e.withTooltip,n=e.subValue,i=e.disabled,s=e.capsComponent;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(oe.B,{value:t,variant:"secondary14",sx:{mb:!r&&n?"2px":0},color:i?"text.disabled":"text.main","data-cy":"nativeAmount"}),s]}),!r&&!!n&&!i&&(0,H.jsx)(oe.B,{value:n,symbol:"USD",variant:"secondary12",color:"text.secondary"})]})},Ie=function(e){var t=e.symbol,r=e.value,n=e.subValue,i=e.withTooltip,s=e.capsComponent,a=e.disabled,l=e.listColumnProps,c=void 0===l?{}:l;return(0,H.jsx)(A.h,Be(Be({},c),{},{children:i?(0,H.jsx)(xe.Z,{title:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,H.jsx)(oe.B,{value:n||0,symbol:"USD",variant:"secondary14",sx:{mb:"2px"},symbolsColor:"common.white",compact:!1}),(0,H.jsx)(oe.B,{value:r,variant:"secondary12",symbol:t,symbolsColor:"common.white",compact:!1})]}),arrow:!0,placement:"top",children:(0,H.jsx)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,H.jsx)(Te,{symbol:t,value:r,subValue:n,capsComponent:s,disabled:a,withTooltip:i})})}):(0,H.jsx)(Te,{symbol:t,value:r,subValue:n,capsComponent:s,disabled:a,withTooltip:i})}))},Ee=function(e){var t=e.symbol,r=e.iconSymbol,o=e.name,i=e.availableBorrows,s=e.availableBorrowsInUSD,a=e.borrowCap,l=e.totalBorrows,u=e.variableBorrowRate,p=e.vIncentivesData,b=e.underlyingAsset,x=e.isFreezed,m=(0,re.vR)().openBorrow,v=(0,c.f)().currentMarket,f=x||Number(i)<=0,g=(0,d.Y)((function(e){return e.trackEvent}));return(0,H.jsxs)(Se,{symbol:t,iconSymbol:r,name:o,detailsAddress:b,"data-cy":"dashboardBorrowListItem_".concat(t.toUpperCase()),currentMarket:v,showExternalIncentivesTooltips:(0,ne.f8)(t,v,h.UQ.borrow),children:[(0,H.jsx)(Ie,{symbol:t,value:Number(i),subValue:Number(s),disabled:0===Number(i),withTooltip:!1,capsComponent:(0,H.jsx)(ce,{capType:E.R.borrowCap,capAmount:a,totalAmount:l,withoutText:!0})}),(0,H.jsx)(pe,{value:Number(u),market:v,protocolAction:h.UQ.borrow,incentives:p,symbol:t}),(0,H.jsxs)(K,{children:[(0,H.jsx)(y.Z,{disabled:f,variant:"contained",onClick:function(){m(b,v,o,"dashboard")},children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{variant:"outlined",component:j.rU,href:j.Z6.reserveOverview(b,v),onClick:function(){g(w.h1.DETAILS_NAVIGATION,{type:"Button",market:v,assetName:o,asset:b})},children:(0,H.jsx)(n.cC,{id:"Details"})})]})]})},Me=function(e){var t=e.title,r=e.capsComponent,n=e.value,i=e.subValue,s=e.disabled;return(0,H.jsx)($.X,{caption:t,captionVariant:"description",align:"flex-start",mb:2,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:[(0,H.jsx)(oe.B,{value:n,variant:"secondary14",color:s?"text.disabled":"text.primary"}),r]}),!s&&(0,H.jsx)(oe.B,{value:i,variant:"secondary12",color:"text.secondary",symbol:"USD",mb:.5})]})})},Re=function(e){var t=e.symbol,r=e.iconSymbol,i=e.name,s=e.availableBorrows,a=e.availableBorrowsInUSD,l=e.borrowCap,d=e.totalBorrows,u=e.variableBorrowRate,p=e.vIncentivesData,b=e.underlyingAsset,x=e.isFreezed,m=(0,re.vR)().openBorrow,v=(0,c.f)().currentMarket,f=x||Number(s)<=0;return(0,H.jsxs)(J.o,{symbol:t,iconSymbol:r,name:i,underlyingAsset:b,currentMarket:v,showExternalIncentivesTooltips:(0,ne.f8)(t,v,h.UQ.borrow),children:[(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Available to borrow"}),value:Number(s),subValue:Number(a),disabled:0===Number(s),capsComponent:(0,H.jsx)(ce,{capType:E.R.borrowCap,capAmount:l,totalAmount:d,withoutText:!0})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(D.B,{text:(0,H.jsx)(n.cC,{id:"APY, variable"}),variant:"description"},"APY_dash_mob_variable_ type"),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,H.jsx)(ue.J,{value:Number(u),incentives:p,symbol:t,variant:"secondary14"}),(0,H.jsx)(de.E,{symbol:t,market:v,protocolAction:h.UQ.borrow})]})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[(0,H.jsx)(y.Z,{disabled:f,variant:"contained",onClick:function(){return m(b,v,i,"dashboard")},sx:{mr:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{variant:"outlined",component:j.rU,href:j.Z6.reserveOverview(b,v),fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Details"})})]})]})},Ue=r(9144),Ne=r(99552),Le=r(75437);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve=function(e){var t=e.symbol,r=e.iconSymbol,n=e.name,o=e.underlyingAsset,i=e.isFreezed,s=e.reserve,a=(0,re.vR)().openBorrow,l=(0,U.HT)().user,d=(0,c.f)().currentMarket,u=(0,U.HT)(),p=u.ghoReserveData,b=u.ghoUserData,x=u.ghoUserLoadingData,h=u.ghoLoadingData,y=(0,m.Z)(),f=(0,v.Z)(y.breakpoints.down("xsm")),j=l?Number((0,z.BC)(l,s)):0,w=Math.min(j,p.aaveFacilitatorRemainingCapacity),g=i||w<=0,C=w+b.userGhoBorrowBalance,O=(0,I.li)(p.ghoVariableBorrowAPY,b.userGhoBorrowBalance,b.userGhoAvailableToBorrowAtDiscount,p.ghoBorrowAPYWithMaxDiscount),k=(0,I.li)(p.ghoVariableBorrowAPY,C,b.userGhoAvailableToBorrowAtDiscount,p.ghoBorrowAPYWithMaxDiscount),D=x?void 0:[0===b.userGhoAvailableToBorrowAtDiscount?p.ghoBorrowAPYWithMaxDiscount:O,k],A={symbol:t,iconSymbol:r,name:n,underlyingAsset:o,currentMarket:d,availableBorrows:w,borrowButtonDisable:g,userDiscountTokenBalance:b.userDiscountTokenBalance,ghoApyRange:D,ghoUserDataFetched:!x,userBorrowApyAfterNewBorrow:k,ghoLoadingData:h,onBorrowClick:function(){return a(o,d,n,"dashboard")}};return f?(0,H.jsx)(_e,Ye({},A)):(0,H.jsx)(We,Ye({},A))},We=function(e){var t=e.symbol,r=e.iconSymbol,s=e.name,a=e.underlyingAsset,l=e.currentMarket,c=e.availableBorrows,d=e.borrowButtonDisable,u=e.userDiscountTokenBalance,p=e.ghoApyRange,b=e.ghoUserDataFetched,x=e.userBorrowApyAfterNewBorrow,h=e.onBorrowClick;return(0,H.jsxs)(X.H,{sx:{borderTop:"1px solid",borderBottom:"1px solid",borderColor:"divider",mb:2},"data-cy":"dashboardBorrowListItem_".concat(t.toUpperCase()),children:[(0,H.jsx)(A.h,{maxWidth:F,isRow:!0,children:(0,H.jsxs)(j.rU,{href:j.Z6.reserveOverview(a,l),noWrap:!0,sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(ke.T1,{symbol:r,fontSize:"large"}),(0,H.jsx)(xe.Z,{title:"".concat(s," (").concat(t,")"),arrow:!0,placement:"top",children:(0,H.jsx)(i.Z,{variant:"subheader1",sx:{ml:3},noWrap:!0,"data-cy":"assetName",children:t})})]})}),(0,H.jsx)(A.h,{children:(0,H.jsxs)(o.Z,{display:"flex",flexDirection:"column",children:[(0,H.jsx)(M.Y,{capType:E.R.borrowCap,text:(0,H.jsx)(n.cC,{id:"Available"}),variant:"subheader2",color:"text.secondary",ml:-1}),(0,H.jsx)(Ie,{listColumnProps:{p:0},symbol:t,value:c,subValue:c,disabled:0===c,withTooltip:!0})]})}),(0,H.jsxs)(A.h,{children:[(0,H.jsx)(Le.n,{text:(0,H.jsx)(n.cC,{id:"APY, borrow rate"}),variant:"subheader2",color:"text.secondary"}),(0,H.jsx)(Ne.B,{withTokenIcon:!1,useApyRange:!0,rangeValues:p,value:b?x:-1,"data-cy":"apyType",stkAaveBalance:u,ghoRoute:j.Z6.reserveOverview(a,l)+"/#discount",forceShowTooltip:!0,userQualifiesForDiscount:!0})]}),(0,H.jsxs)(K,{children:[(0,H.jsx)(y.Z,{disabled:d,variant:"contained",onClick:h,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{variant:"outlined",component:j.rU,href:j.Z6.reserveOverview(a,l),children:(0,H.jsx)(n.cC,{id:"Details"})})]})]})},_e=function(e){var t=e.symbol,r=e.iconSymbol,i=e.name,s=e.underlyingAsset,a=e.currentMarket,l=e.availableBorrows,c=e.borrowButtonDisable,d=e.userDiscountTokenBalance,u=e.ghoApyRange,p=e.ghoLoadingData,b=e.userBorrowApyAfterNewBorrow,x=e.onBorrowClick;return(0,H.jsxs)(J.o,{symbol:t,iconSymbol:r,name:i,underlyingAsset:s,currentMarket:a,children:[(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Available to borrow"}),value:l,subValue:l,disabled:0===l}),(0,H.jsx)($.X,{caption:(0,H.jsx)(Le.n,{text:(0,H.jsx)(n.cC,{id:"APY, borrow rate"}),variant:"description"},"APY_dash_mob_variable_ type"),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(Ue.Z,{alignItems:"end",children:(0,H.jsx)(Ne.B,{withTokenIcon:!1,useApyRange:!0,rangeValues:u,value:p?-1:b,"data-cy":"apyType",stkAaveBalance:d,ghoRoute:j.Z6.reserveOverview(s,a)+"/#discount",forceShowTooltip:!0,userQualifiesForDiscount:!0})})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[(0,H.jsx)(y.Z,{disabled:c,variant:"contained",onClick:x,sx:{mr:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{variant:"outlined",component:j.rU,href:j.Z6.reserveOverview(s,a),fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Details"})})]})]})};function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ke=[{title:(0,H.jsx)(n.cC,{id:"Asset"}),sortKey:"symbol"},{title:(0,H.jsx)(M.Y,{event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Available to borrow"}},capType:E.R.borrowCap,text:(0,H.jsx)(n.cC,{id:"Available"}),variant:"subheader2"},"availableBorrows"),sortKey:"availableBorrows"},{title:(0,H.jsx)(D.B,{event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Variable Borrow APY"}},text:(0,H.jsx)(n.cC,{id:"APY, variable"}),variant:"subheader2"},"variableBorrowAPY"),sortKey:"variableBorrowAPY"}],qe=function(){var e=(0,c.f)(),t=e.currentNetworkConfig,r=e.currentMarket,a=(0,U.HT)(),l=a.user,d=a.reserves,u=a.marketReferencePriceInUsd,p=a.loading,b=(0,m.Z)(),x=(0,v.Z)(b.breakpoints.down("xsm")),h=(0,s.useState)(""),y=h[0],f=h[1],w=(0,s.useState)(!1),g=w[0],D=w[1],E=t.baseAssetSymbol,M=d.filter((function(e){return!!l&&(0,z.hF)(e,l)})).map((function(e){var t=l?Number((0,z.nG)(e,l)):0,r=(0,O.hE)(t).multipliedBy(e.formattedPriceInMarketReferenceCurrency).multipliedBy(u).shiftedBy(-k.$3).toFixed(2);return He(He({},e),{},{reserve:e,totalBorrows:e.totalDebt,availableBorrows:t,availableBorrowsInUSD:r,variableBorrowRate:e.borrowingEnabled?Number(e.variableBorrowAPY):-1,iconSymbol:e.iconSymbol},e.isWrappedBaseAsset?(0,T.QD)({symbol:E,underlyingAsset:C.hP.toLowerCase()}):{})})),L=(0,O.hE)((null===l||void 0===l?void 0:l.totalBorrowsMarketReferenceCurrency)||"0").plus((null===l||void 0===l?void 0:l.availableBorrowsMarketReferenceCurrency)||"0"),F=L.eq(0)?"0":(0,O.hE)((null===l||void 0===l?void 0:l.totalBorrowsMarketReferenceCurrency)||"0").div(L).toFixed(),V="0"===(null===l||void 0===l?void 0:l.totalCollateralMarketReferenceCurrency)||+F>=.98?M:M.filter((function(e){var t=e.availableBorrowsInUSD,n=e.totalLiquidityUSD,o=e.symbol;return!!(0,I.F$)({symbol:o,currentMarket:r})||"0.00"!==t&&"0"!==n})),W=(0,I.TB)(V,r),_=W.value,q=W.filtered,G=Y(g,y,"asset",q),X=!G.length&&!_,Q=function(){return(0,H.jsxs)(S.u,{children:[Ke.map((function(e){return(0,H.jsx)(A.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?N:void 0,children:(0,H.jsx)(P.M,{sortName:y,sortDesc:g,setSortName:f,setSortDesc:D,sortKey:e.sortKey,source:"Borrow Dashboard",children:e.title})},e.sortKey)})),(0,H.jsx)(K,{isColumnHeader:!0})]})};return p?(0,H.jsx)(te,{title:(0,H.jsx)(n.cC,{id:"Assets to borrow"}),head:Ke.map((function(e){return e.title})),withTopMargin:!0}):(0,H.jsx)(R.l,{titleComponent:(0,H.jsx)(i.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,H.jsx)(n.cC,{id:"Assets to borrow"})}),localStorageName:"borrowAssetsDashboardTableCollapse",withTopMargin:!0,noData:X,subChildrenComponent:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(o.Z,{sx:{px:6,mb:4},children:["-1"!==(null===l||void 0===l?void 0:l.healthFactor)&&Number(null===l||void 0===l?void 0:l.healthFactor)<=1.1&&(0,H.jsx)(Z.v,{severity:"error",children:(0,H.jsx)(n.cC,{id:"Be careful - You are very close to liquidation. Consider depositing more collateral or paying down some of your borrowed positions"})}),!X&&(0,H.jsxs)(H.Fragment,{children:[(null===l||void 0===l?void 0:l.isInIsolationMode)&&(0,H.jsxs)(Z.v,{severity:"warning",children:[(0,H.jsx)(n.cC,{id:"Borrowing power and assets are limited due to Isolation mode."}),(0,H.jsx)(j.rU,{href:"https://docs.aave.com/faq/",target:"_blank",rel:"noopener",children:"Learn More"})]}),(null===l||void 0===l?void 0:l.isInEmode)&&(0,H.jsx)(Z.v,{severity:"warning",children:(0,H.jsx)(n.cC,{id:"In E-Mode some assets are not borrowable. Exit E-Mode to get access to all assets"})}),"0"===(null===l||void 0===l?void 0:l.totalCollateralMarketReferenceCurrency)&&(0,H.jsx)(Z.v,{severity:"info",children:(0,H.jsx)(n.cC,{id:"To borrow you need to supply any asset to be used as collateral."})})]})]}),_&&!x&&(0,I.F$)({symbol:_.symbol,currentMarket:r})&&(0,H.jsx)(B.hv,{asset:_.reserve,children:(0,H.jsx)(Ve,He({},_))})]}),children:(0,H.jsxs)(H.Fragment,{children:[!x&&!!V.length&&(0,H.jsx)(Q,{}),_&&x&&(0,I.F$)({symbol:_.symbol,currentMarket:r})&&(0,H.jsx)(B.hv,{asset:_.reserve,children:(0,H.jsx)(Ve,He({},_))}),null===G||void 0===G?void 0:G.map((function(e){return(0,H.jsx)(s.Fragment,{children:(0,H.jsx)(B.hv,{asset:e.reserve,children:x?(0,H.jsx)(Re,He({},e)):(0,H.jsx)(Ee,He({},e))})},e.underlyingAsset)}))]})})},Ge=r(36864),Xe=r(58527);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,$e($e({},t),{},{children:(0,H.jsx)(n.cC,{id:"The % of your total borrowing power used. This is based on the amount of your collateral supplied and the total amount that you can borrow."})}))};function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rt=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,tt(tt({},t),{},{children:(0,H.jsx)(n.cC,{id:"The weighted average of APY for all borrowed assets, including incentives."})}))},nt=r(26079);var ot=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"}))})),it=r(22659),st=r(73812),at=r(76920);function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(i.Z,ct(ct({sx:function(e){return{color:"transparent",backgroundClip:"text !important",webkitTextFillColor:"transparent",background:e.palette.gradients.aaveGradient}}},t),{},{children:t.children}))},ut=r(32667),pt=function(e){var t=e.userEmodeCategoryId,r=(0,re.vR)().openEmode,a=(0,U.HT)().eModes,l=(0,d.Y)((function(e){return e.trackEvent})),c=(0,s.useState)(null),u=c[0],p=c[1],b=Boolean(u),x=function(){p(null)},h=0===t,m=function(){return(0,H.jsx)(n.cC,{id:"{0}",values:{0:(0,ut.U)(a[t].label)}})};return(0,H.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},onClick:function(e){e.stopPropagation()},children:[(0,H.jsx)(i.Z,{mr:1,variant:"description",color:"text.secondary",children:(0,H.jsx)(n.cC,{id:"E-Mode"})}),(0,H.jsx)(y.Z,{onClick:function(e){var r;e.stopPropagation(),r=e,l(w.h1.E_MODE_INFO_DASHBOARD,{userEmodeCategoryId:t}),p(r.currentTarget)},"data-cy":"emode-open",size:"small",variant:"outlined",sx:function(e){return{ml:1,borderRadius:"4px",p:0,"&:after":{content:"''",position:"absolute",left:-1,right:-1,bottom:-1,top:-1,background:h?"transparent":e.palette.gradients.aaveGradient,borderRadius:"4px"}}},children:(0,H.jsxs)(o.Z,{sx:function(e){return{display:"inline-flex",alignItems:"center",position:"relative",zIndex:1,bgcolor:h?b?e.palette.background.disabled:e.palette.background.surface:e.palette.background.paper,px:"4px",borderRadius:"4px"}},children:[(0,H.jsx)(se.Z,{sx:{fontSize:12,mr:"4px",color:h?"text.muted":"text.primary"},children:h?(0,H.jsx)(ot,{}):(0,H.jsx)(at.Z,{})}),h?(0,H.jsx)(i.Z,{variant:"buttonS",color:"text.secondary",children:(0,H.jsx)(m,{})}):(0,H.jsx)(dt,{variant:"buttonS",children:(0,H.jsx)(m,{})}),(0,H.jsx)(se.Z,{sx:{fontSize:12,ml:"4px",color:"primary.light"},children:(0,H.jsx)(it.Z,{})})]})}),(0,H.jsx)(st.Z,{open:b,anchorEl:u,sx:{".MuiMenu-paper":{maxWidth:"280px"}},onClose:x,keepMounted:!0,children:(0,H.jsxs)(o.Z,{sx:{px:4,pt:2,pb:3},children:[(0,H.jsx)(i.Z,{variant:"subheader1",mb:h?1:3,children:(0,H.jsx)(n.cC,{id:"Efficiency mode (E-Mode)"})}),!h&&(0,H.jsxs)(o.Z,{children:[(0,H.jsx)(i.Z,{mb:1,variant:"caption",color:"text.secondary",children:(0,H.jsx)(n.cC,{id:"Asset category"})}),(0,H.jsx)(o.Z,{sx:function(e){return{p:2,mb:3,borderRadius:"6px",border:"1px solid ".concat(e.palette.divider)}},children:(0,H.jsx)($.X,{caption:(0,H.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(se.Z,{sx:{fontSize:12,mr:1},children:(0,H.jsx)(at.Z,{})}),(0,H.jsx)(i.Z,{variant:"subheader2",color:"text.primary",children:(0,H.jsx)(m,{})})]}),children:(0,H.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(o.Z,{sx:{width:"6px",height:"6px",borderRadius:"50%",bgcolor:"success.main",boxShadow:"0px 2px 1px rgba(0, 0, 0, 0.05), 0px 0px 1px rgba(0, 0, 0, 0.25)",mr:"5px"}}),(0,H.jsx)(i.Z,{variant:"subheader2",color:"success.main",children:(0,H.jsx)(n.cC,{id:"Enabled"})})]})})})]}),(0,H.jsx)(i.Z,{variant:"caption",color:"text.secondary",mb:4,children:(0,H.jsx)(n.cC,{id:"E-Mode increases your LTV for a selected category of assets. <0>Learn more</0>",components:{0:(0,H.jsx)(j.rU,{href:"https://aave.com/help/borrowing/e-mode",sx:{textDecoration:"underline"},variant:"caption",color:"text.secondary"})}})}),h?(0,H.jsx)(y.Z,{fullWidth:!0,variant:"gradient",onClick:function(){l(w.vh.OPEN_MODAL,{type:"Enable E-Mode",data:t}),r(),x()},"data-cy":"emode-enable",children:(0,H.jsx)(n.cC,{id:"Enable E-Mode"})}):(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(y.Z,{fullWidth:!0,sx:{mb:"6px"},variant:"outlined",onClick:function(){l(w.vh.OPEN_MODAL,{modal:"Switch E-Mode",data:t}),r(),x()},"data-cy":"emode-switch",children:(0,H.jsx)(n.cC,{id:"Manage E-Mode"})})})]})})]})},bt=r(70918),xt=function(e){var t=e.title,r=e.value,n=e.percent,o=e.tooltip;return(0,H.jsxs)(bt.Z,{variant:"outlined",sx:{mr:2,p:"2px 4px",display:"flex",alignItems:"center",boxShadow:"none",bgcolor:"transparent"},children:[(0,H.jsx)(i.Z,{color:"text.secondary",sx:{mr:1},noWrap:!0,children:t}),(0,H.jsx)(oe.B,{value:r,percent:n,variant:"secondary14",symbol:"USD"}),o]})},ht=r(63206);function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=function(e){var t=e.item,r=e.disableEModeSwitch,n=(0,B.ov)().borrowCap,o=(0,c.f)(),i=o.currentMarket,s=o.currentMarketData,a=(0,m.Z)(),l=(0,v.Z)(a.breakpoints.down("xsm")),d=(0,re.vR)(),u=d.openBorrow,p=d.openRepay,b=d.openDebtSwitch,x=t.reserve,h=!x.isActive||!x.borrowingEnabled||x.isFrozen||x.isPaused||n.isMaxed,y=!x.isActive||x.isPaused,f=!!ht.cr.debtSwitch(s),j=x.isPaused||!x.isActive||"stETH"==x.symbol||r,w=vt(vt({},t),{},{disableBorrow:h,disableSwitch:j,disableRepay:y,showSwitchButton:f,totalBorrows:t.variableBorrows,totalBorrowsUSD:t.variableBorrowsUSD,borrowAPY:Number(x.variableBorrowAPY),incentives:x.vIncentivesData,onDetbSwitchClick:function(){b(x.underlyingAsset)},onOpenBorrow:function(){u(x.underlyingAsset,i,x.name,"dashboard")},onOpenRepay:function(){p(x.underlyingAsset,x.isFrozen,i,x.name,"dashboard")}});return l?(0,H.jsx)(jt,vt({},w)):(0,H.jsx)(ft,vt({},w))},ft=function(e){var t=e.reserve,r=e.disableBorrow,o=e.disableSwitch,i=e.disableRepay,s=e.showSwitchButton,a=e.totalBorrows,l=e.totalBorrowsUSD,d=e.borrowAPY,u=e.incentives,p=e.onDetbSwitchClick,b=e.onOpenBorrow,x=e.onOpenRepay,m=(0,c.f)().currentMarket;return(0,H.jsxs)(Se,{symbol:t.symbol,iconSymbol:t.iconSymbol,name:t.name,detailsAddress:t.underlyingAsset,currentMarket:m,frozen:t.isFrozen,paused:t.isPaused,borrowEnabled:t.borrowingEnabled,"data-cy":"dashboardBorrowedListItem_".concat(t.symbol.toUpperCase()),showBorrowCapTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(t.symbol,m,h.UQ.borrow),children:[(0,H.jsx)(Ie,{symbol:t.symbol,value:a,subValue:l}),(0,H.jsx)(pe,{value:d,market:m,protocolAction:h.UQ.borrow,incentives:u,symbol:t.symbol}),(0,H.jsxs)(K,{children:[s?(0,H.jsx)(y.Z,{disabled:o,variant:"contained",onClick:p,"data-cy":"swapButton",children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:r,variant:"contained",onClick:b,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{disabled:i,variant:"outlined",onClick:x,children:(0,H.jsx)(n.cC,{id:"Repay"})})]})]})},jt=function(e){var t=e.reserve,r=e.totalBorrows,i=e.totalBorrowsUSD,s=e.disableBorrow,a=e.showSwitchButton,l=e.disableSwitch,d=e.borrowAPY,u=e.incentives,p=e.disableRepay,b=e.onDetbSwitchClick,x=e.onOpenBorrow,m=e.onOpenRepay,v=(0,c.f)().currentMarket,f=t.symbol,j=t.iconSymbol,w=t.name;return(0,H.jsxs)(J.o,{symbol:f,iconSymbol:j,name:w,underlyingAsset:t.underlyingAsset,currentMarket:v,frozen:t.isFrozen,borrowEnabled:t.borrowingEnabled,showBorrowCapTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(f,v,h.UQ.borrow),children:[(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Debt"}),value:r,subValue:i,disabled:0===Number(r)}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,H.jsx)(ue.J,{value:d,incentives:u,symbol:f,variant:"secondary14"}),(0,H.jsx)(de.E,{symbol:f,market:v,protocolAction:h.UQ.borrow})]})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[a?(0,H.jsx)(y.Z,{disabled:l,variant:"contained",fullWidth:!0,onClick:b,"data-cy":"swapButton",children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:s,variant:"contained",onClick:x,fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{disabled:p,variant:"outlined",onClick:m,sx:{ml:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Repay"})})]})]})},wt=r(38264),gt=r(73030),Ct=r(3622);function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dt=function(e){var t=e.reserve,r=(0,re.vR)(),n=r.openBorrow,o=r.openRepay,i=r.openDebtSwitch,s=(0,d.Y)((function(e){return e.currentMarket})),a=(0,d.Y)((function(e){return e.currentMarketData})),l=(0,U.HT)(),c=l.ghoLoadingData,u=l.ghoReserveData,p=l.ghoUserData,b=l.ghoUserLoadingData,x=l.user,h=(0,Ct.l)(a).data,y=(0,gt.b)(a).data,f=(0,m.Z)(),j=(0,v.Z)(f.breakpoints.down("xsm")),w=p.userGhoBorrowBalance>=u.ghoMinDebtTokenBalanceForDiscount?p.userGhoAvailableToBorrowAtDiscount:0,g=(0,I.li)(u.ghoVariableBorrowAPY,p.userGhoBorrowBalance,w,u.ghoBorrowAPYWithMaxDiscount),C=!(!h||!y)&&(0,I.k9)(y,h),O=t.isActive,k=t.isFrozen,D=t.isPaused,A=t.borrowingEnabled,P=x?Number((0,z.BC)(x,t)):0,S=Math.min(P,u.aaveFacilitatorRemainingCapacity),Z={reserve:t,userGhoBorrowBalance:p.userGhoBorrowBalance,hasDiscount:C,ghoLoadingData:c,ghoUserDataFetched:!b,borrowRateAfterDiscount:g,currentMarket:s,userDiscountTokenBalance:p.userDiscountTokenBalance,borrowDisabled:!O||!A||k||D||S<=0||u.aaveFacilitatorRemainingCapacity<1e-6,showSwitchButton:ht.cr.debtSwitch(a)||!1,disableSwitch:!O||D,disableRepay:!O||D,onRepayClick:function(){return o(t.underlyingAsset,k,s,t.name,"dashboard")},onBorrowClick:function(){return n(t.underlyingAsset,s,t.name,"dashboard")},onSwitchClick:function(){return i(t.underlyingAsset)}};return j?(0,H.jsx)(Pt,kt({},Z)):(0,H.jsx)(At,kt({},Z))},At=function(e){var t=e.reserve,r=e.userGhoBorrowBalance,o=e.hasDiscount,i=e.ghoLoadingData,s=e.ghoUserDataFetched,a=e.borrowRateAfterDiscount,l=e.currentMarket,c=e.userDiscountTokenBalance,d=e.borrowDisabled,u=e.onRepayClick,p=e.onBorrowClick,b=e.onSwitchClick,x=e.showSwitchButton,h=e.disableSwitch,m=e.disableRepay,v=t.symbol,f=t.iconSymbol,w=t.name,g=t.isFrozen,C=t.underlyingAsset;return(0,H.jsxs)(Se,{symbol:v,iconSymbol:f,name:w,detailsAddress:C,currentMarket:l,frozen:g,"data-cy":"dashboardBorrowedListItem_".concat(v.toUpperCase()),showBorrowCapTooltips:!0,children:[(0,H.jsx)(Ie,{symbol:v,value:r,subValue:r}),(0,H.jsx)(A.h,{children:(0,H.jsxs)(Ue.Z,{direction:"row",gap:1,children:[(0,H.jsx)(Ne.B,{withTokenIcon:o,value:i||!s?-1:a,"data-cy":"apyType",stkAaveBalance:c,ghoRoute:j.Z6.reserveOverview(C,l)+"/#discount",userQualifiesForDiscount:o}),(0,H.jsx)(ae.a,{tooltipContent:Le.x,offset:[0,-4],withoutHover:!0,children:(0,H.jsx)(y.Z,{variant:"outlined",size:"small",color:"primary",disabled:!0,"data-cy":"apyButton_fixed",children:"GHO RATE"})})]})}),(0,H.jsxs)(K,{children:[x?(0,H.jsx)(y.Z,{disabled:h,variant:"contained",onClick:b,"data-cy":"swapButton",children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:d,variant:"outlined",onClick:p,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{disabled:m,variant:"outlined",onClick:u,children:(0,H.jsx)(n.cC,{id:"Repay"})})]})]})},Pt=function(e){var t=e.reserve,r=e.userGhoBorrowBalance,i=e.hasDiscount,s=e.ghoLoadingData,a=e.borrowRateAfterDiscount,l=e.currentMarket,c=e.userDiscountTokenBalance,d=e.borrowDisabled,u=e.onRepayClick,p=e.onBorrowClick,b=e.onSwitchClick,x=e.showSwitchButton,h=e.disableSwitch,m=e.disableRepay,v=t.symbol,f=t.iconSymbol,w=t.name;return(0,H.jsxs)(J.o,{symbol:v,iconSymbol:f,name:w,underlyingAsset:t.underlyingAsset,currentMarket:l,frozen:t.isFrozen,showBorrowCapTooltips:!0,children:[(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Debt"}),value:r,subValue:r,disabled:0===r}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(Ne.B,{withTokenIcon:i,value:s?-1:a,"data-cy":"apyType",stkAaveBalance:c,ghoRoute:j.Z6.reserveOverview(t.underlyingAsset,l)+"/#discount",userQualifiesForDiscount:i})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"APY type"}),captionVariant:"description",mb:2,children:(0,H.jsx)(ae.a,{tooltipContent:Le.x,offset:[0,-4],withoutHover:!0,children:(0,H.jsxs)(y.Z,{variant:"outlined",size:"small",color:"primary",children:["GHO RATE",(0,H.jsx)(se.Z,{sx:{marginLeft:"2px",fontSize:"14px"},children:(0,H.jsx)(wt.Z,{})})]})})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[x?(0,H.jsx)(y.Z,{disabled:h,variant:"contained",fullWidth:!0,onClick:b,children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:d,variant:"outlined",onClick:p,fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Borrow"})}),(0,H.jsx)(y.Z,{disabled:m,variant:"outlined",onClick:u,sx:{mr:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Repay"})})]})]})};function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bt=function(e){var t=e.item,r=e.disableEModeSwitch,n=(0,c.f)().currentMarket;return(0,H.jsx)(B.hv,{asset:t.reserve,children:(0,I.F$)({symbol:t.reserve.symbol,currentMarket:n})?(0,H.jsx)(Dt,Zt({},t)):(0,H.jsx)(yt,{item:t,disableEModeSwitch:r})})};function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Et=[{title:(0,H.jsx)(n.cC,{id:"Asset"}),sortKey:"symbol"},{title:(0,H.jsx)(n.cC,{id:"Debt"},"Debt"),sortKey:"variableBorrows"},{title:(0,H.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"borrowAPY"}],Mt=function(){var e=(0,U.HT)(),t=e.user,r=e.loading,o=e.eModes,a=e.reserves,l=(0,c.f)(),d=l.currentMarketData,u=l.currentNetworkConfig,p=(0,s.useState)(""),b=p[0],x=p[1],y=(0,s.useState)(!1),f=y[0],j=y[1],g=(0,m.Z)(),k=(0,v.Z)(g.breakpoints.down("xsm")),D=d.v3&&Object.keys(o).length>1,Z=(0,s.useState)(!1),B=Z[0],E=Z[1];if(r||!t)return(0,H.jsx)(te,{title:(0,H.jsx)(n.cC,{id:"Your borrows"}),head:Et.map((function(e){return e.title}))});var M=(null===t||void 0===t?void 0:t.userReservesData.reduce((function(e,t){return"0"!==t.variableBorrows&&e.push(It(It({},t),{},{borrowRateMode:h.tk.Variable,reserve:It(It({},t.reserve),t.reserve.isWrappedBaseAsset?(0,T.QD)({symbol:u.baseAssetSymbol,underlyingAsset:C.hP.toLowerCase()}):{})})),e}),[]))||[],L=M.filter((function(e){return e.reserve.symbol===I.JP}));L.length>0&&(M=M.filter((function(e){return e.reserve.symbol!==I.JP}))).unshift(L[0]);var F=(0,O.hE)((null===t||void 0===t?void 0:t.totalBorrowsMarketReferenceCurrency)||"0").plus((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||"0"),V=F.eq(0)?"0":(0,O.hE)((null===t||void 0===t?void 0:t.totalBorrowsMarketReferenceCurrency)||"0").div(F).toFixed(),W=Y(f,b,"position",M,!0),_=t.isInEmode&&a.filter((function(e){return e.eModes.find((function(e){return e.id===t.userEmodeCategoryId&&e.borrowingEnabled}))})).length<2,z=function(){return(0,H.jsxs)(S.u,{children:[Et.map((function(e){return(0,H.jsx)(A.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?N:void 0,children:(0,H.jsx)(P.M,{sortName:b,sortDesc:f,setSortName:x,setSortDesc:j,sortKey:e.sortKey,source:"Borrowed Positions Dashboard",children:e.title})},e.sortKey)})),(0,H.jsx)(K,{isColumnHeader:!0})]})};return(0,H.jsx)(R.l,{tooltipOpen:B,titleComponent:(0,H.jsx)(i.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,H.jsx)(n.cC,{id:"Your borrows"})}),localStorageName:"borrowedAssetsDashboardTableCollapse",subTitleComponent:D?(0,H.jsx)(pt,{userEmodeCategoryId:t?t.userEmodeCategoryId:0}):void 0,noData:!W.length,topInfo:(0,H.jsx)(H.Fragment,{children:!!W.length&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"Balance"}),value:(null===t||void 0===t?void 0:t.totalBorrowsUSD)||0}),(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"APY"}),value:(null===t||void 0===t?void 0:t.debtAPY)||0,percent:!0,tooltip:(0,H.jsx)(rt,{setOpen:E,event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Total Borrowed APY"}}})}),(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"Borrow power used"}),value:V||0,percent:!0,tooltip:(0,H.jsx)(Je,{setOpen:E,event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Borrow power used"}}})})]})}),children:W.length?(0,H.jsxs)(H.Fragment,{children:[!k&&(0,H.jsx)(z,{}),W.map((function(e){return(0,H.jsx)(Bt,{item:e,disableEModeSwitch:_},e.underlyingAsset+e.borrowRateMode)}))]}):(0,H.jsx)(nt.N,{text:(0,H.jsx)(n.cC,{id:"Nothing borrowed yet"})})})};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,Ut(Ut({},t),{},{children:(0,H.jsx)(n.cC,{id:"Allows you to decide whether to use a supplied asset as collateral. An asset used as collateral will affect your borrowing power and health factor."})}))};function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Yt=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,Ft(Ft({},t),{},{children:(0,H.jsx)(n.cC,{id:"The total amount of your assets denominated in USD that can be used as collateral for borrowing assets."})}))};function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,Wt(Wt({},t),{},{children:(0,H.jsx)(n.cC,{id:"The weighted average of APY for all supplied assets, including incentives."})}))},zt=r(54181),Ht=r(44749),Kt=function(e){var t=e.children;return(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",flexDirection:"column"},children:[t,(0,H.jsx)(Ht.Ch,{})]})},qt=function(e){var t=e.isIsolated,r=e.usageAsCollateralEnabledOnUser,n=e.canBeEnabledAsCollateral,o=e.onToggleSwitch,i=e.disabled,s=r&&n;return(0,H.jsx)(H.Fragment,{children:t?(0,H.jsx)(Kt,{children:(0,H.jsx)(zt.Z,{onClick:o,disableRipple:!0,checked:s,disabled:!n||i})}):(0,H.jsx)(zt.Z,{onClick:o,disableRipple:!0,checked:s,disabled:!n||i})})},Gt=function(e){var t,r=e.reserve,o=e.underlyingBalance,i=e.underlyingBalanceUSD,s=e.usageAsCollateralEnabledOnUser,a=e.underlyingAsset,l=(0,U.HT)().user,u=r.isIsolated,p=r.aIncentivesData,b=r.isFrozen,x=r.isActive,m=r.isPaused,v=(0,c.f)(),f=v.currentMarketData,j=v.currentMarket,g=(0,re.vR)(),C=g.openSupply,O=g.openWithdraw,k=g.openCollateralChange,D=g.openSwap,P=(0,B.ov)().debtCeiling,S=(0,d.Y)((function(e){return e.trackEvent})),Z=ht.cr.liquiditySwap(f),T=!!l&&(!P.isMaxed&&"0"!==r.reserveLiquidationThreshold&&(!r.isIsolated&&!l.isInIsolationMode||(null===(t=l.isolatedReserve)||void 0===t?void 0:t.underlyingAsset)===r.underlyingAsset||r.isIsolated&&"0"===l.totalCollateralMarketReferenceCurrency)),I=!x||m||"stETH"==r.symbol,E=!x||m,M=!x||b||m;return(0,H.jsxs)(Se,{symbol:r.symbol,iconSymbol:r.iconSymbol,name:r.name,detailsAddress:a,currentMarket:j,frozen:r.isFrozen,paused:m,"data-cy":"dashboardSuppliedListItem_".concat(r.symbol.toUpperCase(),"_").concat(T&&s?"Collateral":"NoCollateral"),showSupplyCapTooltips:!0,showDebtCeilingTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(r.symbol,j,h.UQ.supply),children:[(0,H.jsx)(Ie,{symbol:r.iconSymbol,value:Number(o),subValue:Number(i),disabled:0===Number(o)}),(0,H.jsx)(pe,{value:Number(r.supplyAPY),market:j,protocolAction:h.UQ.supply,incentives:p,symbol:r.symbol}),(0,H.jsx)(A.h,{children:(0,H.jsx)(qt,{disabled:r.isPaused,isIsolated:u,usageAsCollateralEnabledOnUser:s,canBeEnabledAsCollateral:T,onToggleSwitch:function(){k(a,j,r.name,"dashboard",s)},"data-cy":"collateralStatus"})}),(0,H.jsxs)(K,{children:[Z?(0,H.jsx)(y.Z,{disabled:I,variant:"contained",onClick:function(){S(w.vh.OPEN_MODAL,{modal:"Swap Collateral",market:j,assetName:r.name,asset:a}),D(a)},"data-cy":"swapButton",children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:M,variant:"contained",onClick:function(){return C(a,j,r.name,"dashboard")},children:(0,H.jsx)(n.cC,{id:"Supply"})}),(0,H.jsx)(y.Z,{disabled:E,variant:"outlined",onClick:function(){O(a,j,r.name,"dashboard")},children:(0,H.jsx)(n.cC,{id:"Withdraw"})})]})]})},Xt=function(e){var t,r=e.reserve,i=e.underlyingBalance,s=e.underlyingBalanceUSD,a=e.usageAsCollateralEnabledOnUser,l=e.underlyingAsset,d=(0,U.HT)().user,u=(0,c.f)(),p=u.currentMarketData,b=u.currentMarket,x=(0,re.vR)(),m=x.openSupply,v=x.openSwap,f=x.openWithdraw,j=x.openCollateralChange,w=(0,B.ov)().debtCeiling,g=ht.cr.liquiditySwap(p),C=r.symbol,O=r.iconSymbol,k=r.name,D=r.supplyAPY,A=r.isIsolated,P=r.aIncentivesData,S=r.isFrozen,Z=r.isActive,T=r.isPaused,I=!!d&&(!w.isMaxed&&"0"!==r.reserveLiquidationThreshold&&(!r.isIsolated&&!d.isInIsolationMode||(null===(t=d.isolatedReserve)||void 0===t?void 0:t.underlyingAsset)===r.underlyingAsset||r.isIsolated&&"0"===d.totalCollateralMarketReferenceCurrency)),E=!Z||T||"stETH"==r.symbol,M=!Z||T,R=!Z||S||T;return(0,H.jsxs)(J.o,{symbol:C,iconSymbol:O,name:k,underlyingAsset:l,currentMarket:b,frozen:r.isFrozen,showSupplyCapTooltips:!0,showDebtCeilingTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(r.symbol,b,h.UQ.supply),children:[(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Supply balance"}),value:Number(i),subValue:Number(s),disabled:0===Number(i)}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"Supply APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,H.jsx)(ue.J,{value:Number(D),incentives:P,symbol:C,variant:"secondary14"}),(0,H.jsx)(de.E,{symbol:C,market:b,protocolAction:h.UQ.supply})]})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"Used as collateral"}),align:A?"flex-start":"center",captionVariant:"description",mb:2,children:(0,H.jsx)(qt,{disabled:r.isPaused,isIsolated:A,usageAsCollateralEnabledOnUser:a,canBeEnabledAsCollateral:I,onToggleSwitch:function(){return j(l,b,r.name,"dashboard",a)}})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[g?(0,H.jsx)(y.Z,{disabled:E,variant:"contained",onClick:function(){return v(l)},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Switch"})}):(0,H.jsx)(y.Z,{disabled:R,variant:"contained",onClick:function(){return m(l,b,r.name,"dashboard")},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Supply"})}),(0,H.jsx)(y.Z,{disabled:M,variant:"outlined",onClick:function(){return f(l,b,r.name,"dashboard")},sx:{ml:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Withdraw"})})]})]})};function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jt=[{title:(0,H.jsx)(n.cC,{id:"Asset"}),sortKey:"symbol"},{title:(0,H.jsx)(n.cC,{id:"Balance"},"Balance"),sortKey:"underlyingBalance"},{title:(0,H.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"supplyAPY"},{title:(0,H.jsx)(Nt,{event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Collateral Switch"}},text:(0,H.jsx)(n.cC,{id:"Collateral"}),variant:"subheader2"},"Collateral"),sortKey:"usageAsCollateralEnabledOnUser"}],er=function(){var e=(0,U.HT)(),t=e.user,r=e.loading,o=(0,c.f)().currentNetworkConfig,a=(0,m.Z)(),l=(0,v.Z)(a.breakpoints.down("xsm")),d=(0,s.useState)(""),u=d[0],p=d[1],b=(0,s.useState)(!1),x=b[0],h=b[1],y=(0,s.useState)(!1),f=y[0],j=y[1],g=(null===t||void 0===t?void 0:t.userReservesData.filter((function(e){return"0"!==e.underlyingBalance})).map((function(e){return $t($t({},e),{},{supplyAPY:e.reserve.supplyAPY,reserve:$t($t({},e.reserve),e.reserve.isWrappedBaseAsset?(0,T.QD)({symbol:o.baseAssetSymbol,underlyingAsset:C.hP.toLowerCase()}):{})})})))||[],O=Y(x,u,"position",g),k=function(){return(0,H.jsxs)(S.u,{children:[Jt.map((function(e){return(0,H.jsx)(A.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?N:void 0,children:(0,H.jsx)(P.M,{sortName:u,sortDesc:x,setSortName:p,setSortDesc:h,sortKey:e.sortKey,source:"Supplied Positions Dashboard",children:e.title})},e.sortKey)})),(0,H.jsx)(K,{isColumnHeader:!0})]})};return r?(0,H.jsx)(te,{title:(0,H.jsx)(n.cC,{id:"Your supplies"}),head:Jt.map((function(e){return e.title}))}):(0,H.jsx)(R.l,{tooltipOpen:f,titleComponent:(0,H.jsx)(i.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,H.jsx)(n.cC,{id:"Your supplies"})}),localStorageName:"suppliedAssetsDashboardTableCollapse",noData:!O.length,topInfo:(0,H.jsx)(H.Fragment,{children:!!O.length&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"Balance"}),value:(null===t||void 0===t?void 0:t.totalLiquidityUSD)||0}),(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"APY"}),value:(null===t||void 0===t?void 0:t.earnedAPY)||0,percent:!0,tooltip:(0,H.jsx)(_t,{setOpen:j,event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Total Supplied APY"}}})}),(0,H.jsx)(xt,{title:(0,H.jsx)(n.cC,{id:"Collateral"}),value:(null===t||void 0===t?void 0:t.totalCollateralUSD)||0,tooltip:(0,H.jsx)(Yt,{setOpen:j,event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"Total Supplied Collateral"}}})})]})}),children:O.length?(0,H.jsxs)(H.Fragment,{children:[!l&&(0,H.jsx)(k,{}),O.map((function(e){return(0,H.jsx)(s.Fragment,{children:(0,H.jsx)(B.hv,{asset:e.reserve,children:l?(0,H.jsx)(Xt,$t({},e)):(0,H.jsx)(Gt,$t({},e))})},e.underlyingAsset)}))]}):(0,H.jsx)(nt.N,{text:(0,H.jsx)(n.cC,{id:"Nothing supplied yet"})})})},tr=r(70794),rr=r(71691),nr=r(82482),or=r(22841),ir=r(75158),sr=r(56365),ar=r(41528),lr=function(){var e=(0,c.f)().currentNetworkConfig;return(0,H.jsx)(ar.y,{title:"Get free assets to test the Aave Protocol",children:(0,H.jsx)(y.Z,{startIcon:(0,H.jsx)("img",{src:e.networkLogoPath,alt:e.name,style:{width:14,height:14}}),endIcon:(0,H.jsx)(se.Z,{sx:{width:14,height:14},children:(0,H.jsx)(sr.Z,{})}),component:j.rU,href:j.Z6.faucet,variant:"outlined",size:"small",children:(0,H.jsx)(i.Z,{variant:"buttonS",children:(0,H.jsx)(n.cC,{id:"{0} Faucet",values:{0:e.name}})})})})},cr=function(e){var t=e.bridge;return t?(0,H.jsx)(y.Z,{startIcon:(0,H.jsx)("img",{src:t.icon,alt:t.name,style:{width:14,height:14}}),endIcon:(0,H.jsx)(se.Z,{sx:{width:14,height:14},children:(0,H.jsx)(sr.Z,{})}),component:j.rU,size:"small",variant:"outlined",href:t.url||"",children:(0,H.jsx)(i.Z,{variant:"buttonS",children:t.name})}):null},dr=r(92381),ur=function(e){var t=e.value,r=e.onClick,i=e.localStorageName,s=e.bridge,a=(0,d.Y)((function(e){return e.trackEvent}));return(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xsm:"center"},justifyContent:"space-between",flexDirection:{xs:"column-reverse",xsm:"row"},px:{xs:4,xsm:6},py:2,pl:{xs:"18px",xsm:"27px"}},children:[(0,H.jsx)(or.Z,{sx:{mt:{xs:s?2:0,xsm:0}},control:(0,H.jsx)(ir.Z,{sx:{p:"6px"}}),checked:t,onChange:function(){a(w.h1.SHOW_ASSETS_0_BALANCE,{}),(0,dr.e)(t,r,i)},label:(0,H.jsx)(n.cC,{id:"Show assets with 0 balance"})}),(ht.aV||ht.p8)&&(0,H.jsx)(lr,{}),!ht.p8&&(0,H.jsx)(cr,{bridge:s})]})},pr=r(58364);var br=s.forwardRef((function(e,t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),s.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))})),xr=r(31538),hr=r(61702),mr=r(86099),vr=r(14463),yr=r(64343),fr=function(e){var t=e.isIsolated,r=e.usageAsCollateralEnabled,n=function(){return r&&!t?(0,H.jsx)(se.Z,{sx:{color:"success.main",fontSize:{xs:"20px",xsm:"24px"}},children:(0,H.jsx)(yr.Z,{})}):r&&t?null:(0,H.jsx)(vr.J,{variant:"main14",color:"text.secondary"})};return(0,H.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:t?(0,H.jsx)(Kt,{children:(0,H.jsx)(n,{})}):(0,H.jsx)(n,{})})};function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gr=function(e){var t=(0,m.Z)(),r=(0,v.Z)(t.breakpoints.down("xsm")),n=(0,B.ov)().supplyCap,o=(0,rr.P)(),i=e.isActive,s=e.isFreezed,a=e.walletBalance,l=e.underlyingAsset,c=o.find((function(e){return e.tokenOut.underlyingAsset===l})),d=c&&"0"!==e.walletBalances[c.tokenIn.underlyingAsset.toLowerCase()].amount,u=!i||s||Number(a)<=0&&!d||n.isMaxed,p=wr(wr({},e),{},{disableSupply:u,canSupplyAsWrappedToken:null!==d&&void 0!==d&&d,walletBalancesMap:e.walletBalances});return r?(0,H.jsx)(Or,wr({},p)):(0,H.jsx)(Cr,wr({},p))},Cr=function(e){var t=e.symbol,r=e.iconSymbol,i=e.name,a=e.walletBalance,l=e.walletBalanceUSD,c=e.supplyCap,u=e.totalLiquidity,p=e.supplyAPY,b=e.aIncentivesData,x=e.underlyingAsset,m=e.isIsolated,v=e.usageAsCollateralEnabledOnUser,f=e.detailsAddress,g=e.disableSupply,C=e.canSupplyAsWrappedToken,O=e.walletBalancesMap,k=(0,d.Y)((function(e){return e.currentMarketData})),D=(0,d.Y)((function(e){return e.currentMarket})),P=(0,rr.P)(),S=(0,re.vR)(),Z=S.openSupply,T=S.openSwitch,I=(0,B.ov)(),M=I.supplyCap,R=I.debtCeiling,U=M.isMaxed,N=(0,d.Y)((function(e){return e.trackEvent})),L=(0,s.useState)(null),F=L[0],Y=L[1],V=Boolean(F),W=P.find((function(e){return e.tokenOut.underlyingAsset===x}));return(0,H.jsxs)(Se,{symbol:t,iconSymbol:r,name:i,detailsAddress:f,"data-cy":"dashboardSupplyListItem_".concat(t.toUpperCase()),currentMarket:D,showDebtCeilingTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(t,D,h.UQ.supply),children:[C&&W&&"0"===a?(0,H.jsx)(A.h,{children:(0,H.jsx)(ae.a,{tooltipContent:(0,H.jsx)(mr.C,{decimals:W.tokenIn.decimals,tokenWrapperAddress:W.tokenWrapperAddress,tokenInSymbol:W.tokenIn.symbol,tokenOutSymbol:W.tokenOut.symbol}),children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,H.jsx)(oe.B,{value:0,variant:"secondary14",sx:{mb:"2px"},symbolsColor:"common.white"}),(0,H.jsxs)(Ue.Z,{direction:"row",alignItems:"center",children:[(0,H.jsx)(ke.T1,{sx:{fontSize:"14px",mr:1},symbol:"DAI"}),(0,H.jsx)(oe.B,{value:O[W.tokenIn.underlyingAsset.toLowerCase()].amount,visibleDecimals:2,variant:"secondary12",color:"text.secondary"})]})]})})}):(0,H.jsx)(Ie,{symbol:t,value:Number(a),subValue:l,withTooltip:!0,disabled:0===Number(a)||U,capsComponent:(0,H.jsx)(ce,{capType:E.R.supplyCap,capAmount:c,totalAmount:u,withoutText:!0})}),(0,H.jsx)(pe,{value:Number(p),market:D,protocolAction:h.UQ.supply,incentives:b,symbol:t}),(0,H.jsx)(A.h,{children:R.isMaxed?(0,H.jsx)(vr.J,{variant:"main14",color:"text.secondary"}):(0,H.jsx)(fr,{isIsolated:m,usageAsCollateralEnabled:v})}),(0,H.jsxs)(K,{children:[(0,H.jsx)(y.Z,{disabled:g,variant:"contained",onClick:function(){Z(x,D,i,"dashboard")},children:(0,H.jsx)(n.cC,{id:"Supply"})}),(0,H.jsx)(y.Z,{id:"supply-extra-button",sx:{minWidth:0,px:4},variant:"outlined",onClick:function(e){Y(e.currentTarget)},"aria-controls":V?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":V?"true":void 0,children:(0,H.jsx)(n.cC,{id:"..."})}),(0,H.jsxs)(st.Z,{id:"supply-item-extra-menu",anchorEl:F,open:V,MenuListProps:{"aria-labelledby":"supply-extra-button",sx:{py:0}},onClose:function(){Y(null)},keepMounted:!0,PaperProps:{sx:{minWidth:"120px",py:0}},children:[(0,H.jsxs)(xr.Z,{sx:{gap:2},onClick:function(){T(x),Y(null)},disabled:!ht.cr.switch(k),children:[(0,H.jsx)(se.Z,{fontSize:"small",children:(0,H.jsx)(pr.Z,{})}),(0,H.jsx)(hr.Z,{children:"Switch"})]}),(0,H.jsxs)(xr.Z,{sx:{gap:2},component:j.rU,href:j.Z6.reserveOverview(f,D),onClick:function(){N(w.h1.DETAILS_NAVIGATION,{type:"Button",market:D,assetName:i,asset:x}),Y(null)},children:[(0,H.jsx)(se.Z,{fontSize:"small",children:(0,H.jsx)(br,{})}),(0,H.jsx)(hr.Z,{children:"Details"})]})]})]})]})},Or=function(e){var t=e.symbol,r=e.iconSymbol,i=e.name,s=e.walletBalance,a=e.walletBalanceUSD,l=e.supplyCap,d=e.totalLiquidity,u=e.supplyAPY,p=e.aIncentivesData,b=e.isIsolated,x=e.usageAsCollateralEnabledOnUser,m=e.underlyingAsset,v=e.detailsAddress,f=e.disableSupply,w=e.canSupplyAsWrappedToken,g=e.walletBalancesMap,C=(0,c.f)().currentMarket,O=(0,re.vR)().openSupply,k=(0,rr.P)(),D=(0,B.ov)().supplyCap.isMaxed,A=k.find((function(e){return e.tokenOut.underlyingAsset===m}));return(0,H.jsxs)(J.o,{symbol:t,iconSymbol:r,name:i,underlyingAsset:m,currentMarket:C,showDebtCeilingTooltips:!0,showExternalIncentivesTooltips:(0,ne.f8)(t,C,h.UQ.supply),children:[w&&A&&"0"===s?(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"Supply balance"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(ae.a,{tooltipContent:(0,H.jsx)(mr.C,{decimals:A.tokenIn.decimals,tokenWrapperAddress:A.tokenWrapperAddress,tokenInSymbol:A.tokenIn.symbol,tokenOutSymbol:A.tokenOut.symbol}),children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,H.jsx)(oe.B,{value:0,variant:"secondary14",sx:{mb:"2px"},symbolsColor:"common.white"}),(0,H.jsxs)(Ue.Z,{direction:"row",alignItems:"center",children:[(0,H.jsx)(ke.T1,{sx:{fontSize:"14px",mr:1},symbol:"DAI"}),(0,H.jsx)(oe.B,{value:g[A.tokenIn.underlyingAsset.toLowerCase()].amount,visibleDecimals:2,variant:"secondary12",color:"text.secondary"})]})]})})}):(0,H.jsx)(Me,{title:(0,H.jsx)(n.cC,{id:"Supply balance"}),value:Number(s),subValue:a,disabled:0===Number(s)||D,capsComponent:(0,H.jsx)(ce,{capType:E.R.supplyCap,capAmount:l,totalAmount:d,withoutText:!0})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"Supply APY"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,H.jsx)(ue.J,{value:Number(u),incentives:p,symbol:t,variant:"secondary14"}),(0,H.jsx)(de.E,{symbol:t,market:C,protocolAction:h.UQ.supply})]})}),(0,H.jsx)($.X,{caption:(0,H.jsx)(n.cC,{id:"Can be collateral"}),align:"flex-start",captionVariant:"description",mb:2,children:(0,H.jsx)(fr,{isIsolated:b,usageAsCollateralEnabled:x})}),(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[(0,H.jsx)(y.Z,{disabled:f,variant:"contained",onClick:function(){return O(m,C,i,"dashboard")},sx:{mr:1.5},fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Supply"})}),(0,H.jsx)(y.Z,{variant:"outlined",component:j.rU,href:j.Z6.reserveOverview(v,C),fullWidth:!0,children:(0,H.jsx)(n.cC,{id:"Details"})})]})]})},kr=r(54373);function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pr=[{title:(0,H.jsx)(n.cC,{id:"Assets"},"assets"),sortKey:"symbol"},{title:(0,H.jsx)(n.cC,{id:"Wallet balance"},"Wallet balance"),sortKey:"walletBalance"},{title:(0,H.jsx)(n.cC,{id:"APY"},"APY"),sortKey:"supplyAPY"},{title:(0,H.jsx)(n.cC,{id:"Can be collateral"},"Can be collateral"),sortKey:"usageAsCollateralEnabledOnUser"}],Sr=function(){var e=(0,d.Y)((function(e){return e.currentNetworkConfig})),t=(0,d.Y)((function(e){return e.currentChainId})),r=(0,d.Y)((function(e){return e.currentMarketData})),a=(0,d.Y)((function(e){return e.currentMarket})),l=(0,U.HT)(),c=l.user,u=l.reserves,p=l.marketReferencePriceInUsd,b=l.loading,x=(0,rr.P)(),h=(0,nr.P)(r),y=h.walletBalances,f=h.loading,w=(0,m.Z)(),g=(0,v.Z)(w.breakpoints.down("xsm")),D=(0,s.useState)(""),E=D[0],M=D[1],L=(0,s.useState)(!1),F=L[0],V=L[1],W=e.bridge,_=e.isTestnet,z=e.baseAssetSymbol,q=e.name,G="showSupplyZeroAssets",X=(0,s.useState)("true"===localStorage.getItem(G)),Q=X[0],$=X[1],J=u.filter((function(e){return!(e.isFrozen||e.isPaused)&&!(0,I.F$)({symbol:e.symbol,currentMarket:a})})).map((function(e){var t,r,n=null===(t=y[e.underlyingAsset])||void 0===t?void 0:t.amount,o=null===(r=y[e.underlyingAsset])||void 0===r?void 0:r.amountUSD,i=(0,O.hE)(n);"0"!==e.supplyCap&&(i=tr.Z.min(i,new tr.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var s=(0,O.hE)(i).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(p).shiftedBy(-k.$3).toString(),a=e.isIsolated,l=null===c||void 0===c?void 0:c.userReservesData.find((function(t){return t.usageAsCollateralEnabledOnUser&&t.reserve.id!==e.id})),d=null!==c&&void 0!==c&&c.isInIsolationMode?!!a&&!l:"0"!==e.reserveLiquidationThreshold&&(!a||a&&!l);if(e.isWrappedBaseAsset){var u,b,x,h=(0,O.hE)(null===(u=y[C.hP.toLowerCase()])||void 0===u?void 0:u.amount);"0"!==e.supplyCap&&(h=tr.Z.min(h,new tr.Z(e.supplyCap).minus(e.totalLiquidity).multipliedBy("0.995")));var m=(0,O.hE)(h).multipliedBy(e.priceInMarketReferenceCurrency).multipliedBy(p).shiftedBy(-k.$3).toString();return[Ar(Ar(Ar({},e),{},{reserve:e,underlyingAsset:C.hP.toLowerCase()},(0,T.QD)({symbol:z,underlyingAsset:C.hP.toLowerCase()})),{},{walletBalance:null===(b=y[C.hP.toLowerCase()])||void 0===b?void 0:b.amount,walletBalanceUSD:null===(x=y[C.hP.toLowerCase()])||void 0===x?void 0:x.amountUSD,availableToDeposit:h.toString(),availableToDepositUSD:m,usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset,id:e.id+"base"}),Ar(Ar({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:o,availableToDeposit:i.toNumber()<=0?"0":i.toString(),availableToDepositUSD:Number(s)<=0?"0":s.toString(),usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset})]}return Ar(Ar({},e),{},{reserve:e,walletBalance:n,walletBalanceUSD:o,availableToDeposit:i.toNumber()<=0?"0":i.toString(),availableToDepositUSD:Number(s)<=0?"0":s.toString(),usageAsCollateralEnabledOnUser:d,detailsAddress:e.underlyingAsset})})).flat(),ee=J.sort((function(e,t){return+e.walletBalanceUSD>+t.walletBalanceUSD?-1:1})),re=ee.filter((function(e){var t;if("0"!==e.availableToDepositUSD)return!0;var r=x.find((function(t){return t.tokenOut.underlyingAsset===e.underlyingAsset}));return!!r&&"0"!==(null===(t=y[r.tokenIn.underlyingAsset])||void 0===t?void 0:t.amount)})),ne=Q?ee:re.length>=1?re:ee,oe=Y(F,E,"assets",ne),ie=function(){return(0,H.jsxs)(S.u,{children:[Pr.map((function(e){return(0,H.jsx)(A.h,{isRow:"symbol"===e.sortKey,maxWidth:"symbol"===e.sortKey?N:void 0,overFlow:"visible",children:(0,H.jsx)(P.M,{sortName:E,sortDesc:F,setSortName:M,setSortDesc:V,sortKey:e.sortKey,source:"Supplies Dashbaord",children:e.title})},e.sortKey)})),(0,H.jsx)(K,{isColumnHeader:!0})]})};if(b||f)return(0,H.jsx)(te,{head:Pr.map((function(e){return e.title})),title:(0,H.jsx)(n.cC,{id:"Assets to supply"}),withTopMargin:!0});var se=!J.length;return(0,H.jsx)(R.l,{titleComponent:(0,H.jsx)(i.Z,{component:"div",variant:"h3",sx:{mr:4},children:(0,H.jsx)(n.cC,{id:"Assets to supply"})}),localStorageName:"supplyAssetsDashboardTableCollapse",withTopMargin:!0,noData:se,subChildrenComponent:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(o.Z,{sx:{px:6},children:null!==c&&void 0!==c&&c.isInIsolationMode?(0,H.jsx)(Z.v,{severity:"warning",children:(0,H.jsx)(n.cC,{id:"Collateral usage is limited because of isolation mode. <0>Learn More</0>",components:{0:(0,H.jsx)(j.rU,{href:"https://docs.aave.com/faq/",target:"_blank",rel:"noopener"})}})}):0===re.length&&(_?(0,H.jsxs)(Z.v,{severity:"info",children:[(0,H.jsx)(n.cC,{id:"Your {networkName} wallet is empty. Get free test assets at",values:{networkName:q}})," ",(0,H.jsx)(j.rU,{href:j.Z6.faucet,style:{fontWeight:400},children:(0,H.jsx)(n.cC,{id:"{networkName} Faucet",values:{networkName:q}})})]}):(0,H.jsx)(kr.K,{name:q,bridge:W,chainId:t}))}),re.length>=1&&(0,H.jsx)(ur,{value:Q,onClick:$,localStorageName:G,bridge:W})]}),children:(0,H.jsxs)(H.Fragment,{children:[!g&&!!oe&&!se&&(0,H.jsx)(ie,{}),oe.map((function(e){return(0,H.jsx)(s.Fragment,{children:(0,H.jsx)(B.hv,{asset:e.reserve,children:(0,s.createElement)(gr,Ar(Ar({},e),{},{key:e.id,walletBalances:y}))})},e.underlyingAsset)}))]})})},Zr=function(e){var t=e.isBorrow,r=(0,m.Z)().breakpoints,i=(0,x.Z)().currentAccount,s=(0,f.useRouter)(),a=(0,d.Y)((function(e){return e.trackEvent})),l=(0,d.Y)((function(e){return e.currentMarketData})),c=(0,v.Z)(r.up("lg")),u=c?"calc(50% - 8px)":"100%",p=(0,v.Z)(r.down("lg"));return(0,H.jsxs)(o.Z,{children:[l.chainId===h.a_.polygon&&!l.v3,(0,H.jsxs)(o.Z,{sx:{display:c?"flex":"block",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,H.jsxs)(o.Z,{sx:{position:"relative",display:{xs:t?"none":"block",lg:"block"},width:u},children:[i&&!t&&p&&(0,H.jsx)(o.Z,{children:(0,H.jsx)(y.Z,{sx:{position:"absolute",top:"-130px",right:"0px"},onClick:function(){s.push(j.Z6.history),a(w.Bp.VIEW_TX_HISTORY)},component:"a",variant:"surface",size:"small",children:(0,H.jsx)(n.cC,{id:"View Transactions"})})}),(0,H.jsx)(er,{}),(0,H.jsx)(Sr,{})]}),(0,H.jsxs)(o.Z,{sx:{position:"relative",display:{xs:t?"block":"none",lg:"block"},width:u},children:[i&&(0,H.jsx)(o.Z,{sx:{position:"absolute",top:p?"-130px":"-90px",right:"0px"},children:(0,H.jsx)(y.Z,{onClick:function(){s.push(j.Z6.history),a(w.Bp.VIEW_TX_HISTORY)},component:"a",variant:"surface",size:"small",children:(0,H.jsx)(n.cC,{id:"View Transactions"})})}),(0,H.jsx)(Mt,{}),(0,H.jsx)(qe,{})]})]})]})},Br=r(41664);function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){(0,g.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Er=function(e){var t=(0,Ge.Z)({},e);return(0,H.jsx)(Xe.G,Ir(Ir({},t),{},{children:(0,H.jsx)(n.cC,{id:"Net APY is the combined effect of all supply and borrow positions on net worth, including incentives. It is possible to have a negative net APY if debt APY is higher than supply APY."})}))},Mr=r(25563),Rr=r(40535),Ur=r(67728),Nr=r(96875),Lr=r(74815),Fr=r(87369),Yr=r(31959),Vr=function(e){var t=e.healthFactor,r=Number((0,O.hE)(t).toFixed(2,tr.Z.ROUND_DOWN)),s=+t>10?100:10*+t;return(0,H.jsxs)(o.Z,{sx:{position:"relative",mt:"33px",mb:4},children:[(0,H.jsx)(o.Z,{sx:{height:"4px",background:"linear-gradient(90deg, #46BC4B 0%, #F89F1A 52.08%, #BC0000 100%)",borderRadius:"1px",transform:"matrix(-1, 0, 0, 1, 0, 0)"}}),(0,H.jsx)(o.Z,{sx:{position:"absolute",bottom:"calc(100% + 6px)",left:"".concat(s>100?100:s,"%"),zIndex:3},children:(0,H.jsx)(o.Z,{sx:function(e){return{position:"relative",whiteSpace:"nowrap","&:after":{width:0,height:0,borderStyle:"solid",borderWidth:"6px 4px 0 4px",borderColor:"".concat(e.palette.primary.main," transparent transparent transparent"),content:"''",position:"absolute",left:s>75?"auto":"50%",right:s>75?0:"auto",transform:s>75?"translateX(0)":"translateX(-50%)"}}},children:(0,H.jsx)(o.Z,{sx:{display:"flex",position:"absolute",left:s>75?"auto":s<15?"0":"50%",transform:s>75||s<15?"translateX(0)":"translateX(-50%)",right:s>75?0:"auto",flexDirection:"column",alignItems:s>75?"flex-end":s<15?"flex-start":"center",textAlign:s>75?"right":s<15?"left":"center",bottom:"calc(100% + 2px)"},children:(0,H.jsx)(oe.B,{value:r,variant:"main12",visibleDecimals:2})})})}),(0,H.jsxs)(o.Z,{sx:{maxWidth:"20%",textAlign:"center",pt:1.5,"&:after":{content:"''",position:"absolute",bottom:"85%",left:"10%",transform:"translateX(-50%)",height:"10px",width:"2px",bgcolor:"error.main"}},children:[(0,H.jsx)(oe.B,{value:1,visibleDecimals:2,color:"error.main",variant:"subheader2"}),(0,H.jsx)(i.Z,{sx:{display:"flex"},variant:"helperText",lineHeight:"12px",color:"error.main",children:(0,H.jsx)(n.cC,{id:"Liquidation value"})})]})]})},Wr=function(e){var t=e.topValue,r=e.topTitle,n=e.topDescription,s=e.children,a=e.bottomText,l=e.color;return(0,H.jsxs)(o.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),mb:6,borderRadius:"6px",px:4,pt:4,pb:6,"&:last-of-type":{mb:0}}},children:[(0,H.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,H.jsxs)(o.Z,{sx:{width:"calc(100% - 72px)"},children:[(0,H.jsx)(i.Z,{variant:"subheader1",mb:1,children:r}),(0,H.jsx)(i.Z,{variant:"caption",color:"text.secondary",children:n})]}),(0,H.jsx)(o.Z,{sx:{width:"56px",height:"56px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"".concat(l,".main")},children:t})]}),(0,H.jsx)(o.Z,{children:s}),(0,H.jsx)(i.Z,{variant:"secondary12",color:"text.secondary",textAlign:"left",children:a})]})},_r=function(e){var t=e.loanToValue,r=e.currentLoanToValue,s=e.currentLiquidationThreshold,a=e.color,l=(0,m.Z)().palette,c=(0,O.hE)(t).multipliedBy(100).precision(20,tr.Z.ROUND_UP).toNumber(),d=(0,O.hE)(r).multipliedBy(100).precision(20,tr.Z.ROUND_UP).toNumber(),u=(0,O.hE)(s).multipliedBy(100).precision(20,tr.Z.ROUND_UP).toNumber(),p=100*Number(s);return(0,H.jsxs)(o.Z,{sx:{position:"relative",margin:"45px 0 55px"},children:[(0,H.jsx)(o.Z,{sx:{position:"absolute",top:"calc(100% + 6px)",left:"".concat(u>100?100:u,"%"),zIndex:2},children:(0,H.jsx)(o.Z,{sx:{position:"relative",whiteSpace:"nowrap","&:after":{content:"''",position:"absolute",left:p>75?"auto":"50%",transform:p>75?"translateX(0)":"translateX(-50%)",right:p>75?0:"auto",bottom:"100%",height:"10px",width:"2px",bgcolor:"error.main"}},children:(0,H.jsxs)(o.Z,{sx:{display:"flex",position:"absolute",left:p>75?"auto":"50%",transform:p>75?"translateX(0)":"translateX(-50%)",right:p>75?0:"auto",flexDirection:"column",alignItems:p>75?"flex-end":"center",textAlign:p>75?"right":"center"},children:[(0,H.jsx)(oe.B,{value:s,visibleDecimals:2,color:"error.main",variant:"subheader2",percent:!0,symbolsColor:"error.main"}),(0,H.jsx)(i.Z,{sx:{display:"flex"},variant:"helperText",lineHeight:"12px",color:"error.main",children:(0,H.jsx)(n.cC,{id:"Liquidation <0/> threshold",components:{0:(0,H.jsx)("br",{})}})})]})})}),(0,H.jsx)(o.Z,{sx:{position:"absolute",bottom:"calc(100% + 6px)",left:"".concat(c>100?100:c,"%"),zIndex:3},children:(0,H.jsx)(o.Z,{sx:function(e){return{position:"relative",whiteSpace:"nowrap","&:after":{width:0,height:0,borderStyle:"solid",borderWidth:"6px 4px 0 4px",borderColor:"".concat(e.palette.primary.main," transparent transparent transparent"),content:"''",position:"absolute",left:c>75?"auto":"50%",right:c>75?0:"auto",transform:c>75?"translateX(0)":"translateX(-50%)"}}},children:(0,H.jsxs)(o.Z,{sx:{display:"flex",position:"absolute",left:c>75?"auto":c<15?"0":"50%",transform:c>75||c<15?"translateX(0)":"translateX(-50%)",right:c>75?0:"auto",flexDirection:"column",alignItems:c>75?"flex-end":c<15?"flex-start":"center",textAlign:c>75?"right":c<15?"left":"center",bottom:"calc(100% + 2px)"},children:[(0,H.jsx)(oe.B,{value:t,percent:!0,visibleDecimals:2,variant:"main12"}),(0,H.jsxs)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,H.jsx)(i.Z,{variant:"helperText",color:"text.muted",mr:.5,children:(0,H.jsx)(n.cC,{id:"MAX"})}),(0,H.jsx)(oe.B,{value:r,percent:!0,visibleDecimals:2,variant:"helperText",color:"text.muted",symbolsColor:"text.muted"})]})]})})}),(0,H.jsxs)(o.Z,{sx:{height:"4px",width:"100%",borderRadius:"1px",position:"relative",bgcolor:"divider"},children:[(0,H.jsx)(o.Z,{sx:{position:"absolute",left:0,height:"4px",borderRadius:"1px",width:"".concat(c>100?100:c,"%"),maxWidth:"100%",bgcolor:"".concat(a,".main"),zIndex:2}}),c<d&&(0,H.jsx)(o.Z,{sx:{position:"absolute",left:0,height:"4px",borderRadius:"1px",width:"".concat(d>100?100:d,"%"),maxWidth:"100%",background:"repeating-linear-gradient(-45deg, ".concat(l.divider,", ").concat(l.divider," 4px, ").concat(l[a].main," 4px, ").concat(l[a].main," 7px)")}})]})]})},zr=function(e){var t=e.open,r=e.setOpen,o=e.healthFactor,s=e.loanToValue,a=e.currentLoanToValue,l=e.currentLiquidationThreshold,c="success",u=Number(o);u>1.1&&u<=3?c="warning":u<=1.1&&(c="error");var p=(0,d.Y)((function(e){return e.trackEvent})),b="success",x=100*Number(s),h=100*Number(a),m=100*Number(l);return x>=Math.min(h,m)?b="error":x>h/2&&x<h&&(b="warning"),(0,H.jsxs)(Yr.P,{open:t,setOpen:r,children:[(0,H.jsx)(i.Z,{variant:"h2",mb:6,children:(0,H.jsx)(n.cC,{id:"Liquidation risk parameters"})}),(0,H.jsxs)(i.Z,{mb:6,children:[(0,H.jsx)(n.cC,{id:"Your health factor and loan to value determine the assurance of your collateral. To avoid liquidations you can supply more collateral or repay borrow positions."})," ",(0,H.jsx)(j.rU,{onClick:function(){p(w.vh.EXTERNAL_LINK,{Link:"HF Risk Link"})},href:"https://docs.aave.com/faq/",sx:{textDecoration:"underline"},color:"text.primary",variant:"description",children:(0,H.jsx)(n.cC,{id:"Learn more"})})]}),(0,H.jsx)(Wr,{topTitle:(0,H.jsx)(n.cC,{id:"Health factor"}),topDescription:(0,H.jsx)(n.cC,{id:"Safety of your deposited collateral against the borrowed assets and its underlying value."}),topValue:(0,H.jsx)(Nr.o,{value:o,variant:"main12",sx:{color:"common.white"}}),bottomText:(0,H.jsx)(n.cC,{id:"If the health factor goes below 1, the liquidation of your collateral might be triggered."}),color:c,children:(0,H.jsx)(Vr,{healthFactor:o})}),(0,H.jsx)(Wr,{topTitle:(0,H.jsx)(n.cC,{id:"Current LTV"}),topDescription:(0,H.jsx)(n.cC,{id:"Your current loan to value based on your collateral supplied."}),topValue:(0,H.jsx)(oe.B,{value:s,percent:!0,variant:"main12",color:"common.white",symbolsColor:"common.white"}),bottomText:(0,H.jsx)(n.cC,{id:"If your loan to value goes above the liquidation threshold your collateral supplied may be liquidated."}),color:b,children:(0,H.jsx)(_r,{loanToValue:s,currentLoanToValue:a,currentLiquidationThreshold:l,color:b})})]})},Hr=function(){var e=(0,c.f)(),t=e.currentNetworkConfig,r=e.currentMarketData,a=e.currentMarket,l=(0,Mr.hu)(a).market,u=(0,U.HT)(),p=u.user,b=u.reserves,f=u.loading,g=(0,x.Z)().currentAccount,C=(0,s.useState)(!1),k=C[0],D=C[1],A=(0,re.vR)().openClaimRewards,P=(0,d.Y)((function(e){return e.trackEvent})),S=(0,d.Y)((function(e){return(0,Ur.lY)(e)})),Z=!!p&&(S&&""!==g&&Number(p.totalLiquidityUSD)>0),B=(0,m.Z)(),T=(0,v.Z)(B.breakpoints.down("sm")),I=(p?Object.keys(p.calculatedUserIncentives).reduce((function(e,n){var o=p.calculatedUserIncentives[n],i=(0,O.Fv)(o.claimableRewards,o.rewardTokenDecimals),s=0;if(!r.v3&&Number(i)>0)if(r.chainId===h.a_.mainnet){var a=b.find((function(e){return"AAVE"===e.symbol}));s=a?Number(a.priceInUSD):0}else b.forEach((function(e){e.symbol===t.wrappedBaseAssetSymbol&&(s=Number(e.priceInUSD))}));else s=Number(o.rewardPriceFeed);var l=Number(i)*s;return l>0&&(-1===e.assets.indexOf(o.rewardTokenSymbol)&&e.assets.push(o.rewardTokenSymbol),e.claimableRewardsUsd+=Number(l)),e}),{claimableRewardsUsd:0,assets:[]}):{claimableRewardsUsd:0}).claimableRewardsUsd,E="0"===(null===p||void 0===p?void 0:p.totalCollateralMarketReferenceCurrency)?"0":(0,O.hE)((null===p||void 0===p?void 0:p.totalBorrowsMarketReferenceCurrency)||"0").dividedBy((null===p||void 0===p?void 0:p.totalCollateralMarketReferenceCurrency)||"1").toFixed(),M=T?"main16":"main21",R=T?"secondary16":"secondary21";return(0,H.jsxs)(H.Fragment,{children:[Z&&T&&(0,H.jsx)(o.Z,{sx:{width:"100%"},children:(0,H.jsx)(Br.default,{href:j.Z6.migrationTool,children:(0,H.jsx)(y.Z,{variant:"gradient",sx:{height:"40px",width:"100%"},children:(0,H.jsx)(i.Z,{variant:"buttonM",children:(0,H.jsx)(n.cC,{id:"Migrate to {0} v3 Market",values:{0:l.marketTitle}})})})})}),(0,H.jsxs)(Lr.f,{titleComponent:(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(Rr.V,{pageTitle:(0,H.jsx)(n.cC,{id:"Dashboard"}),withMarketSwitcher:!0,bridge:t.bridge}),Z&&!T&&(0,H.jsx)(o.Z,{sx:{alignSelf:"center",mb:4,width:"100%"},children:(0,H.jsx)(Br.default,{href:j.Z6.marketMigrationTool(a),children:(0,H.jsx)(y.Z,{variant:"gradient",sx:{height:"20px"},children:(0,H.jsx)(i.Z,{variant:"buttonS","data-cy":"migration-button",children:(0,H.jsx)(n.cC,{id:"Migrate to v3"})})})})})]}),children:[(0,H.jsx)(Fr.d,{title:(0,H.jsx)(n.cC,{id:"Net worth"}),loading:f,hideIcon:!0,children:g?(0,H.jsx)(oe.B,{value:Number((null===p||void 0===p?void 0:p.netWorthUSD)||0),symbol:"USD",variant:M,visibleDecimals:2,compact:!0,symbolsColor:"#A5A8B6",symbolsVariant:R}):(0,H.jsx)(vr.J,{variant:R,sx:{opacity:"0.7"}})}),(0,H.jsx)(Fr.d,{title:(0,H.jsxs)("div",{style:{display:"flex"},children:[(0,H.jsx)(n.cC,{id:"Net APY"}),(0,H.jsx)(Er,{event:{eventName:w.vh.TOOL_TIP,eventParams:{tooltip:"NET APY: Dashboard Banner"}}})]}),loading:f,hideIcon:!0,children:g&&p&&Number(p.netWorthUSD)>0?(0,H.jsx)(oe.B,{value:p?p.netAPY:0,variant:M,visibleDecimals:2,percent:!0,symbolsColor:"#A5A8B6",symbolsVariant:R}):(0,H.jsx)(vr.J,{variant:R,sx:{opacity:"0.7"}})}),g&&"-1"!==(null===p||void 0===p?void 0:p.healthFactor)&&(0,H.jsx)(Fr.d,{title:(0,H.jsx)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},children:(0,H.jsx)(n.cC,{id:"Health factor"})}),loading:f,hideIcon:!0,children:(0,H.jsx)(Nr.o,{value:(null===p||void 0===p?void 0:p.healthFactor)||"-1",variant:M,onInfoClick:function(){P(w.h1.VIEW_RISK_DETAILS),D(!0)}})}),g&&I>0&&(0,H.jsx)(Fr.d,{title:(0,H.jsx)(n.cC,{id:"Available rewards"}),loading:f,hideIcon:!0,children:(0,H.jsxs)(o.Z,{sx:{display:"flex",alignItems:{xs:"flex-start",xsm:"center"},flexDirection:{xs:"column",xsm:"row"}},children:[(0,H.jsx)(o.Z,{sx:{display:"inline-flex",alignItems:"center"},"data-cy":"Claim_Box",children:(0,H.jsx)(oe.B,{value:I,variant:M,visibleDecimals:2,compact:!0,symbol:"USD",symbolsColor:"#A5A8B6",symbolsVariant:R,"data-cy":"Claim_Value"})}),(0,H.jsx)(y.Z,{variant:"gradient",size:"small",onClick:function(){return A()},sx:{minWidth:"unset",ml:{xs:0,xsm:2}},"data-cy":"Dashboard_Claim_Button",children:(0,H.jsx)(n.cC,{id:"Claim"})})]})})]}),(0,H.jsx)(zr,{open:k,setOpen:D,healthFactor:(null===p||void 0===p?void 0:p.healthFactor)||"-1",loanToValue:E,currentLoanToValue:(null===p||void 0===p?void 0:p.currentLoanToValue)||"0",currentLiquidationThreshold:(null===p||void 0===p?void 0:p.currentLiquidationThreshold)||"0"})]})};function Kr(){var e=(0,x.Z)(),t=e.currentAccount,r=e.loading,b=(0,c.f)().currentMarket,h=(0,d.Y)((function(e){return e.trackEvent})),m=(0,s.useState)("supply"),v=m[0],y=m[1];return(0,s.useEffect)((function(){h("Page Viewed",{"Page Name":"Dashboard",Market:b})}),[h]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Hr,{}),(0,H.jsxs)(p.O,{children:[t&&(0,H.jsx)(o.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,H.jsxs)(l.Z,{color:"primary",value:v,exclusive:!0,onChange:function(e,t){return y(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px"},children:[(0,H.jsx)(a.Z,{value:"supply",disabled:"supply"===v,children:(0,H.jsx)(i.Z,{variant:"subheader1",children:(0,H.jsx)(n.cC,{id:"Supply"})})}),(0,H.jsx)(a.Z,{value:"borrow",disabled:"borrow"===v,children:(0,H.jsx)(i.Z,{variant:"subheader1",children:(0,H.jsx)(n.cC,{id:"Borrow"})})})]})}),t?(0,H.jsx)(Zr,{isBorrow:"borrow"===v}):(0,H.jsx)(u.w,{loading:r})]})]})}Kr.getLayout=function(e){return(0,H.jsx)(b.Z,{children:e})}},81902:function(e,t,r){"use strict";var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},99552:function(e,t,r){"use strict";r.d(t,{B:function(){return m}});var n=r(90116),o=r(49501),i=r(30120),s=r(29630),a=r(72389),l=r(46839),c=r(97563),d=r(50020),u=r(41024),p=r(68861),b=r(14463),x=r(72667),h=r(85893),m=function(e){var t=e.value,r=e.useApyRange,m=e.rangeValues,v=void 0===m?[0,0]:m,y=e.ghoRoute,f=e.stkAaveBalance,j=e.userQualifiesForDiscount,w=e.onMoreDetailsClick,g=e.withTokenIcon,C=void 0!==g&&g,O=e.forceShowTooltip,k=void 0!==O&&O,D=e.variant,A=void 0===D?"secondary14":D,P=e.color,S=void 0===P?void 0:P,Z=(0,l.HT)().ghoReserveData,B=Number(f),T=B>=Z.ghoMinDiscountTokenBalanceForDiscount,I=(0,h.jsx)(h.Fragment,{}),E=j||k;return E&&(I=(0,h.jsx)(i.Z,{sx:{py:4,px:6,fontSize:"12px",lineHeight:"16px",a:{fontSize:"12px",lineHeight:"16px",fontWeight:500}},children:(0,h.jsxs)(s.Z,{variant:"subheader2",children:[(0,h.jsx)(o.cC,{id:"Estimated compounding interest, including discount for Staking {0}AAVE in Safety Module.",values:{0:T?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.B,{variant:"subheader2",value:B,visibleDecimals:2})," "]}):null}})," ",(0,h.jsx)(p.rU,{onClick:w,href:y,underline:"always",variant:"subheader2",children:(0,h.jsx)(o.cC,{id:"Learn more"})})]})})),(0,h.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-end",xsm:"center"},justifyContent:"center",textAlign:"center",flex:"2 1 auto"},children:"-1"!==t.toString()?(0,h.jsx)(a.Z,{enterTouchDelay:0,leaveTouchDelay:0,placement:"top",title:I,arrow:E,PopperComponent:c.E,children:(0,h.jsxs)(i.Z,{sx:function(){return{display:"flex",alignItems:"center"}},children:[C&&(0,h.jsx)(x.T1,{symbol:"stkAAVE",sx:{height:14,width:14,mr:1}}),r?(0,h.jsx)(d.Z,{percentVariant:A,hyphenVariant:A,minVal:Math.min.apply(Math,(0,n.Z)(v)),maxVal:Math.max.apply(Math,(0,n.Z)(v)),color:S}):(0,h.jsx)(u.B,{value:t,percent:!0,variant:A,color:S,"data-cy":"apy"})]})}):(0,h.jsx)(b.J,{variant:"secondary14",color:"text.secondary"})})}},25049:function(e,t,r){"use strict";r.d(t,{Y:function(){return p}});var n=r(59499),o=r(4730),i=r(49501),s=r(81902),a=r(58527),l=r(85893),c=["capType"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.capType,r=(0,o.Z)(e,c),n=t===s.R.supplyCap?(0,l.jsx)(i.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,l.jsx)(i.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,l.jsx)(a.G,u(u({},r),{},{children:n}))}},75437:function(e,t,r){"use strict";r.d(t,{x:function(){return u},n:function(){return p}});var n=r(59499),o=r(49501),i=r(57609),s=r(68861),a=r(58527),l=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,l.jsx)(o.cC,{id:"Interest rate that is determined by Aave Governance. This rate may be changed over time depending on the need for the GHO supply to contract/expand. <0>Learn more</0>",components:{0:(0,l.jsx)(s.rU,{href:"https://docs.gho.xyz/concepts/how-gho-works/interest-rate-discount-model#interest-rate-model",underline:"always"})}}),p=function(e){return(0,l.jsx)(a.G,d(d({event:{eventName:i.vh.TOOL_TIP,eventParams:{tooltip:"GHO APY"}}},e),{},{children:u}))}},86099:function(e,t,r){"use strict";r.d(t,{C:function(){return b}});var n=r(49501),o=r(80227),i=r(9144),s=r(29630),a=r(30120),l=r(91655),c=r(81645),d=r(39051),u=r(41024),p=r(85893),b=function(e){var t=e.decimals,r=e.tokenWrapperAddress,b=e.tokenInSymbol,x=e.tokenOutSymbol,h=(0,d.v)("1",t,r),m=h.isLoading,v=h.data;return(0,p.jsxs)(i.Z,{direction:"column",gap:3,children:[(0,p.jsx)(s.Z,{variant:"tooltip",children:(0,p.jsx)(n.cC,{id:"DAI balance will be converted via DSR contracts and then supplied as sDAI. Switching incurs no additional costs and no slippage."})}),(0,p.jsxs)(i.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(a.Z,{children:(0,p.jsx)(s.Z,{variant:"secondary12",children:(0,p.jsx)(n.cC,{id:"Exchange rate"})})}),m?(0,p.jsx)(l.Z,{variant:"rectangular",width:120,height:14}):(0,p.jsxs)(i.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,p.jsx)(u.B,{value:"1",visibleDecimals:0,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(s.Z,{variant:"tooltip",children:b}),(0,p.jsx)(c.Z,{color:"primary",sx:{fontSize:"12px"},children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(u.B,{value:v||"0",visibleDecimals:4,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(s.Z,{variant:"tooltip",children:x})]})]})]})}},32667:function(e,t,r){"use strict";r.d(t,{U:function(){return n}});var n=function(e){return""===e?"Disabled":e}},82482:function(e,t,r){"use strict";r.d(t,{P:function(){return y}});var n=r(80854),o=r(1279),i=r(81206),s=r(82403),a=r(70794),l=r(78371),c=r(63206),d=r(52369),u=r(59499),p=r(87669),b=r(31001),x=r(8430);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(e,t,r){var n=(0,x.z)().poolTokensBalanceService;return(0,p.h)({queries:e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({queryKey:b.B.poolTokens(t,e),queryFn:function(){return n.getPoolTokensBalances(e,t)},enabled:!!t,refetchInterval:b.g},r)}))})},v=function(e){var t=(0,l.Y)((function(e){return e.account})),r=m(e,t),u=(0,d.T)(e),p=r.some((function(e){return e.isLoading}))||u.some((function(e){return e.isLoading}));return{walletBalances:u.map((function(t,l){var d;return function(e){var t=e.reservesHumanized,r=e.balances,l=e.marketData,d=(null===t||void 0===t?void 0:t.reservesData)||[],u=(null===t||void 0===t?void 0:t.baseCurrencyData)||{marketReferenceCurrencyDecimals:0,marketReferenceCurrencyPriceInUsd:"0",networkBaseTokenPriceInUsd:"0",networkBaseTokenPriceDecimals:0},p=!0;return{walletBalances:(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=d.find((function(e){var r;return t.address===n.hP.toLowerCase()?e.symbol.toLowerCase()===(null===(r=c.m5[l.chainId].wrappedBaseAssetSymbol)||void 0===r?void 0:r.toLowerCase()):e.underlyingAsset.toLowerCase()===t.address}));return"0"!==t.amount&&(p=!1),r&&(e[t.address]={amount:(0,o.Fv)(t.amount,r.decimals),amountUSD:(0,i.Z)({amount:new a.O(t.amount),currencyDecimals:r.decimals,priceInMarketReferenceCurrency:r.priceInMarketReferenceCurrency,marketReferenceCurrencyDecimals:u.marketReferenceCurrencyDecimals,normalizedMarketReferencePriceInUsd:(0,o.Fv)(u.marketReferenceCurrencyPriceInUsd,s.$3)})}),e}),{}),hasEmptyWallet:p}}({reservesHumanized:t.data,balances:null===(d=r[l])||void 0===d?void 0:d.data,marketData:e[l]})})),isLoading:p}},y=function(e){var t=v([e]),r=t.walletBalances,n=t.isLoading;return{walletBalances:r[0].walletBalances,hasEmptyWallet:r[0].hasEmptyWallet,loading:n}}},39051:function(e,t,r){"use strict";r.d(t,{E:function(){return a},v:function(){return l}});var n=r(36492),o=r(2593),i=r(56371),s=r(8430),a=function(e,t,r){var a=(0,s.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):a.getTokenInForTokenOut((0,i.parseUnits)(e,t).toString(),r)},queryKey:["tokenInForTokenOut",r,e],select:function(e){return(0,i.formatUnits)(e.toString(),t)}})},l=function(e,t,r){var a=(0,s.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):a.getTokenOutForTokenIn((0,i.parseUnits)(e,t).toString(),r)},queryKey:["tokenOutForTokenIn",r,e],select:function(e){return(0,i.formatUnits)(e.toString(),t)}})}},71691:function(e,t,r){"use strict";r.d(t,{P:function(){return u}});var n=r(59499),o=r(1279),i=r(3439),s=r(78371),a=r(4293),l=r(87385),c=r(46839),d=(0,n.Z)({},a.e.proto_mainnet_v3,[{tokenIn:i.ou.DAI.UNDERLYING.toLowerCase(),tokenOut:i.ou.sDAI.UNDERLYING.toLowerCase(),tokenWrapperContractAddress:i.zq}]),u=function(){var e,t=(0,c.HT)(),r=t.marketReferencePriceInUsd,n=t.marketReferenceCurrencyDecimals,i=t.reserves,a=(0,s.Y)((function(e){return e.currentMarket}));if(!i||0===i.length)return[];return(null!==(e=d[a])&&void 0!==e?e:[]).map((function(e){var t=i.find((function(t){return t.underlyingAsset===e.tokenIn})),s=i.find((function(t){return t.underlyingAsset===e.tokenOut}));if(!t||!s)throw new Error("wrapped token reserves not found");var a=(0,o.Fv)(t.priceInMarketReferenceCurrency,n),c=(0,o.Fv)(s.priceInMarketReferenceCurrency,n);return{tokenIn:{symbol:t.symbol,underlyingAsset:t.underlyingAsset,decimals:t.decimals,priceInUSD:(0,l.N4)(1,a,r).toString(),formattedPriceInMarketReferenceCurrency:a},tokenOut:{symbol:s.symbol,underlyingAsset:s.underlyingAsset,decimals:s.decimals,priceInUSD:(0,l.N4)(1,c,r).toString(),formattedPriceInMarketReferenceCurrency:c},tokenWrapperAddress:e.tokenWrapperContractAddress}}))}},54373:function(e,t,r){"use strict";r.d(t,{K:function(){return d}});var n=r(49501),o=r(75331),i=r(69331),s=r(78371),a=r(57609),l=r(68861),c=r(85893);function d(e){var t=e.bridge,r=e.name,d=e.chainId,u=e.icon,p=e.sx,b=[o.a_.avalanche].includes(d)?"Ethereum & Bitcoin":"Ethereum",x=(0,s.Y)((function(e){return e.trackEvent}));return(0,c.jsx)(i.v,{severity:"info",icon:u,sx:p,children:t?(0,c.jsx)(n.cC,{id:"Your {name} wallet is empty. Purchase or transfer assets or use <0>{0}</0> to transfer your {network} assets.",values:{0:t.name,name:r,network:b},components:{0:(0,c.jsx)(l.rU,{onClick:function(){x(a.vh.EXTERNAL_LINK,{bridge:t.name,Link:"Bridge Link"})},href:t.url})}}):(0,c.jsx)(n.cC,{id:"Your {name} wallet is empty. Purchase or transfer assets.",values:{name:r}})})}},59286:function(e,t,r){"use strict";r.d(t,{nG:function(){return a},BC:function(){return l},hF:function(){return c}});var n=r(1279),o=r(70794),i=r(21046),s=r(87385);function a(e,t){var r,a,l,c,d=e.availableLiquidityUSD,u=o.Z.min(t.availableBorrowsUSD,d),p="0"===e.borrowCap?(0,n.hE)(i.Bz.toString()):(0,n.hE)(Number(e.borrowCap)).minus((0,n.hE)(e.totalDebt)),b=o.Z.max(o.Z.min(e.formattedAvailableLiquidity,p),0),x=(0,n.hE)((null===t||void 0===t?void 0:t.availableBorrowsMarketReferenceCurrency)||0).div(e.formattedPriceInMarketReferenceCurrency),h=o.Z.min(x,b),m=h.gte(x)||"0"!==t.totalBorrowsMarketReferenceCurrency&&u.lt(d)||u.eq(d)&&"0"!==e.totalDebt||e.borrowCapUSD&&"0"!==e.totalDebt&&u.gte(d)||t.isInIsolationMode&&"0"!==(null===(r=t.isolatedReserve)||void 0===r?void 0:r.isolationModeTotalDebt)&&(0,n.hE)((null===(a=t.isolatedReserve)||void 0===a?void 0:a.debtCeiling)||"0").minus((null===(l=t.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)||"0").shiftedBy(-((null===(c=t.isolatedReserve)||void 0===c?void 0:c.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(t.availableBorrowsUSD)?h.multipliedBy("0.99"):h;return(0,s.$w)(m.toString(10),e.decimals)}function l(e,t){var r,a,l,c,d=(0,n.hE)((null===e||void 0===e?void 0:e.availableBorrowsMarketReferenceCurrency)||0),u="0"===t.borrowCap?(0,n.hE)(i.Bz.toString()):(0,n.hE)(Number(t.borrowCap)).minus((0,n.hE)(t.totalDebt)),p=o.Z.max(o.Z.min(d,u),0),b="0"!==e.totalBorrowsMarketReferenceCurrency||t.borrowCapUSD&&"0"!==t.totalDebt&&p.gte(u)||e.isInIsolationMode&&"0"!==(null===(r=e.isolatedReserve)||void 0===r?void 0:r.isolationModeTotalDebt)&&(0,n.hE)((null===(a=e.isolatedReserve)||void 0===a?void 0:a.debtCeiling)||"0").minus((null===(l=e.isolatedReserve)||void 0===l?void 0:l.isolationModeTotalDebt)||"0").shiftedBy(-((null===(c=e.isolatedReserve)||void 0===c?void 0:c.debtCeilingDecimals)||0)).multipliedBy("0.99").lt(e.availableBorrowsUSD)?p.multipliedBy("0.99"):p;return(0,s.$w)(b.toString(10),18)}function c(e,t){var r=e.borrowingEnabled,n=e.isActive,o=e.borrowableInIsolation,i=e.eModes,s=e.isFrozen,a=e.isPaused;if(!r||!n||s||a)return!1;if(null!==t&&void 0!==t&&t.isInEmode){var l=i.find((function(e){return e.id===t.userEmodeCategoryId}));return!!l&&l.borrowingEnabled}return!(null!==t&&void 0!==t&&t.isInIsolationMode&&!o)}},86057:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(38537)}])},64343:function(e,t,r){"use strict";var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));t.Z=o}},function(e){e.O(0,[1e3,8682,3629,5903,6843,5465,9774,2888,179],(function(){return t=86057,e(e.s=t);var t}));var t=e.O();_N_E=t}]);